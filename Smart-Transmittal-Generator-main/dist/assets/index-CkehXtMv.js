var TS=Object.defineProperty;var NS=(n,e,t)=>e in n?TS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ln=(n,e,t)=>NS(n,typeof e!="symbol"?e+"":e,t);function CS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var KI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function RS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var zp={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function kS(){if(ty)return yf;ty=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return yf.Fragment=e,yf.jsx=t,yf.jsxs=t,yf}var ny;function LS(){return ny||(ny=1,zp.exports=kS()),zp.exports}var T=LS(),Gp={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function IS(){if(iy)return Vt;iy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=S&&Y[S]||Y["@@iterator"],typeof Y=="function"?Y:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function k(Y,M,G){this.props=Y,this.context=M,this.refs=I,this.updater=G||N}k.prototype.isReactComponent={},k.prototype.setState=function(Y,M){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,M,"setState")},k.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function j(){}j.prototype=k.prototype;function O(Y,M,G){this.props=Y,this.context=M,this.refs=I,this.updater=G||N}var U=O.prototype=new j;U.constructor=O,C(U,k.prototype),U.isPureReactComponent=!0;var ee=Array.isArray;function oe(){}var re={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function H(Y,M,G){var W=G.ref;return{$$typeof:n,type:Y,key:M,ref:W!==void 0?W:null,props:G}}function le(Y,M){return H(Y.type,M,Y.props)}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function $(Y){var M={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(G){return M[G]})}var ie=/\/+/g;function ae(Y,M){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):M.toString(36)}function xe(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(oe,oe):(Y.status="pending",Y.then(function(M){Y.status==="pending"&&(Y.status="fulfilled",Y.value=M)},function(M){Y.status==="pending"&&(Y.status="rejected",Y.reason=M)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function te(Y,M,G,W,ne){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var ve=!1;if(Y===null)ve=!0;else switch(ce){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(Y.$$typeof){case n:case e:ve=!0;break;case p:return ve=Y._init,te(ve(Y._payload),M,G,W,ne)}}if(ve)return ne=ne(Y),ve=W===""?"."+ae(Y,0):W,ee(ne)?(G="",ve!=null&&(G=ve.replace(ie,"$&/")+"/"),te(ne,M,G,"",function(he){return he})):ne!=null&&(F(ne)&&(ne=le(ne,G+(ne.key==null||Y&&Y.key===ne.key?"":(""+ne.key).replace(ie,"$&/")+"/")+ve)),M.push(ne)),1;ve=0;var ke=W===""?".":W+":";if(ee(Y))for(var Re=0;Re<Y.length;Re++)W=Y[Re],ce=ke+ae(W,Re),ve+=te(W,M,G,ce,ne);else if(Re=b(Y),typeof Re=="function")for(Y=Re.call(Y),Re=0;!(W=Y.next()).done;)W=W.value,ce=ke+ae(W,Re++),ve+=te(W,M,G,ce,ne);else if(ce==="object"){if(typeof Y.then=="function")return te(xe(Y),M,G,W,ne);throw M=String(Y),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ve}function pe(Y,M,G){if(Y==null)return Y;var W=[],ne=0;return te(Y,W,"","",function(ce){return M.call(G,ce,ne++)}),W}function ge(Y){if(Y._status===-1){var M=Y._result;M=M(),M.then(function(G){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=G)},function(G){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=G)}),Y._status===-1&&(Y._status=0,Y._result=M)}if(Y._status===1)return Y._result.default;throw Y._result}var Ce=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},je={map:pe,forEach:function(Y,M,G){pe(Y,function(){M.apply(this,arguments)},G)},count:function(Y){var M=0;return pe(Y,function(){M++}),M},toArray:function(Y){return pe(Y,function(M){return M})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Vt.Activity=_,Vt.Children=je,Vt.Component=k,Vt.Fragment=t,Vt.Profiler=s,Vt.PureComponent=O,Vt.StrictMode=i,Vt.Suspense=f,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return re.H.useMemoCache(Y)}},Vt.cache=function(Y){return function(){return Y.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(Y,M,G){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var W=C({},Y.props),ne=Y.key;if(M!=null)for(ce in M.key!==void 0&&(ne=""+M.key),M)!se.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(W[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)W.children=G;else if(1<ce){for(var ve=Array(ce),ke=0;ke<ce;ke++)ve[ke]=arguments[ke+2];W.children=ve}return H(Y.type,ne,W)},Vt.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},Vt.createElement=function(Y,M,G){var W,ne={},ce=null;if(M!=null)for(W in M.key!==void 0&&(ce=""+M.key),M)se.call(M,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ne[W]=M[W]);var ve=arguments.length-2;if(ve===1)ne.children=G;else if(1<ve){for(var ke=Array(ve),Re=0;Re<ve;Re++)ke[Re]=arguments[Re+2];ne.children=ke}if(Y&&Y.defaultProps)for(W in ve=Y.defaultProps,ve)ne[W]===void 0&&(ne[W]=ve[W]);return H(Y,ce,ne)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(Y){return{$$typeof:c,render:Y}},Vt.isValidElement=F,Vt.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ge}},Vt.memo=function(Y,M){return{$$typeof:d,type:Y,compare:M===void 0?null:M}},Vt.startTransition=function(Y){var M=re.T,G={};re.T=G;try{var W=Y(),ne=re.S;ne!==null&&ne(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(oe,Ce)}catch(ce){Ce(ce)}finally{M!==null&&G.types!==null&&(M.types=G.types),re.T=M}},Vt.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Vt.use=function(Y){return re.H.use(Y)},Vt.useActionState=function(Y,M,G){return re.H.useActionState(Y,M,G)},Vt.useCallback=function(Y,M){return re.H.useCallback(Y,M)},Vt.useContext=function(Y){return re.H.useContext(Y)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(Y,M){return re.H.useDeferredValue(Y,M)},Vt.useEffect=function(Y,M){return re.H.useEffect(Y,M)},Vt.useEffectEvent=function(Y){return re.H.useEffectEvent(Y)},Vt.useId=function(){return re.H.useId()},Vt.useImperativeHandle=function(Y,M,G){return re.H.useImperativeHandle(Y,M,G)},Vt.useInsertionEffect=function(Y,M){return re.H.useInsertionEffect(Y,M)},Vt.useLayoutEffect=function(Y,M){return re.H.useLayoutEffect(Y,M)},Vt.useMemo=function(Y,M){return re.H.useMemo(Y,M)},Vt.useOptimistic=function(Y,M){return re.H.useOptimistic(Y,M)},Vt.useReducer=function(Y,M,G){return re.H.useReducer(Y,M,G)},Vt.useRef=function(Y){return re.H.useRef(Y)},Vt.useState=function(Y){return re.H.useState(Y)},Vt.useSyncExternalStore=function(Y,M,G){return re.H.useSyncExternalStore(Y,M,G)},Vt.useTransition=function(){return re.H.useTransition()},Vt.version="19.2.0",Vt}var ry;function v0(){return ry||(ry=1,Gp.exports=IS()),Gp.exports}var We=v0();const MS=y0(We);var Vp={exports:{}},vf={},$p={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function PS(){return sy||(sy=1,(function(n){function e(te,pe){var ge=te.length;te.push(pe);e:for(;0<ge;){var Ce=ge-1>>>1,je=te[Ce];if(0<s(je,pe))te[Ce]=pe,te[ge]=je,ge=Ce;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var pe=te[0],ge=te.pop();if(ge!==pe){te[0]=ge;e:for(var Ce=0,je=te.length,Y=je>>>1;Ce<Y;){var M=2*(Ce+1)-1,G=te[M],W=M+1,ne=te[W];if(0>s(G,ge))W<je&&0>s(ne,G)?(te[Ce]=ne,te[W]=ge,Ce=W):(te[Ce]=G,te[M]=ge,Ce=M);else if(W<je&&0>s(ne,ge))te[Ce]=ne,te[W]=ge,Ce=W;else break e}}return pe}function s(te,pe){var ge=te.sortIndex-pe.sortIndex;return ge!==0?ge:te.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,_=null,S=3,b=!1,N=!1,C=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function U(te){for(var pe=t(d);pe!==null;){if(pe.callback===null)i(d);else if(pe.startTime<=te)i(d),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(d)}}function ee(te){if(C=!1,U(te),!N)if(t(f)!==null)N=!0,oe||(oe=!0,$());else{var pe=t(d);pe!==null&&xe(ee,pe.startTime-te)}}var oe=!1,re=-1,se=5,H=-1;function le(){return I?!0:!(n.unstable_now()-H<se)}function F(){if(I=!1,oe){var te=n.unstable_now();H=te;var pe=!0;try{e:{N=!1,C&&(C=!1,j(re),re=-1),b=!0;var ge=S;try{t:{for(U(te),_=t(f);_!==null&&!(_.expirationTime>te&&le());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,S=_.priorityLevel;var je=Ce(_.expirationTime<=te);if(te=n.unstable_now(),typeof je=="function"){_.callback=je,U(te),pe=!0;break t}_===t(f)&&i(f),U(te)}else i(f);_=t(f)}if(_!==null)pe=!0;else{var Y=t(d);Y!==null&&xe(ee,Y.startTime-te),pe=!1}}break e}finally{_=null,S=ge,b=!1}pe=void 0}}finally{pe?$():oe=!1}}}var $;if(typeof O=="function")$=function(){O(F)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=F,$=function(){ae.postMessage(null)}}else $=function(){k(F,0)};function xe(te,pe){re=k(function(){te(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(te){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var ge=S;S=pe;try{return te()}finally{S=ge}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ge=S;S=te;try{return pe()}finally{S=ge}},n.unstable_scheduleCallback=function(te,pe,ge){var Ce=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ce+ge:Ce):ge=Ce,te){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ge+je,te={id:p++,callback:pe,priorityLevel:te,startTime:ge,expirationTime:je,sortIndex:-1},ge>Ce?(te.sortIndex=ge,e(d,te),t(f)===null&&te===t(d)&&(C?(j(re),re=-1):C=!0,xe(ee,ge-Ce))):(te.sortIndex=je,e(f,te),N||b||(N=!0,oe||(oe=!0,$()))),te},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(te){var pe=S;return function(){var ge=S;S=pe;try{return te.apply(this,arguments)}finally{S=ge}}}})(Jp)),Jp}var ay;function DS(){return ay||(ay=1,$p.exports=PS()),$p.exports}var Yp={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function OS(){if(oy)return Sr;oy=1;var n=v0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,d,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sr.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,p)},Sr.flushSync=function(f){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=p,i.d.f()}},Sr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Sr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Sr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,_=c(p,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:b}):p==="script"&&i.d.X(f,{crossOrigin:_,integrity:S,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Sr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Sr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,_=c(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Sr.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Sr.requestFormReset=function(f){i.d.r(f)},Sr.unstable_batchedUpdates=function(f,d){return f(d)},Sr.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},Sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sr.version="19.2.0",Sr}var ly;function US(){if(ly)return Yp.exports;ly=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=OS(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function BS(){if(uy)return vf;uy=1;var n=DS(),e=v0(),t=US();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,h=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return f(v),r;if(x===h)return f(v),o;x=x.sibling}throw Error(i(188))}if(u.return!==h.return)u=v,h=x;else{for(var L=!1,z=v.child;z;){if(z===u){L=!0,u=v,h=x;break}if(z===h){L=!0,h=v,u=x;break}z=z.sibling}if(!L){for(z=x.child;z;){if(z===u){L=!0,u=x,h=v;break}if(z===h){L=!0,h=x,u=v;break}z=z.sibling}if(!L)throw Error(i(189))}}if(u.alternate!==h)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function p(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=p(r),o!==null)return o;r=r.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ie?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case ee:return"Suspense";case oe:return"SuspenseList";case H:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case O:return r.displayName||"Context";case j:return(r._context.displayName||"Context")+".Consumer";case U:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case re:return o=r.displayName||null,o!==null?o:ae(r.type)||"Memo";case se:o=r._payload,r=r._init;try{return ae(r(o))}catch{}}return null}var xe=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ce=[],je=-1;function Y(r){return{current:r}}function M(r){0>je||(r.current=Ce[je],Ce[je]=null,je--)}function G(r,o){je++,Ce[je]=r.current,r.current=o}var W=Y(null),ne=Y(null),ce=Y(null),ve=Y(null);function ke(r,o){switch(G(ce,o),G(ne,r),G(W,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?A1(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=A1(o),r=E1(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}M(W),G(W,r)}function Re(){M(W),M(ne),M(ce)}function he(r){r.memoizedState!==null&&G(ve,r);var o=W.current,u=E1(o,r.type);o!==u&&(G(ne,r),G(W,u))}function Oe(r){ne.current===r&&(M(W),M(ne)),ve.current===r&&(M(ve),hf._currentValue=ge)}var et,Qe;function ot(r){if(et===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);et=o&&o[1]||"",Qe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+r+Qe}var K=!1;function Xe(r,o){if(!r||K)return"";K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ie){var Le=Ie}Reflect.construct(r,[],He)}else{try{He.call()}catch(Ie){Le=Ie}r.call(He.prototype)}}else{try{throw Error()}catch(Ie){Le=Ie}(He=r())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ie){if(Ie&&Le&&typeof Ie.stack=="string")return[Ie.stack,Le.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),L=x[0],z=x[1];if(L&&z){var ue=L.split(`
`),Ne=z.split(`
`);for(v=h=0;h<ue.length&&!ue[h].includes("DetermineComponentFrameRoot");)h++;for(;v<Ne.length&&!Ne[v].includes("DetermineComponentFrameRoot");)v++;if(h===ue.length||v===Ne.length)for(h=ue.length-1,v=Ne.length-1;1<=h&&0<=v&&ue[h]!==Ne[v];)v--;for(;1<=h&&0<=v;h--,v--)if(ue[h]!==Ne[v]){if(h!==1||v!==1)do if(h--,v--,0>v||ue[h]!==Ne[v]){var Ue=`
`+ue[h].replace(" at new "," at ");return r.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",r.displayName)),Ue}while(1<=h&&0<=v);break}}}finally{K=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ot(u):""}function qt(r,o){switch(r.tag){case 26:case 27:case 5:return ot(r.type);case 16:return ot("Lazy");case 13:return r.child!==o&&o!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return Xe(r.type,!1);case 11:return Xe(r.type.render,!1);case 1:return Xe(r.type,!0);case 31:return ot("Activity");default:return""}}function At(r){try{var o="",u=null;do o+=qt(r,u),u=r,r=r.return;while(r);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ve=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,it=n.unstable_cancelCallback,Et=n.unstable_shouldYield,_t=n.unstable_requestPaint,jt=n.unstable_now,Kt=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,Xt=n.unstable_UserBlockingPriority,Ht=n.unstable_NormalPriority,pt=n.unstable_LowPriority,Ut=n.unstable_IdlePriority,mt=n.log,Jn=n.unstable_setDisableYieldValue,Yt=null,Nt=null;function Mt(r){if(typeof mt=="function"&&Jn(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Yt,r)}catch{}}var Zt=Math.clz32?Math.clz32:de,xt=Math.log,Tn=Math.LN2;function de(r){return r>>>=0,r===0?32:31-(xt(r)/Tn|0)|0}var Je=256,Me=262144,at=4194304;function Ze(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ye(r,o,u){var h=r.pendingLanes;if(h===0)return 0;var v=0,x=r.suspendedLanes,L=r.pingedLanes;r=r.warmLanes;var z=h&134217727;return z!==0?(h=z&~x,h!==0?v=Ze(h):(L&=z,L!==0?v=Ze(L):u||(u=z&~r,u!==0&&(v=Ze(u))))):(z=h&~x,z!==0?v=Ze(z):L!==0?v=Ze(L):u||(u=h&~r,u!==0&&(v=Ze(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function tt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Mn(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pi(){var r=at;return at<<=1,(at&62914560)===0&&(at=4194304),r}function Qi(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function gt(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function jr(r,o,u,h,v,x){var L=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var z=r.entanglements,ue=r.expirationTimes,Ne=r.hiddenUpdates;for(u=L&~u;0<u;){var Ue=31-Zt(u),He=1<<Ue;z[Ue]=0,ue[Ue]=-1;var Le=Ne[Ue];if(Le!==null)for(Ne[Ue]=null,Ue=0;Ue<Le.length;Ue++){var Ie=Le[Ue];Ie!==null&&(Ie.lane&=-536870913)}u&=~He}h!==0&&kr(r,h,0),x!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=x&~(L&~o))}function kr(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var h=31-Zt(o);r.entangledLanes|=o,r.entanglements[h]=r.entanglements[h]|1073741824|u&261930}function Di(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var h=31-Zt(u),v=1<<h;v&o|r[h]&o&&(r[h]|=o),u&=~v}}function li(r,o){var u=o&-o;return u=(u&42)!==0?1:Nn(u),(u&(r.suspendedLanes|o))!==0?0:u}function Nn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Yn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ui(){var r=pe.p;return r!==0?r:(r=window.event,r===void 0?32:Y1(r.type))}function Lr(r,o){var u=pe.p;try{return pe.p=r,o()}finally{pe.p=u}}var Oi=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Oi,jn="__reactProps$"+Oi,Ti="__reactContainer$"+Oi,gr="__reactEvents$"+Oi,yr="__reactListeners$"+Oi,Aa="__reactHandles$"+Oi,Ir="__reactResources$"+Oi,vr="__reactMarker$"+Oi;function an(r){delete r[Sn],delete r[jn],delete r[gr],delete r[yr],delete r[Aa]}function ni(r){var o=r[Sn];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ti]||u[Sn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=I1(r);r!==null;){if(u=r[Sn])return u;r=I1(r)}return o}r=u,u=r.parentNode}return null}function vn(r){if(r=r[Sn]||r[Ti]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Ja(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function As(r){var o=r[Ir];return o||(o=r[Ir]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ci(r){r[vr]=!0}var vl=new Set,Mr={};function as(r,o){zs(r,o),zs(r+"Capture",o)}function zs(r,o){for(Mr[r]=o,r=0;r<o.length;r++)vl.add(o[r])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},wl={};function hu(r){return Ve.call(wl,r)?!0:Ve.call(_l,r)?!1:bl.test(r)?wl[r]=!0:(_l[r]=!0,!1)}function Pr(r,o,u){if(hu(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Gs(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function os(r,o,u,h){if(h===null)r.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+h)}}function mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Sl(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Es(r,o,u){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(L){u=""+L,x.call(this,L)}}),Object.defineProperty(r,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(L){u=""+L},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ea(r){if(!r._valueTracker){var o=Sl(r)?"checked":"value";r._valueTracker=Es(r,o,""+r[o])}}function xl(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return r&&(h=Sl(r)?r.checked?"true":"false":r.value),r=h,r!==u?(o.setValue(r),!0):!1}function or(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ni=/[\n"\\]/g;function yi(r){return r.replace(Ni,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ko(r,o,u,h,v,x,L,z){r.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.type=L:r.removeAttribute("type"),o!=null?L==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+mn(o)):r.value!==""+mn(o)&&(r.value=""+mn(o)):L!=="submit"&&L!=="reset"||r.removeAttribute("value"),o!=null?Al(r,L,mn(o)):u!=null?Al(r,L,mn(u)):h!=null&&r.removeAttribute("value"),v==null&&x!=null&&(r.defaultChecked=!!x),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.name=""+mn(z):r.removeAttribute("name")}function pu(r,o,u,h,v,x,L,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Ea(r);return}u=u!=null?""+mn(u):"",o=o!=null?""+mn(o):u,z||o===r.value||(r.value=o),r.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=z?r.checked:!!h,r.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.name=L),Ea(r)}function Al(r,o,u){o==="number"&&or(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function lr(r,o,u,h){if(r=r.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=o.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&h&&(r[u].defaultSelected=!0)}else{for(u=""+mn(u),o=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,h&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function El(r,o,u){if(o!=null&&(o=""+mn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+mn(u):""}function Tl(r,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(i(92));if(xe(h)){if(1<h.length)throw Error(i(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=mn(o),r.defaultValue=u,h=r.textContent,h===u&&h!==""&&h!==null&&(r.value=h),Ea(r)}function ls(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(r,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":h?r.setProperty(o,u):typeof u!="number"||u===0||Ya.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function gu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&u[v]!==h&&mu(r,v,h)}else for(var x in o)o.hasOwnProperty(x)&&mu(r,x,o[x])}function Nl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(r){return yu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function us(){}var Vs=null;function Wa(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ta=null,kt=null;function vu(r){var o=vn(r);if(o&&(r=o.stateNode)){var u=r[jn]||null;e:switch(r=o.stateNode,o.type){case"input":if(ko(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+yi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==r&&h.form===r.form){var v=h[jn]||null;if(!v)throw Error(i(90));ko(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===r.form&&xl(h)}break e;case"textarea":El(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&lr(r,!!u.multiple,o,!1)}}}var Rl=!1;function bu(r,o,u){if(Rl)return r(o,u);Rl=!0;try{var h=r(o);return h}finally{if(Rl=!1,(Ta!==null||kt!==null)&&(ld(),Ta&&(o=Ta,r=kt,kt=Ta=null,vu(o),r)))for(o=0;o<r.length;o++)vu(r[o])}}function Dr(r,o){var u=r.stateNode;if(u===null)return null;var h=u[jn]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=!1;if(zi)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){kl=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{kl=!1}var Or=null,Xa=null,Ts=null;function _u(){if(Ts)return Ts;var r,o=Xa,u=o.length,h,v="value"in Or?Or.value:Or.textContent,x=v.length;for(r=0;r<u&&o[r]===v[r];r++);var L=u-r;for(h=1;h<=L&&o[u-h]===v[x-h];h++);return Ts=v.slice(r,1<h?1-h:void 0)}function Hr(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Lo(){return!0}function Io(){return!1}function Ui(r){function o(u,h,v,x,L){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(u=r[z],this[z]=u?u(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Lo:Io,this.isPropagationStopped=Io,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),o}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=Ui(Ns),$s=_({},Ns,{view:0,detail:0}),Mo=Ui($s),Za,Js,Ys,Qa=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ys&&(Ys&&r.type==="mousemove"?(Za=r.screenX-Ys.screenX,Js=r.screenY-Ys.screenY):Js=Za=0,Ys=r),Za)},movementY:function(r){return"movementY"in r?r.movementY:Js}}),Ll=Ui(Qa),Ws=_({},Qa,{dataTransfer:0}),Ks=Ui(Ws),wu=_({},$s,{relatedTarget:0}),Xs=Ui(wu),Su=_({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),A=Ui(Su),P=_({},Ns,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Q=Ui(P),fe=_({},Ns,{data:0}),_e=Ui(fe),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yt(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=ut[r])?!!o[r]:!1}function Pt(){return yt}var zt=_({},$s,{key:function(r){if(r.key){var o=Be[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Hr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ge[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pt,charCode:function(r){return r.type==="keypress"?Hr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),un=Ui(zt),Wn=_({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=Ui(Wn),Pn=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pt}),Ci=Ui(Pn),vi=_({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gi=Ui(vi),Zs=_({},Qa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=Ui(Zs),Qs=_({},Ns,{newState:0,oldState:0}),Il=Ui(Qs),Po=[9,13,27,32],Cs=zi&&"CompositionEvent"in window,fs=null;zi&&"documentMode"in document&&(fs=document.documentMode);var eo=zi&&"TextEvent"in window&&!fs,ea=zi&&(!Cs||fs&&8<fs&&11>=fs),Bi=" ",Na=!1;function Ca(r,o){switch(r){case"keyup":return Po.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Rs=!1;function ur(r,o){switch(r){case"compositionend":return Do(o);case"keypress":return o.which!==32?null:(Na=!0,Bi);case"textInput":return r=o.data,r===Bi&&Na?null:r;default:return null}}function ta(r,o){if(Rs)return r==="compositionend"||!Cs&&Ca(r,o)?(r=_u(),Ts=Xa=Or=null,Rs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ea&&o.locale!=="ko"?null:o.data;default:return null}}var Oo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Oo[r.type]:o==="textarea"}function Ur(r,o,u,h){Ta?kt?kt.push(h):kt=[h]:Ta=h,o=md(o,"onChange"),0<o.length&&(u=new zr("onChange","change",null,u,h),r.push({event:u,listeners:o}))}var ds=null,na=null;function Pl(r){v1(r,0)}function hs(r){var o=Ja(r);if(xl(o))return r}function Ra(r,o){if(r==="change")return o}var _r=!1;if(zi){var cr;if(zi){var ks="oninput"in document;if(!ks){var Ls=document.createElement("div");Ls.setAttribute("oninput","return;"),ks=typeof Ls.oninput=="function"}cr=ks}else cr=!1;_r=cr&&(!document.documentMode||9<document.documentMode)}function ia(){ds&&(ds.detachEvent("onpropertychange",Uo),na=ds=null)}function Uo(r){if(r.propertyName==="value"&&hs(na)){var o=[];Ur(o,na,r,Wa(r)),bu(Pl,o)}}function Bo(r,o,u){r==="focusin"?(ia(),ds=o,na=u,ds.attachEvent("onpropertychange",Uo)):r==="focusout"&&ia()}function di(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hs(na)}function xu(r,o){if(r==="click")return hs(o)}function Is(r,o){if(r==="input"||r==="change")return hs(o)}function Ms(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Vi=typeof Object.is=="function"?Object.is:Ms;function ra(r,o){if(Vi(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Ve.call(o,v)||!Vi(r[v],o[v]))return!1}return!0}function Fo(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qo(r,o){var u=Fo(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=o&&h>=o)return{node:u,offset:o-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Fo(u)}}function sa(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?sa(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function aa(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=or(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=or(r.document)}return o}function Ps(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var to=zi&&"documentMode"in document&&11>=document.documentMode,Br=null,oa=null,er=null,Gr=!1;function gn(r,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gr||Br==null||Br!==or(h)||(h=Br,"selectionStart"in h&&Ps(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),er&&ra(er,h)||(er=h,h=md(oa,"onSelect"),0<h.length&&(o=new zr("onSelect","select",null,o,u),r.push({event:o,listeners:h}),o.target=Br)))}function cn(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Dn={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},hi={},Ds={};zi&&(Ds=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function ps(r){if(hi[r])return hi[r];if(!Dn[r])return r;var o=Dn[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Ds)return hi[r]=o[u];return r}var no=ps("animationend"),Dl=ps("animationiteration"),Dc=ps("animationstart"),Bf=ps("transitionrun"),Ff=ps("transitionstart"),qf=ps("transitioncancel"),Oc=ps("transitionend"),Uc=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function Vr(r,o){Uc.set(r,o),as(o,[r])}var Ol=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Fr=[],ro=0,Au=0;function Ul(){for(var r=ro,o=Au=ro=0;o<r;){var u=Fr[o];Fr[o++]=null;var h=Fr[o];Fr[o++]=null;var v=Fr[o];Fr[o++]=null;var x=Fr[o];if(Fr[o++]=null,h!==null&&v!==null){var L=h.pending;L===null?v.next=v:(v.next=L.next,L.next=v),h.pending=v}x!==0&&Fl(u,v,x)}}function Bl(r,o,u,h){Fr[ro++]=r,Fr[ro++]=o,Fr[ro++]=u,Fr[ro++]=h,Au|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Eu(r,o,u,h){return Bl(r,o,u,h),tr(r)}function la(r,o){return Bl(r,null,null,o),tr(r)}function Fl(r,o,u){r.lanes|=u;var h=r.alternate;h!==null&&(h.lanes|=u);for(var v=!1,x=r.return;x!==null;)x.childLanes|=u,h=x.alternate,h!==null&&(h.childLanes|=u),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(v=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,v&&o!==null&&(v=31-Zt(u),r=x.hiddenUpdates,h=r[v],h===null?r[v]=[o]:h.push(o),o.lane=u|536870912),x):null}function tr(r){if(50<af)throw af=0,hp=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var $i={};function Tu(r,o,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,o,u,h){return new Tu(r,o,u,h)}function Nu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $r(r,o){var u=r.alternate;return u===null?(u=nr(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function ql(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function jo(r,o,u,h,v,x){var L=0;if(h=r,typeof r=="function")Nu(r)&&(L=1);else if(typeof r=="string")L=pS(r,u,W.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case H:return r=nr(31,u,o,v),r.elementType=H,r.lanes=x,r;case C:return ka(u.children,v,x,o);case I:L=8,v|=24;break;case k:return r=nr(12,u,o,v|2),r.elementType=k,r.lanes=x,r;case ee:return r=nr(13,u,o,v),r.elementType=ee,r.lanes=x,r;case oe:return r=nr(19,u,o,v),r.elementType=oe,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:L=10;break e;case j:L=9;break e;case U:L=11;break e;case re:L=14;break e;case se:L=16,h=null;break e}L=29,u=Error(i(130,r===null?"null":typeof r,"")),h=null}return o=nr(L,u,o,v),o.elementType=r,o.type=h,o.lanes=x,o}function ka(r,o,u,h){return r=nr(7,r,h,o),r.lanes=u,r}function jl(r,o,u){return r=nr(6,r,null,o),r.lanes=u,r}function Cu(r){var o=nr(18,null,null,0);return o.stateNode=r,o}function Ho(r,o,u){return o=nr(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ru=new WeakMap;function Jr(r,o){if(typeof r=="object"&&r!==null){var u=Ru.get(r);return u!==void 0?u:(o={value:r,source:o,stack:At(o)},Ru.set(r,o),o)}return{value:r,source:o,stack:At(o)}}var zo=[],so=0,ku=null,Hl=0,Yr=[],Wr=0,La=null,Kr=1,Xr="";function qr(r,o){zo[so++]=Hl,zo[so++]=ku,ku=r,Hl=o}function jf(r,o,u){Yr[Wr++]=Kr,Yr[Wr++]=Xr,Yr[Wr++]=La,La=r;var h=Kr;r=Xr;var v=32-Zt(h)-1;h&=~(1<<v),u+=1;var x=32-Zt(o)+v;if(30<x){var L=v-v%5;x=(h&(1<<L)-1).toString(32),h>>=L,v-=L,Kr=1<<32-Zt(o)+v|u<<v|h,Xr=x+r}else Kr=1<<x|u<<v|h,Xr=r}function Bc(r){r.return!==null&&(qr(r,1),jf(r,1,0))}function Lu(r){for(;r===ku;)ku=zo[--so],zo[so]=null,Hl=zo[--so],zo[so]=null;for(;r===La;)La=Yr[--Wr],Yr[Wr]=null,Xr=Yr[--Wr],Yr[Wr]=null,Kr=Yr[--Wr],Yr[Wr]=null}function Hf(r,o){Yr[Wr++]=Kr,Yr[Wr++]=Xr,Yr[Wr++]=La,Kr=o.id,Xr=o.overflow,La=r}var Ji=null,Hn=null,nn=!1,fr=null,ii=!1,ms=Error(i(519));function Ia(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Jr(o,r)),ms}function Fc(r){var o=r.stateNode,u=r.type,h=r.memoizedProps;switch(o[Sn]=r,o[jn]=h,u){case"dialog":sn("cancel",o),sn("close",o);break;case"iframe":case"object":case"embed":sn("load",o);break;case"video":case"audio":for(u=0;u<lf.length;u++)sn(lf[u],o);break;case"source":sn("error",o);break;case"img":case"image":case"link":sn("error",o),sn("load",o);break;case"details":sn("toggle",o);break;case"input":sn("invalid",o),pu(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":sn("invalid",o);break;case"textarea":sn("invalid",o),Tl(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||S1(o.textContent,u)?(h.popover!=null&&(sn("beforetoggle",o),sn("toggle",o)),h.onScroll!=null&&sn("scroll",o),h.onScrollEnd!=null&&sn("scrollend",o),h.onClick!=null&&(o.onclick=us),o=!0):o=!1,o||Ia(r,!0)}function ua(r){for(Ji=r.return;Ji;)switch(Ji.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:Ji=Ji.return}}function Yi(r){if(r!==Ji)return!1;if(!nn)return ua(r),nn=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Cp(r.type,r.memoizedProps)),u=!u),u&&Hn&&Ia(r),ua(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Hn=L1(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Hn=L1(r)}else o===27?(o=Hn,rl(r.type)?(r=Mp,Mp=null,Hn=r):Hn=o):Hn=Ji?Fs(r.stateNode.nextSibling):null;return!0}function ao(){Hn=Ji=null,nn=!1}function qc(){var r=fr;return r!==null&&(is===null?is=r:is.push.apply(is,r),fr=null),r}function Go(r){fr===null?fr=[r]:fr.push(r)}var Iu=Y(null),Ma=null,Os=null;function Pa(r,o,u){G(Iu,o._currentValue),o._currentValue=u}function Zr(r){r._currentValue=Iu.current,M(Iu)}function Vo(r,o,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),r===u)break;r=r.return}}function oo(r,o,u,h){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var x=v.dependencies;if(x!==null){var L=v.child;x=x.firstContext;e:for(;x!==null;){var z=x;x=v;for(var ue=0;ue<o.length;ue++)if(z.context===o[ue]){x.lanes|=u,z=x.alternate,z!==null&&(z.lanes|=u),Vo(x.return,u,r),h||(L=null);break e}x=z.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(i(341));L.lanes|=u,x=L.alternate,x!==null&&(x.lanes|=u),Vo(L,u,r),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===r){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Da(r,o,u,h){r=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var z=v.type;Vi(v.pendingProps.value,L.value)||(r!==null?r.push(z):r=[z])}}else if(v===ve.current){if(L=v.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(hf):r=[hf])}v=v.return}r!==null&&oo(o,r,u,h),o.flags|=262144}function Mu(r){for(r=r.firstContext;r!==null;){if(!Vi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Oa(r){Ma=r,Os=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wi(r){return zf(Ma,r)}function Pu(r,o){return Ma===null&&Oa(r),zf(r,o)}function zf(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Os===null){if(r===null)throw Error(i(308));Os=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Os=Os.next=o;return u}var Ih=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,h){r.push(h)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},Mh=n.unstable_scheduleCallback,Ph=n.unstable_NormalPriority,pi={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $o(){return{controller:new Ih,data:new Map,refCount:0}}function zl(r){r.refCount--,r.refCount===0&&Mh(Ph,function(){r.controller.abort()})}var Gl=null,Du=0,g=0,w=null;function E(r,o){if(Gl===null){var u=Gl=[];Du=0,g=bp(),w={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Du++,o.then(R,R),o}function R(){if(--Du===0&&Gl!==null){w!==null&&(w.status="fulfilled");var r=Gl;Gl=null,g=0,w=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function D(r,o){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return r.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var B=te.S;te.S=function(r,o){$g=jt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&E(r,o),B!==null&&B(r,o)};var q=Y(null);function V(){var r=q.current;return r!==null?r:Gn.pooledCache}function J(r,o){o===null?G(q,q.current):G(q,o.pool)}function Z(){var r=V();return r===null?null:{parent:pi._currentValue,pool:r}}var me=Error(i(460)),Ee=Error(i(474)),X=Error(i(542)),be={then:function(){}};function Se(r){return r=r.status,r==="fulfilled"||r==="rejected"}function De(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(us,us),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,$e(r),r;default:if(typeof o.status=="string")o.then(us,us);else{if(r=Gn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,$e(r),r}throw Pe=o,me}}function Ae(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Pe=u,me):u}}var Pe=null;function Fe(){if(Pe===null)throw Error(i(459));var r=Pe;return Pe=null,r}function $e(r){if(r===me||r===X)throw Error(i(483))}var ze=null,dt=0;function rt(r){var o=dt;return dt+=1,ze===null&&(ze=[]),De(ze,r,o)}function Bt(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function lt(r,o){throw o.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function tn(r){function o(we,ye){if(r){var Te=we.deletions;Te===null?(we.deletions=[ye],we.flags|=16):Te.push(ye)}}function u(we,ye){if(!r)return null;for(;ye!==null;)o(we,ye),ye=ye.sibling;return null}function h(we){for(var ye=new Map;we!==null;)we.key!==null?ye.set(we.key,we):ye.set(we.index,we),we=we.sibling;return ye}function v(we,ye){return we=$r(we,ye),we.index=0,we.sibling=null,we}function x(we,ye,Te){return we.index=Te,r?(Te=we.alternate,Te!==null?(Te=Te.index,Te<ye?(we.flags|=67108866,ye):Te):(we.flags|=67108866,ye)):(we.flags|=1048576,ye)}function L(we){return r&&we.alternate===null&&(we.flags|=67108866),we}function z(we,ye,Te,qe){return ye===null||ye.tag!==6?(ye=jl(Te,we.mode,qe),ye.return=we,ye):(ye=v(ye,Te),ye.return=we,ye)}function ue(we,ye,Te,qe){var Rt=Te.type;return Rt===C?Ue(we,ye,Te.props.children,qe,Te.key):ye!==null&&(ye.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===se&&Ae(Rt)===ye.type)?(ye=v(ye,Te.props),Bt(ye,Te),ye.return=we,ye):(ye=jo(Te.type,Te.key,Te.props,null,we.mode,qe),Bt(ye,Te),ye.return=we,ye)}function Ne(we,ye,Te,qe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Te.containerInfo||ye.stateNode.implementation!==Te.implementation?(ye=Ho(Te,we.mode,qe),ye.return=we,ye):(ye=v(ye,Te.children||[]),ye.return=we,ye)}function Ue(we,ye,Te,qe,Rt){return ye===null||ye.tag!==7?(ye=ka(Te,we.mode,qe,Rt),ye.return=we,ye):(ye=v(ye,Te),ye.return=we,ye)}function He(we,ye,Te){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=jl(""+ye,we.mode,Te),ye.return=we,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Te=jo(ye.type,ye.key,ye.props,null,we.mode,Te),Bt(Te,ye),Te.return=we,Te;case N:return ye=Ho(ye,we.mode,Te),ye.return=we,ye;case se:return ye=Ae(ye),He(we,ye,Te)}if(xe(ye)||$(ye))return ye=ka(ye,we.mode,Te,null),ye.return=we,ye;if(typeof ye.then=="function")return He(we,rt(ye),Te);if(ye.$$typeof===O)return He(we,Pu(we,ye),Te);lt(we,ye)}return null}function Le(we,ye,Te,qe){var Rt=ye!==null?ye.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Rt!==null?null:z(we,ye,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return Te.key===Rt?ue(we,ye,Te,qe):null;case N:return Te.key===Rt?Ne(we,ye,Te,qe):null;case se:return Te=Ae(Te),Le(we,ye,Te,qe)}if(xe(Te)||$(Te))return Rt!==null?null:Ue(we,ye,Te,qe,null);if(typeof Te.then=="function")return Le(we,ye,rt(Te),qe);if(Te.$$typeof===O)return Le(we,ye,Pu(we,Te),qe);lt(we,Te)}return null}function Ie(we,ye,Te,qe,Rt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return we=we.get(Te)||null,z(ye,we,""+qe,Rt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case b:return we=we.get(qe.key===null?Te:qe.key)||null,ue(ye,we,qe,Rt);case N:return we=we.get(qe.key===null?Te:qe.key)||null,Ne(ye,we,qe,Rt);case se:return qe=Ae(qe),Ie(we,ye,Te,qe,Rt)}if(xe(qe)||$(qe))return we=we.get(Te)||null,Ue(ye,we,qe,Rt,null);if(typeof qe.then=="function")return Ie(we,ye,Te,rt(qe),Rt);if(qe.$$typeof===O)return Ie(we,ye,Te,Pu(ye,qe),Rt);lt(ye,qe)}return null}function ct(we,ye,Te,qe){for(var Rt=null,bn=null,vt=ye,Wt=ye=0,ln=null;vt!==null&&Wt<Te.length;Wt++){vt.index>Wt?(ln=vt,vt=null):ln=vt.sibling;var _n=Le(we,vt,Te[Wt],qe);if(_n===null){vt===null&&(vt=ln);break}r&&vt&&_n.alternate===null&&o(we,vt),ye=x(_n,ye,Wt),bn===null?Rt=_n:bn.sibling=_n,bn=_n,vt=ln}if(Wt===Te.length)return u(we,vt),nn&&qr(we,Wt),Rt;if(vt===null){for(;Wt<Te.length;Wt++)vt=He(we,Te[Wt],qe),vt!==null&&(ye=x(vt,ye,Wt),bn===null?Rt=vt:bn.sibling=vt,bn=vt);return nn&&qr(we,Wt),Rt}for(vt=h(vt);Wt<Te.length;Wt++)ln=Ie(vt,we,Wt,Te[Wt],qe),ln!==null&&(r&&ln.alternate!==null&&vt.delete(ln.key===null?Wt:ln.key),ye=x(ln,ye,Wt),bn===null?Rt=ln:bn.sibling=ln,bn=ln);return r&&vt.forEach(function(ul){return o(we,ul)}),nn&&qr(we,Wt),Rt}function It(we,ye,Te,qe){if(Te==null)throw Error(i(151));for(var Rt=null,bn=null,vt=ye,Wt=ye=0,ln=null,_n=Te.next();vt!==null&&!_n.done;Wt++,_n=Te.next()){vt.index>Wt?(ln=vt,vt=null):ln=vt.sibling;var ul=Le(we,vt,_n.value,qe);if(ul===null){vt===null&&(vt=ln);break}r&&vt&&ul.alternate===null&&o(we,vt),ye=x(ul,ye,Wt),bn===null?Rt=ul:bn.sibling=ul,bn=ul,vt=ln}if(_n.done)return u(we,vt),nn&&qr(we,Wt),Rt;if(vt===null){for(;!_n.done;Wt++,_n=Te.next())_n=He(we,_n.value,qe),_n!==null&&(ye=x(_n,ye,Wt),bn===null?Rt=_n:bn.sibling=_n,bn=_n);return nn&&qr(we,Wt),Rt}for(vt=h(vt);!_n.done;Wt++,_n=Te.next())_n=Ie(vt,we,Wt,_n.value,qe),_n!==null&&(r&&_n.alternate!==null&&vt.delete(_n.key===null?Wt:_n.key),ye=x(_n,ye,Wt),bn===null?Rt=_n:bn.sibling=_n,bn=_n);return r&&vt.forEach(function(ES){return o(we,ES)}),nn&&qr(we,Wt),Rt}function Fn(we,ye,Te,qe){if(typeof Te=="object"&&Te!==null&&Te.type===C&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:e:{for(var Rt=Te.key;ye!==null;){if(ye.key===Rt){if(Rt=Te.type,Rt===C){if(ye.tag===7){u(we,ye.sibling),qe=v(ye,Te.props.children),qe.return=we,we=qe;break e}}else if(ye.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===se&&Ae(Rt)===ye.type){u(we,ye.sibling),qe=v(ye,Te.props),Bt(qe,Te),qe.return=we,we=qe;break e}u(we,ye);break}else o(we,ye);ye=ye.sibling}Te.type===C?(qe=ka(Te.props.children,we.mode,qe,Te.key),qe.return=we,we=qe):(qe=jo(Te.type,Te.key,Te.props,null,we.mode,qe),Bt(qe,Te),qe.return=we,we=qe)}return L(we);case N:e:{for(Rt=Te.key;ye!==null;){if(ye.key===Rt)if(ye.tag===4&&ye.stateNode.containerInfo===Te.containerInfo&&ye.stateNode.implementation===Te.implementation){u(we,ye.sibling),qe=v(ye,Te.children||[]),qe.return=we,we=qe;break e}else{u(we,ye);break}else o(we,ye);ye=ye.sibling}qe=Ho(Te,we.mode,qe),qe.return=we,we=qe}return L(we);case se:return Te=Ae(Te),Fn(we,ye,Te,qe)}if(xe(Te))return ct(we,ye,Te,qe);if($(Te)){if(Rt=$(Te),typeof Rt!="function")throw Error(i(150));return Te=Rt.call(Te),It(we,ye,Te,qe)}if(typeof Te.then=="function")return Fn(we,ye,rt(Te),qe);if(Te.$$typeof===O)return Fn(we,ye,Pu(we,Te),qe);lt(we,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ye!==null&&ye.tag===6?(u(we,ye.sibling),qe=v(ye,Te),qe.return=we,we=qe):(u(we,ye),qe=jl(Te,we.mode,qe),qe.return=we,we=qe),L(we)):u(we,ye)}return function(we,ye,Te,qe){try{dt=0;var Rt=Fn(we,ye,Te,qe);return ze=null,Rt}catch(vt){if(vt===me||vt===X)throw vt;var bn=nr(29,vt,null,we.mode);return bn.lanes=qe,bn.return=we,bn}finally{}}}var zn=tn(!0),Gt=tn(!1),st=!1;function Ke(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kn(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Lt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Jt(r,o,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(En&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=tr(r),Fl(r,null,u),o}return Bl(r,h,o,u),tr(r)}function xn(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=r.pendingLanes,u|=h,o.lanes=u,Di(r,u)}}function Ri(r,o){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=L:x=x.next=L,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Ki=!1;function On(){if(Ki){var r=w;if(r!==null)throw r}}function bi(r,o,u,h){Ki=!1;var v=r.updateQueue;st=!1;var x=v.firstBaseUpdate,L=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var ue=z,Ne=ue.next;ue.next=null,L===null?x=Ne:L.next=Ne,L=ue;var Ue=r.alternate;Ue!==null&&(Ue=Ue.updateQueue,z=Ue.lastBaseUpdate,z!==L&&(z===null?Ue.firstBaseUpdate=Ne:z.next=Ne,Ue.lastBaseUpdate=ue))}if(x!==null){var He=v.baseState;L=0,Ue=Ne=ue=null,z=x;do{var Le=z.lane&-536870913,Ie=Le!==z.lane;if(Ie?(on&Le)===Le:(h&Le)===Le){Le!==0&&Le===g&&(Ki=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var ct=r,It=z;Le=o;var Fn=u;switch(It.tag){case 1:if(ct=It.payload,typeof ct=="function"){He=ct.call(Fn,He,Le);break e}He=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=It.payload,Le=typeof ct=="function"?ct.call(Fn,He,Le):ct,Le==null)break e;He=_({},He,Le);break e;case 2:st=!0}}Le=z.callback,Le!==null&&(r.flags|=64,Ie&&(r.flags|=8192),Ie=v.callbacks,Ie===null?v.callbacks=[Le]:Ie.push(Le))}else Ie={lane:Le,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ue===null?(Ne=Ue=Ie,ue=He):Ue=Ue.next=Ie,L|=Le;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;Ie=z,z=Ie.next,Ie.next=null,v.lastBaseUpdate=Ie,v.shared.pending=null}}while(!0);Ue===null&&(ue=He),v.baseState=ue,v.firstBaseUpdate=Ne,v.lastBaseUpdate=Ue,x===null&&(v.shared.lanes=0),Qo|=L,r.lanes=L,r.memoizedState=He}}function ir(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function _i(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)ir(u[r],o)}var Qt=Y(null),dn=Y(0);function Xn(r,o){r=vo,G(dn,r),G(Qt,o),vo=r|o.baseLanes}function yn(){G(dn,vo),G(Qt,Qt.current)}function ki(){vo=dn.current,M(Qt),M(dn)}var Zn=Y(null),hn=null;function mi(r){var o=r.alternate;G(fn,fn.current&1),G(Zn,r),hn===null&&(o===null||Qt.current!==null||o.memoizedState!==null)&&(hn=r)}function An(r){G(fn,fn.current),G(Zn,r),hn===null&&(hn=r)}function wi(r){r.tag===22?(G(fn,fn.current),G(Zn,r),hn===null&&(hn=r)):Si()}function Si(){G(fn,fn.current),G(Zn,Zn.current)}function Cn(r){M(Zn),hn===r&&(hn=null),M(fn)}var fn=Y(0);function rr(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Lp(u)||Ip(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ri=0,Tt=null,Ct=null,pn=null,wr=!1,Qr=!1,dr=!1,xi=0,Ua=0,Ba=null,Ou=0;function Un(){throw Error(i(321))}function jc(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Vi(r[u],o[u]))return!1;return!0}function Hc(r,o,u,h,v,x){return ri=x,Tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,te.H=r===null||r.memoizedState===null?ig:Hh,dr=!1,x=u(h,v),dr=!1,Qr&&(x=ca(o,u,h,v)),Uu(r),x}function Uu(r){te.H=Kc;var o=Ct!==null&&Ct.next!==null;if(ri=0,pn=Ct=Tt=null,wr=!1,Ua=0,Ba=null,o)throw Error(i(300));r===null||qi||(r=r.dependencies,r!==null&&Mu(r)&&(qi=!0))}function ca(r,o,u,h){Tt=r;var v=0;do{if(Qr&&(Ba=null),Ua=0,Qr=!1,25<=v)throw Error(i(301));if(v+=1,pn=Ct=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}te.H=rg,x=o(u,h)}while(Qr);return x}function Dh(){var r=te.H,o=r.useState()[0];return o=typeof o.then=="function"?Fa(o):o,r=r.useState()[0],(Ct!==null?Ct.memoizedState:null)!==r&&(Tt.flags|=1024),o}function zc(){var r=xi!==0;return xi=0,r}function Gc(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Bu(r){if(wr){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wr=!1}ri=0,pn=Ct=Tt=null,Qr=!1,Ua=xi=0,Ba=null}function Fi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Tt.memoizedState=pn=r:pn=pn.next=r,pn}function si(){if(Ct===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var o=pn===null?Tt.memoizedState:pn.next;if(o!==null)pn=o,Ct=r;else{if(r===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},pn===null?Tt.memoizedState=pn=r:pn=pn.next=r}return pn}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fa(r){var o=Ua;return Ua+=1,Ba===null&&(Ba=[]),r=De(Ba,r,o),o=Tt,(pn===null?o.memoizedState:pn.next)===null&&(o=o.alternate,te.H=o===null||o.memoizedState===null?ig:Hh),r}function Jo(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fa(r);if(r.$$typeof===O)return Wi(r)}throw Error(i(438,String(r)))}function lo(r){var o=null,u=Tt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Vl(),Tt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),h=0;h<r;h++)u[h]=le;return o.index++,u}function Us(r,o){return typeof o=="function"?o(r):o}function Fu(r){var o=si();return Yo(o,Ct,r)}function Yo(r,o,u){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=u;var v=r.baseQueue,x=h.pending;if(x!==null){if(v!==null){var L=v.next;v.next=x.next,x.next=L}o.baseQueue=v=x,h.pending=null}if(x=r.baseState,v===null)r.memoizedState=x;else{o=v.next;var z=L=null,ue=null,Ne=o,Ue=!1;do{var He=Ne.lane&-536870913;if(He!==Ne.lane?(on&He)===He:(ri&He)===He){var Le=Ne.revertLane;if(Le===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),He===g&&(Ue=!0);else if((ri&Le)===Le){Ne=Ne.next,Le===g&&(Ue=!0);continue}else He={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ue===null?(z=ue=He,L=x):ue=ue.next=He,Tt.lanes|=Le,Qo|=Le;He=Ne.action,dr&&u(x,He),x=Ne.hasEagerState?Ne.eagerState:u(x,He)}else Le={lane:He,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ue===null?(z=ue=Le,L=x):ue=ue.next=Le,Tt.lanes|=He,Qo|=He;Ne=Ne.next}while(Ne!==null&&Ne!==o);if(ue===null?L=x:ue.next=z,!Vi(x,r.memoizedState)&&(qi=!0,Ue&&(u=w,u!==null)))throw u;r.memoizedState=x,r.baseState=L,r.baseQueue=ue,h.lastRenderedState=x}return v===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function qu(r){var o=si(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var h=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var L=v=v.next;do x=r(x,L.action),L=L.next;while(L!==v);Vi(x,o.memoizedState)||(qi=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,h]}function ju(r,o,u){var h=Tt,v=si(),x=nn;if(x){if(u===void 0)throw Error(i(407));u=u()}else u=o();var L=!Vi((Ct||v).memoizedState,u);if(L&&(v.memoizedState=u,qi=!0),v=v.queue,Oh($c.bind(null,h,v,r),[r]),v.getSnapshot!==o||L||pn!==null&&pn.memoizedState.tag&1){if(h.flags|=2048,co(9,{destroy:void 0},Vc.bind(null,h,v,u,o),null),Gn===null)throw Error(i(349));x||(ri&127)!==0||fa(h,o,u)}return u}function fa(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Tt.updateQueue,o===null?(o=Vl(),Tt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Vc(r,o,u,h){o.value=u,o.getSnapshot=h,Gf(o)&&Jc(r)}function $c(r,o,u){return u(function(){Gf(o)&&Jc(r)})}function Gf(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Vi(r,u)}catch{return!0}}function Jc(r){var o=la(r,2);o!==null&&rs(o,r,2)}function qa(r){var o=Fi();if(typeof r=="function"){var u=r;if(r=u(),dr){Mt(!0);try{u()}finally{Mt(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:r},o}function Vf(r,o,u,h){return r.baseState=u,Yo(r,Ct,typeof h=="function"?h:Us)}function $f(r,o,u,h,v){if(Kf(r))throw Error(i(485));if(r=o.action,r!==null){var x={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};te.T!==null?u(!0):x.isTransition=!1,h(x),u=o.pending,u===null?(x.next=o.pending=x,Jf(o,x)):(x.next=u.next,o.pending=u.next=x)}}function Jf(r,o){var u=o.action,h=o.payload,v=r.state;if(o.isTransition){var x=te.T,L={};te.T=L;try{var z=u(v,h),ue=te.S;ue!==null&&ue(L,z),Yc(r,o,z)}catch(Ne){uo(r,o,Ne)}finally{x!==null&&L.types!==null&&(x.types=L.types),te.T=x}}else try{x=u(v,h),Yc(r,o,x)}catch(Ne){uo(r,o,Ne)}}function Yc(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Yf(r,o,h)},function(h){return uo(r,o,h)}):Yf(r,o,u)}function Yf(r,o,u){o.status="fulfilled",o.value=u,Hu(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Jf(r,u)))}function uo(r,o,u){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,Hu(o),o=o.next;while(o!==h)}r.action=null}function Hu(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function $l(r,o){return o}function Bs(r,o){if(nn){var u=Gn.formState;if(u!==null){e:{var h=Tt;if(nn){if(Hn){t:{for(var v=Hn,x=ii;v.nodeType!==8;){if(!x){v=null;break t}if(v=Fs(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Hn=Fs(v.nextSibling),h=v.data==="F!";break e}}Ia(h)}h=!1}h&&(o=u[0])}}return u=Fi(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:o},u.queue=h,u=eg.bind(null,Tt,h),h.dispatch=u,h=qa(!1),x=jh.bind(null,Tt,!1,h.queue),h=Fi(),v={state:o,dispatch:null,action:r,pending:null},h.queue=v,u=$f.bind(null,Tt,v,x,u),v.dispatch=u,h.memoizedState=r,[o,u,!1]}function da(r){var o=si();return ha(o,Ct,r)}function ha(r,o,u){if(o=Yo(r,o,$l)[0],r=Fu(Us)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Fa(o)}catch(L){throw L===me?X:L}else h=o;o=si();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Tt.flags|=2048,co(9,{destroy:void 0},zu.bind(null,v,u),null)),[h,x,r]}function zu(r,o){r.action=o}function Gu(r){var o=si(),u=Ct;if(u!==null)return ha(o,u,r);si(),o=o.memoizedState,u=si();var h=u.queue.dispatch;return u.memoizedState=r,[o,h,!1]}function co(r,o,u,h){return r={tag:r,create:u,deps:h,inst:o,next:null},o=Tt.updateQueue,o===null&&(o=Vl(),Tt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,o.lastEffect=r),r}function Wf(){return si().memoizedState}function Wo(r,o,u,h){var v=Fi();Tt.flags|=r,v.memoizedState=co(1|o,{destroy:void 0},u,h===void 0?null:h)}function Ko(r,o,u,h){var v=si();h=h===void 0?null:h;var x=v.memoizedState.inst;Ct!==null&&h!==null&&jc(h,Ct.memoizedState.deps)?v.memoizedState=co(o,x,u,h):(Tt.flags|=r,v.memoizedState=co(1|o,x,u,h))}function q0(r,o){Wo(8390656,8,r,o)}function Oh(r,o){Ko(2048,8,r,o)}function bw(r){Tt.flags|=4;var o=Tt.updateQueue;if(o===null)o=Vl(),Tt.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function j0(r){var o=si().memoizedState;return bw({ref:o,nextImpl:r}),function(){if((En&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function H0(r,o){return Ko(4,2,r,o)}function z0(r,o){return Ko(4,4,r,o)}function G0(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function V0(r,o,u){u=u!=null?u.concat([r]):null,Ko(4,4,G0.bind(null,o,r),u)}function Uh(){}function $0(r,o){var u=si();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&jc(o,h[1])?h[0]:(u.memoizedState=[r,o],r)}function J0(r,o){var u=si();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&jc(o,h[1]))return h[0];if(h=r(),dr){Mt(!0);try{r()}finally{Mt(!1)}}return u.memoizedState=[h,o],h}function Bh(r,o,u){return u===void 0||(ri&1073741824)!==0&&(on&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=Yg(),Tt.lanes|=r,Qo|=r,u)}function Y0(r,o,u,h){return Vi(u,o)?u:Qt.current!==null?(r=Bh(r,u,h),Vi(r,o)||(qi=!0),r):(ri&42)===0||(ri&1073741824)!==0&&(on&261930)===0?(qi=!0,r.memoizedState=u):(r=Yg(),Tt.lanes|=r,Qo|=r,o)}function W0(r,o,u,h,v){var x=pe.p;pe.p=x!==0&&8>x?x:8;var L=te.T,z={};te.T=z,jh(r,!1,o,u);try{var ue=v(),Ne=te.S;if(Ne!==null&&Ne(z,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ue=D(ue,h);Wc(r,o,Ue,vs(r))}else Wc(r,o,h,vs(r))}catch(He){Wc(r,o,{then:function(){},status:"rejected",reason:He},vs())}finally{pe.p=x,L!==null&&z.types!==null&&(L.types=z.types),te.T=L}}function _w(){}function Fh(r,o,u,h){if(r.tag!==5)throw Error(i(476));var v=K0(r).queue;W0(r,v,o,ge,u===null?_w:function(){return X0(r),u(h)})}function K0(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:ge},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function X0(r){var o=K0(r);o.next===null&&(o=r.alternate.memoizedState),Wc(r,o.next.queue,{},vs())}function qh(){return Wi(hf)}function Z0(){return si().memoizedState}function Q0(){return si().memoizedState}function ww(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=vs();r=Lt(u);var h=Jt(o,r,u);h!==null&&(rs(h,o,u),xn(h,o,u)),o={cache:$o()},r.payload=o;return}o=o.return}}function Sw(r,o,u){var h=vs();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Kf(r)?tg(o,u):(u=Eu(r,o,u,h),u!==null&&(rs(u,r,h),ng(u,o,h)))}function eg(r,o,u){var h=vs();Wc(r,o,u,h)}function Wc(r,o,u,h){var v={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Kf(r))tg(o,v);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var L=o.lastRenderedState,z=x(L,u);if(v.hasEagerState=!0,v.eagerState=z,Vi(z,L))return Bl(r,o,v,0),Gn===null&&Ul(),!1}catch{}finally{}if(u=Eu(r,o,v,h),u!==null)return rs(u,r,h),ng(u,o,h),!0}return!1}function jh(r,o,u,h){if(h={lane:2,revertLane:bp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Kf(r)){if(o)throw Error(i(479))}else o=Eu(r,u,h,2),o!==null&&rs(o,r,2)}function Kf(r){var o=r.alternate;return r===Tt||o!==null&&o===Tt}function tg(r,o){Qr=wr=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function ng(r,o,u){if((u&4194048)!==0){var h=o.lanes;h&=r.pendingLanes,u|=h,o.lanes=u,Di(r,u)}}var Kc={readContext:Wi,use:Jo,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};Kc.useEffectEvent=Un;var ig={readContext:Wi,use:Jo,useCallback:function(r,o){return Fi().memoizedState=[r,o===void 0?null:o],r},useContext:Wi,useEffect:q0,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Wo(4194308,4,G0.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Wo(4194308,4,r,o)},useInsertionEffect:function(r,o){Wo(4,2,r,o)},useMemo:function(r,o){var u=Fi();o=o===void 0?null:o;var h=r();if(dr){Mt(!0);try{r()}finally{Mt(!1)}}return u.memoizedState=[h,o],h},useReducer:function(r,o,u){var h=Fi();if(u!==void 0){var v=u(o);if(dr){Mt(!0);try{u(o)}finally{Mt(!1)}}}else v=o;return h.memoizedState=h.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},h.queue=r,r=r.dispatch=Sw.bind(null,Tt,r),[h.memoizedState,r]},useRef:function(r){var o=Fi();return r={current:r},o.memoizedState=r},useState:function(r){r=qa(r);var o=r.queue,u=eg.bind(null,Tt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Uh,useDeferredValue:function(r,o){var u=Fi();return Bh(u,r,o)},useTransition:function(){var r=qa(!1);return r=W0.bind(null,Tt,r.queue,!0,!1),Fi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var h=Tt,v=Fi();if(nn){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Gn===null)throw Error(i(349));(on&127)!==0||fa(h,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,q0($c.bind(null,h,x,r),[r]),h.flags|=2048,co(9,{destroy:void 0},Vc.bind(null,h,x,u,o),null),u},useId:function(){var r=Fi(),o=Gn.identifierPrefix;if(nn){var u=Xr,h=Kr;u=(h&~(1<<32-Zt(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=xi++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=Ou++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:qh,useFormState:Bs,useActionState:Bs,useOptimistic:function(r){var o=Fi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=jh.bind(null,Tt,!0,u),u.dispatch=o,[r,o]},useMemoCache:lo,useCacheRefresh:function(){return Fi().memoizedState=ww.bind(null,Tt)},useEffectEvent:function(r){var o=Fi(),u={impl:r};return o.memoizedState=u,function(){if((En&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Hh={readContext:Wi,use:Jo,useCallback:$0,useContext:Wi,useEffect:Oh,useImperativeHandle:V0,useInsertionEffect:H0,useLayoutEffect:z0,useMemo:J0,useReducer:Fu,useRef:Wf,useState:function(){return Fu(Us)},useDebugValue:Uh,useDeferredValue:function(r,o){var u=si();return Y0(u,Ct.memoizedState,r,o)},useTransition:function(){var r=Fu(Us)[0],o=si().memoizedState;return[typeof r=="boolean"?r:Fa(r),o]},useSyncExternalStore:ju,useId:Z0,useHostTransitionStatus:qh,useFormState:da,useActionState:da,useOptimistic:function(r,o){var u=si();return Vf(u,Ct,r,o)},useMemoCache:lo,useCacheRefresh:Q0};Hh.useEffectEvent=j0;var rg={readContext:Wi,use:Jo,useCallback:$0,useContext:Wi,useEffect:Oh,useImperativeHandle:V0,useInsertionEffect:H0,useLayoutEffect:z0,useMemo:J0,useReducer:qu,useRef:Wf,useState:function(){return qu(Us)},useDebugValue:Uh,useDeferredValue:function(r,o){var u=si();return Ct===null?Bh(u,r,o):Y0(u,Ct.memoizedState,r,o)},useTransition:function(){var r=qu(Us)[0],o=si().memoizedState;return[typeof r=="boolean"?r:Fa(r),o]},useSyncExternalStore:ju,useId:Z0,useHostTransitionStatus:qh,useFormState:Gu,useActionState:Gu,useOptimistic:function(r,o){var u=si();return Ct!==null?Vf(u,Ct,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:lo,useCacheRefresh:Q0};rg.useEffectEvent=j0;function zh(r,o,u,h){o=r.memoizedState,u=u(h,o),u=u==null?o:_({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Gh={enqueueSetState:function(r,o,u){r=r._reactInternals;var h=vs(),v=Lt(h);v.payload=o,u!=null&&(v.callback=u),o=Jt(r,v,h),o!==null&&(rs(o,r,h),xn(o,r,h))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var h=vs(),v=Lt(h);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Jt(r,v,h),o!==null&&(rs(o,r,h),xn(o,r,h))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=vs(),h=Lt(u);h.tag=2,o!=null&&(h.callback=o),o=Jt(r,h,u),o!==null&&(rs(o,r,u),xn(o,r,u))}};function sg(r,o,u,h,v,x,L){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,L):o.prototype&&o.prototype.isPureReactComponent?!ra(u,h)||!ra(v,x):!0}function ag(r,o,u,h){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==r&&Gh.enqueueReplaceState(o,o.state,null)}function Jl(r,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(r=r.defaultProps){u===o&&(u=_({},u));for(var v in r)u[v]===void 0&&(u[v]=r[v])}return u}function og(r){Ol(r)}function lg(r){console.error(r)}function ug(r){Ol(r)}function Xf(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function cg(r,o,u){try{var h=r.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Vh(r,o,u){return u=Lt(u),u.tag=3,u.payload={element:null},u.callback=function(){Xf(r,o)},u}function fg(r){return r=Lt(r),r.tag=3,r}function dg(r,o,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;r.payload=function(){return v(x)},r.callback=function(){cg(o,u,h)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(r.callback=function(){cg(o,u,h),typeof v!="function"&&(el===null?el=new Set([this]):el.add(this));var z=h.stack;this.componentDidCatch(h.value,{componentStack:z!==null?z:""})})}function xw(r,o,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&Da(o,u,v,!0),u=Zn.current,u!==null){switch(u.tag){case 31:case 13:return hn===null?ud():u.alternate===null&&Ai===0&&(Ai=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===be?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),gp(r,h,v)),!1;case 22:return u.flags|=65536,h===be?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),gp(r,h,v)),!1}throw Error(i(435,u.tag))}return gp(r,h,v),ud(),!1}if(nn)return o=Zn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==ms&&(r=Error(i(422),{cause:h}),Go(Jr(r,u)))):(h!==ms&&(o=Error(i(423),{cause:h}),Go(Jr(o,u))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,h=Jr(h,u),v=Vh(r.stateNode,h,v),Ri(r,v),Ai!==4&&(Ai=2)),!1;var x=Error(i(520),{cause:h});if(x=Jr(x,u),sf===null?sf=[x]:sf.push(x),Ai!==4&&(Ai=2),o===null)return!0;h=Jr(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=v&-v,u.lanes|=r,r=Vh(u.stateNode,h,r),Ri(u,r),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(el===null||!el.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=fg(v),dg(v,r,u,h),Ri(u,v),!1}u=u.return}while(u!==null);return!1}var $h=Error(i(461)),qi=!1;function hr(r,o,u,h){o.child=r===null?Gt(o,null,u,h):zn(o,r.child,u,h)}function hg(r,o,u,h,v){u=u.render;var x=o.ref;if("ref"in h){var L={};for(var z in h)z!=="ref"&&(L[z]=h[z])}else L=h;return Oa(o),h=Hc(r,o,u,L,x,v),z=zc(),r!==null&&!qi?(Gc(r,o,v),fo(r,o,v)):(nn&&z&&Bc(o),o.flags|=1,hr(r,o,h,v),o.child)}function pg(r,o,u,h,v){if(r===null){var x=u.type;return typeof x=="function"&&!Nu(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,mg(r,o,x,h,v)):(r=jo(u.type,null,h,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,!ep(r,v)){var L=x.memoizedProps;if(u=u.compare,u=u!==null?u:ra,u(L,h)&&r.ref===o.ref)return fo(r,o,v)}return o.flags|=1,r=$r(x,h),r.ref=o.ref,r.return=o,o.child=r}function mg(r,o,u,h,v){if(r!==null){var x=r.memoizedProps;if(ra(x,h)&&r.ref===o.ref)if(qi=!1,o.pendingProps=h=x,ep(r,v))(r.flags&131072)!==0&&(qi=!0);else return o.lanes=r.lanes,fo(r,o,v)}return Jh(r,o,u,h,v)}function gg(r,o,u,h){var v=h.children,x=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,r!==null){for(h=o.child=r.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,o.child=null;return yg(r,o,x,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&J(o,x!==null?x.cachePool:null),x!==null?Xn(o,x):yn(),wi(o);else return h=o.lanes=536870912,yg(r,o,x!==null?x.baseLanes|u:u,u,h)}else x!==null?(J(o,x.cachePool),Xn(o,x),Si(),o.memoizedState=null):(r!==null&&J(o,null),yn(),Si());return hr(r,o,v,u),o.child}function Xc(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function yg(r,o,u,h,v){var x=V();return x=x===null?null:{parent:pi._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},r!==null&&J(o,null),yn(),wi(o),r!==null&&Da(r,o,h,!0),o.childLanes=v,null}function Zf(r,o){return o=ed({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function vg(r,o,u){return zn(o,r.child,null,u),r=Zf(o,o.pendingProps),r.flags|=2,Cn(o),o.memoizedState=null,r}function Aw(r,o,u){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(nn){if(h.mode==="hidden")return r=Zf(o,h),o.lanes=536870912,Xc(null,r);if(An(o),(r=Hn)?(r=k1(r,ii),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:La!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},u=Cu(r),u.return=o,o.child=u,Ji=o,Hn=null)):r=null,r===null)throw Ia(o);return o.lanes=536870912,null}return Zf(o,h)}var x=r.memoizedState;if(x!==null){var L=x.dehydrated;if(An(o),v)if(o.flags&256)o.flags&=-257,o=vg(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(qi||Da(r,o,u,!1),v=(u&r.childLanes)!==0,qi||v){if(h=Gn,h!==null&&(L=li(h,u),L!==0&&L!==x.retryLane))throw x.retryLane=L,la(r,L),rs(h,r,L),$h;ud(),o=vg(r,o,u)}else r=x.treeContext,Hn=Fs(L.nextSibling),Ji=o,nn=!0,fr=null,ii=!1,r!==null&&Hf(o,r),o=Zf(o,h),o.flags|=4096;return o}return r=$r(r.child,{mode:h.mode,children:h.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Qf(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Jh(r,o,u,h,v){return Oa(o),u=Hc(r,o,u,h,void 0,v),h=zc(),r!==null&&!qi?(Gc(r,o,v),fo(r,o,v)):(nn&&h&&Bc(o),o.flags|=1,hr(r,o,u,v),o.child)}function bg(r,o,u,h,v,x){return Oa(o),o.updateQueue=null,u=ca(o,h,u,v),Uu(r),h=zc(),r!==null&&!qi?(Gc(r,o,x),fo(r,o,x)):(nn&&h&&Bc(o),o.flags|=1,hr(r,o,u,x),o.child)}function _g(r,o,u,h,v){if(Oa(o),o.stateNode===null){var x=$i,L=u.contextType;typeof L=="object"&&L!==null&&(x=Wi(L)),x=new u(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Gh,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},Ke(o),L=u.contextType,x.context=typeof L=="object"&&L!==null?Wi(L):$i,x.state=o.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(zh(o,u,L,h),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&Gh.enqueueReplaceState(x,x.state,null),bi(o,h,x,v),On(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(r===null){x=o.stateNode;var z=o.memoizedProps,ue=Jl(u,z);x.props=ue;var Ne=x.context,Ue=u.contextType;L=$i,typeof Ue=="object"&&Ue!==null&&(L=Wi(Ue));var He=u.getDerivedStateFromProps;Ue=typeof He=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,Ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||Ne!==L)&&ag(o,x,h,L),st=!1;var Le=o.memoizedState;x.state=Le,bi(o,h,x,v),On(),Ne=o.memoizedState,z||Le!==Ne||st?(typeof He=="function"&&(zh(o,u,He,h),Ne=o.memoizedState),(ue=st||sg(o,u,ue,h,Le,Ne,L))?(Ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Ne),x.props=h,x.state=Ne,x.context=L,h=ue):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,Kn(r,o),L=o.memoizedProps,Ue=Jl(u,L),x.props=Ue,He=o.pendingProps,Le=x.context,Ne=u.contextType,ue=$i,typeof Ne=="object"&&Ne!==null&&(ue=Wi(Ne)),z=u.getDerivedStateFromProps,(Ne=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==He||Le!==ue)&&ag(o,x,h,ue),st=!1,Le=o.memoizedState,x.state=Le,bi(o,h,x,v),On();var Ie=o.memoizedState;L!==He||Le!==Ie||st||r!==null&&r.dependencies!==null&&Mu(r.dependencies)?(typeof z=="function"&&(zh(o,u,z,h),Ie=o.memoizedState),(Ue=st||sg(o,u,Ue,h,Le,Ie,ue)||r!==null&&r.dependencies!==null&&Mu(r.dependencies))?(Ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ie,ue),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ie,ue)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===r.memoizedProps&&Le===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Le===r.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ie),x.props=h,x.state=Ie,x.context=ue,h=Ue):(typeof x.componentDidUpdate!="function"||L===r.memoizedProps&&Le===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Le===r.memoizedState||(o.flags|=1024),h=!1)}return x=h,Qf(r,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,r!==null&&h?(o.child=zn(o,r.child,null,v),o.child=zn(o,null,u,v)):hr(r,o,u,v),o.memoizedState=x.state,r=o.child):r=fo(r,o,v),r}function wg(r,o,u,h){return ao(),o.flags|=256,hr(r,o,u,h),o.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(r){return{baseLanes:r,cachePool:Z()}}function Kh(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=ys),r}function Sg(r,o,u){var h=o.pendingProps,v=!1,x=(o.flags&128)!==0,L;if((L=x)||(L=r!==null&&r.memoizedState===null?!1:(fn.current&2)!==0),L&&(v=!0,o.flags&=-129),L=(o.flags&32)!==0,o.flags&=-33,r===null){if(nn){if(v?mi(o):Si(),(r=Hn)?(r=k1(r,ii),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:La!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},u=Cu(r),u.return=o,o.child=u,Ji=o,Hn=null)):r=null,r===null)throw Ia(o);return Ip(r)?o.lanes=32:o.lanes=536870912,null}var z=h.children;return h=h.fallback,v?(Si(),v=o.mode,z=ed({mode:"hidden",children:z},v),h=ka(h,v,u,null),z.return=o,h.return=o,z.sibling=h,o.child=z,h=o.child,h.memoizedState=Wh(u),h.childLanes=Kh(r,L,u),o.memoizedState=Yh,Xc(null,h)):(mi(o),Xh(o,z))}var ue=r.memoizedState;if(ue!==null&&(z=ue.dehydrated,z!==null)){if(x)o.flags&256?(mi(o),o.flags&=-257,o=Zh(r,o,u)):o.memoizedState!==null?(Si(),o.child=r.child,o.flags|=128,o=null):(Si(),z=h.fallback,v=o.mode,h=ed({mode:"visible",children:h.children},v),z=ka(z,v,u,null),z.flags|=2,h.return=o,z.return=o,h.sibling=z,o.child=h,zn(o,r.child,null,u),h=o.child,h.memoizedState=Wh(u),h.childLanes=Kh(r,L,u),o.memoizedState=Yh,o=Xc(null,h));else if(mi(o),Ip(z)){if(L=z.nextSibling&&z.nextSibling.dataset,L)var Ne=L.dgst;L=Ne,h=Error(i(419)),h.stack="",h.digest=L,Go({value:h,source:null,stack:null}),o=Zh(r,o,u)}else if(qi||Da(r,o,u,!1),L=(u&r.childLanes)!==0,qi||L){if(L=Gn,L!==null&&(h=li(L,u),h!==0&&h!==ue.retryLane))throw ue.retryLane=h,la(r,h),rs(L,r,h),$h;Lp(z)||ud(),o=Zh(r,o,u)}else Lp(z)?(o.flags|=192,o.child=r.child,o=null):(r=ue.treeContext,Hn=Fs(z.nextSibling),Ji=o,nn=!0,fr=null,ii=!1,r!==null&&Hf(o,r),o=Xh(o,h.children),o.flags|=4096);return o}return v?(Si(),z=h.fallback,v=o.mode,ue=r.child,Ne=ue.sibling,h=$r(ue,{mode:"hidden",children:h.children}),h.subtreeFlags=ue.subtreeFlags&65011712,Ne!==null?z=$r(Ne,z):(z=ka(z,v,u,null),z.flags|=2),z.return=o,h.return=o,h.sibling=z,o.child=h,Xc(null,h),h=o.child,z=r.child.memoizedState,z===null?z=Wh(u):(v=z.cachePool,v!==null?(ue=pi._currentValue,v=v.parent!==ue?{parent:ue,pool:ue}:v):v=Z(),z={baseLanes:z.baseLanes|u,cachePool:v}),h.memoizedState=z,h.childLanes=Kh(r,L,u),o.memoizedState=Yh,Xc(r.child,h)):(mi(o),u=r.child,r=u.sibling,u=$r(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,r!==null&&(L=o.deletions,L===null?(o.deletions=[r],o.flags|=16):L.push(r)),o.child=u,o.memoizedState=null,u)}function Xh(r,o){return o=ed({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ed(r,o){return r=nr(22,r,null,o),r.lanes=0,r}function Zh(r,o,u){return zn(o,r.child,null,u),r=Xh(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function xg(r,o,u){r.lanes|=o;var h=r.alternate;h!==null&&(h.lanes|=o),Vo(r.return,o,u)}function Qh(r,o,u,h,v,x){var L=r.memoizedState;L===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v,treeForkCount:x}:(L.isBackwards=o,L.rendering=null,L.renderingStartTime=0,L.last=h,L.tail=u,L.tailMode=v,L.treeForkCount=x)}function Ag(r,o,u){var h=o.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var L=fn.current,z=(L&2)!==0;if(z?(L=L&1|2,o.flags|=128):L&=1,G(fn,L),hr(r,o,h,u),h=nn?Hl:0,!z&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xg(r,u,o);else if(r.tag===19)xg(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)r=u.alternate,r!==null&&rr(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Qh(o,!1,v,u,x,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&rr(r)===null){o.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}Qh(o,!0,u,null,x,h);break;case"together":Qh(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function fo(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Qo|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Da(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=$r(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=$r(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function ep(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Mu(r)))}function Ew(r,o,u){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),Pa(o,pi,r.memoizedState.cache),ao();break;case 27:case 5:he(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:Pa(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,An(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(mi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Sg(r,o,u):(mi(o),r=fo(r,o,u),r!==null?r.sibling:null);mi(o);break;case 19:var v=(r.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(Da(r,o,u,!1),h=(u&o.childLanes)!==0),v){if(h)return Ag(r,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),G(fn,fn.current),h)break;return null;case 22:return o.lanes=0,gg(r,o,u,o.pendingProps);case 24:Pa(o,pi,r.memoizedState.cache)}return fo(r,o,u)}function Eg(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)qi=!0;else{if(!ep(r,u)&&(o.flags&128)===0)return qi=!1,Ew(r,o,u);qi=(r.flags&131072)!==0}else qi=!1,nn&&(o.flags&1048576)!==0&&jf(o,Hl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(r=Ae(o.elementType),o.type=r,typeof r=="function")Nu(r)?(h=Jl(r,h),o.tag=1,o=_g(null,o,r,h,u)):(o.tag=0,o=Jh(null,o,r,h,u));else{if(r!=null){var v=r.$$typeof;if(v===U){o.tag=11,o=hg(null,o,r,h,u);break e}else if(v===re){o.tag=14,o=pg(null,o,r,h,u);break e}}throw o=ae(r)||r,Error(i(306,o,""))}}return o;case 0:return Jh(r,o,o.type,o.pendingProps,u);case 1:return h=o.type,v=Jl(h,o.pendingProps),_g(r,o,h,v,u);case 3:e:{if(ke(o,o.stateNode.containerInfo),r===null)throw Error(i(387));h=o.pendingProps;var x=o.memoizedState;v=x.element,Kn(r,o),bi(o,h,null,u);var L=o.memoizedState;if(h=L.cache,Pa(o,pi,h),h!==x.cache&&oo(o,[pi],u,!0),On(),h=L.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:L.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=wg(r,o,h,u);break e}else if(h!==v){v=Jr(Error(i(424)),o),Go(v),o=wg(r,o,h,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Hn=Fs(r.firstChild),Ji=o,nn=!0,fr=null,ii=!0,u=Gt(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ao(),h===v){o=fo(r,o,u);break e}hr(r,o,h,u)}o=o.child}return o;case 26:return Qf(r,o),r===null?(u=O1(o.type,null,o.pendingProps,null))?o.memoizedState=u:nn||(u=o.type,r=o.pendingProps,h=gd(ce.current).createElement(u),h[Sn]=o,h[jn]=r,pr(h,u,r),ci(h),o.stateNode=h):o.memoizedState=O1(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return he(o),r===null&&nn&&(h=o.stateNode=M1(o.type,o.pendingProps,ce.current),Ji=o,ii=!0,v=Hn,rl(o.type)?(Mp=v,Hn=Fs(h.firstChild)):Hn=v),hr(r,o,o.pendingProps.children,u),Qf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&nn&&((v=h=Hn)&&(h=tS(h,o.type,o.pendingProps,ii),h!==null?(o.stateNode=h,Ji=o,Hn=Fs(h.firstChild),ii=!1,v=!0):v=!1),v||Ia(o)),he(o),v=o.type,x=o.pendingProps,L=r!==null?r.memoizedProps:null,h=x.children,Cp(v,x)?h=null:L!==null&&Cp(v,L)&&(o.flags|=32),o.memoizedState!==null&&(v=Hc(r,o,Dh,null,null,u),hf._currentValue=v),Qf(r,o),hr(r,o,h,u),o.child;case 6:return r===null&&nn&&((r=u=Hn)&&(u=nS(u,o.pendingProps,ii),u!==null?(o.stateNode=u,Ji=o,Hn=null,r=!0):r=!1),r||Ia(o)),null;case 13:return Sg(r,o,u);case 4:return ke(o,o.stateNode.containerInfo),h=o.pendingProps,r===null?o.child=zn(o,null,h,u):hr(r,o,h,u),o.child;case 11:return hg(r,o,o.type,o.pendingProps,u);case 7:return hr(r,o,o.pendingProps,u),o.child;case 8:return hr(r,o,o.pendingProps.children,u),o.child;case 12:return hr(r,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,Pa(o,o.type,h.value),hr(r,o,h.children,u),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Oa(o),v=Wi(v),h=h(v),o.flags|=1,hr(r,o,h,u),o.child;case 14:return pg(r,o,o.type,o.pendingProps,u);case 15:return mg(r,o,o.type,o.pendingProps,u);case 19:return Ag(r,o,u);case 31:return Aw(r,o,u);case 22:return gg(r,o,u,o.pendingProps);case 24:return Oa(o),h=Wi(pi),r===null?(v=V(),v===null&&(v=Gn,x=$o(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:h,cache:v},Ke(o),Pa(o,pi,v)):((r.lanes&u)!==0&&(Kn(r,o),bi(o,null,null,u),On()),v=r.memoizedState,x=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Pa(o,pi,h)):(h=x.cache,Pa(o,pi,h),h!==v.cache&&oo(o,[pi],u,!0))),hr(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ho(r){r.flags|=4}function tp(r,o,u,h,v){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(Zg())r.flags|=8192;else throw Pe=be,Ee}else r.flags&=-16777217}function Tg(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!j1(o))if(Zg())r.flags|=8192;else throw Pe=be,Ee}function td(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Pi():536870912,r.lanes|=o,Yu|=o)}function Zc(r,o){if(!nn)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Qn(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(o)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=h,r.childLanes=u,o}function Tw(r,o,u){var h=o.pendingProps;switch(Lu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(o),null;case 1:return Qn(o),null;case 3:return u=o.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Zr(pi),Re(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Yi(o)?ho(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,qc())),Qn(o),null;case 26:var v=o.type,x=o.memoizedState;return r===null?(ho(o),x!==null?(Qn(o),Tg(o,x)):(Qn(o),tp(o,v,null,h,u))):x?x!==r.memoizedState?(ho(o),Qn(o),Tg(o,x)):(Qn(o),o.flags&=-16777217):(r=r.memoizedProps,r!==h&&ho(o),Qn(o),tp(o,v,r,h,u)),null;case 27:if(Oe(o),u=ce.current,v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==h&&ho(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return Qn(o),null}r=W.current,Yi(o)?Fc(o):(r=M1(v,h,u),o.stateNode=r,ho(o))}return Qn(o),null;case 5:if(Oe(o),v=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==h&&ho(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return Qn(o),null}if(x=W.current,Yi(o))Fc(o);else{var L=gd(ce.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?L.createElement("select",{is:h.is}):L.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?L.createElement(v,{is:h.is}):L.createElement(v)}}x[Sn]=o,x[jn]=h;e:for(L=o.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===o)break e;for(;L.sibling===null;){if(L.return===null||L.return===o)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}o.stateNode=x;e:switch(pr(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ho(o)}}return Qn(o),tp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==h&&ho(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(i(166));if(r=ce.current,Yi(o)){if(r=o.stateNode,u=o.memoizedProps,h=null,v=Ji,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}r[Sn]=o,r=!!(r.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||S1(r.nodeValue,u)),r||Ia(o,!0)}else r=gd(r).createTextNode(h),r[Sn]=o,o.stateNode=r}return Qn(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(h=Yi(o),u!==null){if(r===null){if(!h)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Sn]=o}else ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qn(o),r=!1}else u=qc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(Cn(o),o):(Cn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Qn(o),null;case 13:if(h=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Yi(o),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Sn]=o}else ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qn(o),v=!1}else v=qc(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Cn(o),o):(Cn(o),null)}return Cn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,r=r!==null&&r.memoizedState!==null,u&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),td(o,o.updateQueue),Qn(o),null);case 4:return Re(),r===null&&xp(o.stateNode.containerInfo),Qn(o),null;case 10:return Zr(o.type),Qn(o),null;case 19:if(M(fn),h=o.memoizedState,h===null)return Qn(o),null;if(v=(o.flags&128)!==0,x=h.rendering,x===null)if(v)Zc(h,!1);else{if(Ai!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=rr(r),x!==null){for(o.flags|=128,Zc(h,!1),r=x.updateQueue,o.updateQueue=r,td(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)ql(u,r),u=u.sibling;return G(fn,fn.current&1|2),nn&&qr(o,h.treeForkCount),o.child}r=r.sibling}h.tail!==null&&jt()>ad&&(o.flags|=128,v=!0,Zc(h,!1),o.lanes=4194304)}else{if(!v)if(r=rr(x),r!==null){if(o.flags|=128,v=!0,r=r.updateQueue,o.updateQueue=r,td(o,r),Zc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!nn)return Qn(o),null}else 2*jt()-h.renderingStartTime>ad&&u!==536870912&&(o.flags|=128,v=!0,Zc(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(r=h.last,r!==null?r.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=jt(),r.sibling=null,u=fn.current,G(fn,v?u&1|2:u&1),nn&&qr(o,h.treeForkCount),r):(Qn(o),null);case 22:case 23:return Cn(o),ki(),h=o.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(Qn(o),o.subtreeFlags&6&&(o.flags|=8192)):Qn(o),u=o.updateQueue,u!==null&&td(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),r!==null&&M(q),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Zr(pi),Qn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Nw(r,o){switch(Lu(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Zr(pi),Re(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Oe(o),null;case 31:if(o.memoizedState!==null){if(Cn(o),o.alternate===null)throw Error(i(340));ao()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(Cn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ao()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return M(fn),null;case 4:return Re(),null;case 10:return Zr(o.type),null;case 22:case 23:return Cn(o),ki(),r!==null&&M(q),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Zr(pi),null;case 25:return null;default:return null}}function Ng(r,o){switch(Lu(o),o.tag){case 3:Zr(pi),Re();break;case 26:case 27:case 5:Oe(o);break;case 4:Re();break;case 31:o.memoizedState!==null&&Cn(o);break;case 13:Cn(o);break;case 19:M(fn);break;case 10:Zr(o.type);break;case 22:case 23:Cn(o),ki(),r!==null&&M(q);break;case 24:Zr(pi)}}function Qc(r,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&r)===r){h=void 0;var x=u.create,L=u.inst;h=x(),L.destroy=h}u=u.next}while(u!==v)}}catch(z){kn(o,o.return,z)}}function Xo(r,o,u){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&r)===r){var L=h.inst,z=L.destroy;if(z!==void 0){L.destroy=void 0,v=o;var ue=u,Ne=z;try{Ne()}catch(Ue){kn(v,ue,Ue)}}}h=h.next}while(h!==x)}}catch(Ue){kn(o,o.return,Ue)}}function Cg(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{_i(o,u)}catch(h){kn(r,r.return,h)}}}function Rg(r,o,u){u.props=Jl(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(h){kn(r,o,h)}}function ef(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof u=="function"?r.refCleanup=u(h):u.current=h}}catch(v){kn(r,o,v)}}function ja(r,o){var u=r.ref,h=r.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){kn(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){kn(r,o,v)}else u.current=null}function kg(r){var o=r.type,u=r.memoizedProps,h=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){kn(r,r.return,v)}}function np(r,o,u){try{var h=r.stateNode;Ww(h,r.type,u,o),h[jn]=o}catch(v){kn(r,r.return,v)}}function Lg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&rl(r.type)||r.tag===4}function ip(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&rl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rp(r,o,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=us));else if(h!==4&&(h===27&&rl(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(rp(r,o,u),r=r.sibling;r!==null;)rp(r,o,u),r=r.sibling}function nd(r,o,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(h!==4&&(h===27&&rl(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(nd(r,o,u),r=r.sibling;r!==null;)nd(r,o,u),r=r.sibling}function Ig(r){var o=r.stateNode,u=r.memoizedProps;try{for(var h=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);pr(o,h,u),o[Sn]=r,o[jn]=u}catch(x){kn(r,r.return,x)}}var po=!1,ji=!1,sp=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,sr=null;function Cw(r,o){if(r=r.containerInfo,Tp=xd,r=aa(r),Ps(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var L=0,z=-1,ue=-1,Ne=0,Ue=0,He=r,Le=null;t:for(;;){for(var Ie;He!==u||v!==0&&He.nodeType!==3||(z=L+v),He!==x||h!==0&&He.nodeType!==3||(ue=L+h),He.nodeType===3&&(L+=He.nodeValue.length),(Ie=He.firstChild)!==null;)Le=He,He=Ie;for(;;){if(He===r)break t;if(Le===u&&++Ne===v&&(z=L),Le===x&&++Ue===h&&(ue=L),(Ie=He.nextSibling)!==null)break;He=Le,Le=He.parentNode}He=Ie}u=z===-1||ue===-1?null:{start:z,end:ue}}else u=null}u=u||{start:0,end:0}}else u=null;for(Np={focusedElem:r,selectionRange:u},xd=!1,sr=o;sr!==null;)if(o=sr,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,sr=r;else for(;sr!==null;){switch(o=sr,x=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)v=r[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,h=u.stateNode;try{var ct=Jl(u.type,v);r=h.getSnapshotBeforeUpdate(ct,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(It){kn(u,u.return,It)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)kp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":kp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,sr=r;break}sr=o.return}}function Pg(r,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:go(r,u),h&4&&Qc(5,u);break;case 1:if(go(r,u),h&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(L){kn(u,u.return,L)}else{var v=Jl(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(L){kn(u,u.return,L)}}h&64&&Cg(u),h&512&&ef(u,u.return);break;case 3:if(go(r,u),h&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{_i(r,o)}catch(L){kn(u,u.return,L)}}break;case 27:o===null&&h&4&&Ig(u);case 26:case 5:go(r,u),o===null&&h&4&&kg(u),h&512&&ef(u,u.return);break;case 12:go(r,u);break;case 31:go(r,u),h&4&&Ug(r,u);break;case 13:go(r,u),h&4&&Bg(r,u),h&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=Uw.bind(null,u),iS(r,u))));break;case 22:if(h=u.memoizedState!==null||po,!h){o=o!==null&&o.memoizedState!==null||ji,v=po;var x=ji;po=h,(ji=o)&&!x?yo(r,u,(u.subtreeFlags&8772)!==0):go(r,u),po=v,ji=x}break;case 30:break;default:go(r,u)}}function Dg(r){var o=r.alternate;o!==null&&(r.alternate=null,Dg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&an(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ai=null,es=!1;function mo(r,o,u){for(u=u.child;u!==null;)Og(r,o,u),u=u.sibling}function Og(r,o,u){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Yt,u)}catch{}switch(u.tag){case 26:ji||ja(u,o),mo(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ji||ja(u,o);var h=ai,v=es;rl(u.type)&&(ai=u.stateNode,es=!1),mo(r,o,u),cf(u.stateNode),ai=h,es=v;break;case 5:ji||ja(u,o);case 6:if(h=ai,v=es,ai=null,mo(r,o,u),ai=h,es=v,ai!==null)if(es)try{(ai.nodeType===9?ai.body:ai.nodeName==="HTML"?ai.ownerDocument.body:ai).removeChild(u.stateNode)}catch(x){kn(u,o,x)}else try{ai.removeChild(u.stateNode)}catch(x){kn(u,o,x)}break;case 18:ai!==null&&(es?(r=ai,C1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),nc(r)):C1(ai,u.stateNode));break;case 4:h=ai,v=es,ai=u.stateNode.containerInfo,es=!0,mo(r,o,u),ai=h,es=v;break;case 0:case 11:case 14:case 15:Xo(2,u,o),ji||Xo(4,u,o),mo(r,o,u);break;case 1:ji||(ja(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&Rg(u,o,h)),mo(r,o,u);break;case 21:mo(r,o,u);break;case 22:ji=(h=ji)||u.memoizedState!==null,mo(r,o,u),ji=h;break;default:mo(r,o,u)}}function Ug(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{nc(r)}catch(u){kn(o,o.return,u)}}}function Bg(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nc(r)}catch(u){kn(o,o.return,u)}}function Rw(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Mg),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Mg),o;default:throw Error(i(435,r.tag))}}function id(r,o){var u=Rw(r);o.forEach(function(h){if(!u.has(h)){u.add(h);var v=Bw.bind(null,r,h);h.then(v,v)}})}function ts(r,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],x=r,L=o,z=L;e:for(;z!==null;){switch(z.tag){case 27:if(rl(z.type)){ai=z.stateNode,es=!1;break e}break;case 5:ai=z.stateNode,es=!1;break e;case 3:case 4:ai=z.stateNode.containerInfo,es=!0;break e}z=z.return}if(ai===null)throw Error(i(160));Og(x,L,v),ai=null,es=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Fg(o,r),o=o.sibling}var pa=null;function Fg(r,o){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ts(o,r),ns(r),h&4&&(Xo(3,r,r.return),Qc(3,r),Xo(5,r,r.return));break;case 1:ts(o,r),ns(r),h&512&&(ji||u===null||ja(u,u.return)),h&64&&po&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=pa;if(ts(o,r),ns(r),h&512&&(ji||u===null||ja(u,u.return)),h&4){var x=u!==null?u.memoizedState:null;if(h=r.memoizedState,u===null)if(h===null)if(r.stateNode===null){e:{h=r.type,u=r.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[vr]||x[Sn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),pr(x,h,u),x[Sn]=r,ci(x),h=x;break e;case"link":var L=F1("link","href",v).get(h+(u.href||""));if(L){for(var z=0;z<L.length;z++)if(x=L[z],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(z,1);break t}}x=v.createElement(h),pr(x,h,u),v.head.appendChild(x);break;case"meta":if(L=F1("meta","content",v).get(h+(u.content||""))){for(z=0;z<L.length;z++)if(x=L[z],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(z,1);break t}}x=v.createElement(h),pr(x,h,u),v.head.appendChild(x);break;default:throw Error(i(468,h))}x[Sn]=r,ci(x),h=x}r.stateNode=h}else q1(v,r.type,r.stateNode);else r.stateNode=B1(v,h,r.memoizedProps);else x!==h?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,h===null?q1(v,r.type,r.stateNode):B1(v,h,r.memoizedProps)):h===null&&r.stateNode!==null&&np(r,r.memoizedProps,u.memoizedProps)}break;case 27:ts(o,r),ns(r),h&512&&(ji||u===null||ja(u,u.return)),u!==null&&h&4&&np(r,r.memoizedProps,u.memoizedProps);break;case 5:if(ts(o,r),ns(r),h&512&&(ji||u===null||ja(u,u.return)),r.flags&32){v=r.stateNode;try{ls(v,"")}catch(ct){kn(r,r.return,ct)}}h&4&&r.stateNode!=null&&(v=r.memoizedProps,np(r,v,u!==null?u.memoizedProps:v)),h&1024&&(sp=!0);break;case 6:if(ts(o,r),ns(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,u=r.stateNode;try{u.nodeValue=h}catch(ct){kn(r,r.return,ct)}}break;case 3:if(bd=null,v=pa,pa=yd(o.containerInfo),ts(o,r),pa=v,ns(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{nc(o.containerInfo)}catch(ct){kn(r,r.return,ct)}sp&&(sp=!1,qg(r));break;case 4:h=pa,pa=yd(r.stateNode.containerInfo),ts(o,r),ns(r),pa=h;break;case 12:ts(o,r),ns(r);break;case 31:ts(o,r),ns(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,id(r,h)));break;case 13:ts(o,r),ns(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sd=jt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,id(r,h)));break;case 22:v=r.memoizedState!==null;var ue=u!==null&&u.memoizedState!==null,Ne=po,Ue=ji;if(po=Ne||v,ji=Ue||ue,ts(o,r),ji=Ue,po=Ne,ns(r),h&8192)e:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||ue||po||ji||Yl(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){ue=u=o;try{if(x=ue.stateNode,v)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{z=ue.stateNode;var He=ue.memoizedProps.style,Le=He!=null&&He.hasOwnProperty("display")?He.display:null;z.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(ct){kn(ue,ue.return,ct)}}}else if(o.tag===6){if(u===null){ue=o;try{ue.stateNode.nodeValue=v?"":ue.memoizedProps}catch(ct){kn(ue,ue.return,ct)}}}else if(o.tag===18){if(u===null){ue=o;try{var Ie=ue.stateNode;v?R1(Ie,!0):R1(ue.stateNode,!1)}catch(ct){kn(ue,ue.return,ct)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=r.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,id(r,u))));break;case 19:ts(o,r),ns(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,id(r,h)));break;case 30:break;case 21:break;default:ts(o,r),ns(r)}}function ns(r){var o=r.flags;if(o&2){try{for(var u,h=r.return;h!==null;){if(Lg(h)){u=h;break}h=h.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var v=u.stateNode,x=ip(r);nd(r,x,v);break;case 5:var L=u.stateNode;u.flags&32&&(ls(L,""),u.flags&=-33);var z=ip(r);nd(r,z,L);break;case 3:case 4:var ue=u.stateNode.containerInfo,Ne=ip(r);rp(r,Ne,ue);break;default:throw Error(i(161))}}catch(Ue){kn(r,r.return,Ue)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function qg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;qg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function go(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Pg(r,o.alternate,o),o=o.sibling}function Yl(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Xo(4,o,o.return),Yl(o);break;case 1:ja(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Rg(o,o.return,u),Yl(o);break;case 27:cf(o.stateNode);case 26:case 5:ja(o,o.return),Yl(o);break;case 22:o.memoizedState===null&&Yl(o);break;case 30:Yl(o);break;default:Yl(o)}r=r.sibling}}function yo(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=r,x=o,L=x.flags;switch(x.tag){case 0:case 11:case 15:yo(v,x,u),Qc(4,x);break;case 1:if(yo(v,x,u),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ne){kn(h,h.return,Ne)}if(h=x,v=h.updateQueue,v!==null){var z=h.stateNode;try{var ue=v.shared.hiddenCallbacks;if(ue!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ue.length;v++)ir(ue[v],z)}catch(Ne){kn(h,h.return,Ne)}}u&&L&64&&Cg(x),ef(x,x.return);break;case 27:Ig(x);case 26:case 5:yo(v,x,u),u&&h===null&&L&4&&kg(x),ef(x,x.return);break;case 12:yo(v,x,u);break;case 31:yo(v,x,u),u&&L&4&&Ug(v,x);break;case 13:yo(v,x,u),u&&L&4&&Bg(v,x);break;case 22:x.memoizedState===null&&yo(v,x,u),ef(x,x.return);break;case 30:break;default:yo(v,x,u)}o=o.sibling}}function ap(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&zl(u))}function op(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&zl(r))}function ma(r,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)jg(r,o,u,h),o=o.sibling}function jg(r,o,u,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:ma(r,o,u,h),v&2048&&Qc(9,o);break;case 1:ma(r,o,u,h);break;case 3:ma(r,o,u,h),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&zl(r)));break;case 12:if(v&2048){ma(r,o,u,h),r=o.stateNode;try{var x=o.memoizedProps,L=x.id,z=x.onPostCommit;typeof z=="function"&&z(L,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ue){kn(o,o.return,ue)}}else ma(r,o,u,h);break;case 31:ma(r,o,u,h);break;case 13:ma(r,o,u,h);break;case 23:break;case 22:x=o.stateNode,L=o.alternate,o.memoizedState!==null?x._visibility&2?ma(r,o,u,h):tf(r,o):x._visibility&2?ma(r,o,u,h):(x._visibility|=2,Vu(r,o,u,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&ap(L,o);break;case 24:ma(r,o,u,h),v&2048&&op(o.alternate,o);break;default:ma(r,o,u,h)}}function Vu(r,o,u,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=r,L=o,z=u,ue=h,Ne=L.flags;switch(L.tag){case 0:case 11:case 15:Vu(x,L,z,ue,v),Qc(8,L);break;case 23:break;case 22:var Ue=L.stateNode;L.memoizedState!==null?Ue._visibility&2?Vu(x,L,z,ue,v):tf(x,L):(Ue._visibility|=2,Vu(x,L,z,ue,v)),v&&Ne&2048&&ap(L.alternate,L);break;case 24:Vu(x,L,z,ue,v),v&&Ne&2048&&op(L.alternate,L);break;default:Vu(x,L,z,ue,v)}o=o.sibling}}function tf(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,h=o,v=h.flags;switch(h.tag){case 22:tf(u,h),v&2048&&ap(h.alternate,h);break;case 24:tf(u,h),v&2048&&op(h.alternate,h);break;default:tf(u,h)}o=o.sibling}}var nf=8192;function $u(r,o,u){if(r.subtreeFlags&nf)for(r=r.child;r!==null;)Hg(r,o,u),r=r.sibling}function Hg(r,o,u){switch(r.tag){case 26:$u(r,o,u),r.flags&nf&&r.memoizedState!==null&&mS(u,pa,r.memoizedState,r.memoizedProps);break;case 5:$u(r,o,u);break;case 3:case 4:var h=pa;pa=yd(r.stateNode.containerInfo),$u(r,o,u),pa=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=nf,nf=16777216,$u(r,o,u),nf=h):$u(r,o,u));break;default:$u(r,o,u)}}function zg(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function rf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];sr=h,Vg(h,r)}zg(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gg(r),r=r.sibling}function Gg(r){switch(r.tag){case 0:case 11:case 15:rf(r),r.flags&2048&&Xo(9,r,r.return);break;case 3:rf(r);break;case 12:rf(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,rd(r)):rf(r);break;default:rf(r)}}function rd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];sr=h,Vg(h,r)}zg(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Xo(8,o,o.return),rd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,rd(o));break;default:rd(o)}r=r.sibling}}function Vg(r,o){for(;sr!==null;){var u=sr;switch(u.tag){case 0:case 11:case 15:Xo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:zl(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,sr=h;else e:for(u=r;sr!==null;){h=sr;var v=h.sibling,x=h.return;if(Dg(h),h===u){sr=null;break e}if(v!==null){v.return=x,sr=v;break e}sr=x}}}var kw={getCacheForType:function(r){var o=Wi(pi),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return Wi(pi).controller.signal}},Lw=typeof WeakMap=="function"?WeakMap:Map,En=0,Gn=null,rn=null,on=0,Rn=0,gs=null,Zo=!1,Ju=!1,lp=!1,vo=0,Ai=0,Qo=0,Wl=0,up=0,ys=0,Yu=0,sf=null,is=null,cp=!1,sd=0,$g=0,ad=1/0,od=null,el=null,Xi=0,tl=null,Wu=null,bo=0,fp=0,dp=null,Jg=null,af=0,hp=null;function vs(){return(En&2)!==0&&on!==0?on&-on:te.T!==null?bp():ui()}function Yg(){if(ys===0)if((on&536870912)===0||nn){var r=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),ys=r}else ys=536870912;return r=Zn.current,r!==null&&(r.flags|=32),ys}function rs(r,o,u){(r===Gn&&(Rn===2||Rn===9)||r.cancelPendingCommit!==null)&&(Ku(r,0),nl(r,on,ys,!1)),gt(r,u),((En&2)===0||r!==Gn)&&(r===Gn&&((En&2)===0&&(Wl|=u),Ai===4&&nl(r,on,ys,!1)),Ha(r))}function Wg(r,o,u){if((En&6)!==0)throw Error(i(327));var h=!u&&(o&127)===0&&(o&r.expiredLanes)===0||tt(r,o),v=h?Pw(r,o):mp(r,o,!0),x=h;do{if(v===0){Ju&&!h&&nl(r,o,0,!1);break}else{if(u=r.current.alternate,x&&!Iw(u)){v=mp(r,o,!1),x=!1;continue}if(v===2){if(x=o,r.errorRecoveryDisabledLanes&x)var L=0;else L=r.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){o=L;e:{var z=r;v=sf;var ue=z.current.memoizedState.isDehydrated;if(ue&&(Ku(z,L).flags|=256),L=mp(z,L,!1),L!==2){if(lp&&!ue){z.errorRecoveryDisabledLanes|=x,Wl|=x,v=4;break e}x=is,is=v,x!==null&&(is===null?is=x:is.push.apply(is,x))}v=L}if(x=!1,v!==2)continue}}if(v===1){Ku(r,0),nl(r,o,0,!0);break}e:{switch(h=r,x=v,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:nl(h,o,ys,!Zo);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=sd+300-jt(),10<v)){if(nl(h,o,ys,!Zo),Ye(h,0,!0)!==0)break e;bo=o,h.timeoutHandle=T1(Kg.bind(null,h,u,is,od,cp,o,ys,Wl,Yu,Zo,x,"Throttled",-0,0),v);break e}Kg(h,u,is,od,cp,o,ys,Wl,Yu,Zo,x,null,-0,0)}}break}while(!0);Ha(r)}function Kg(r,o,u,h,v,x,L,z,ue,Ne,Ue,He,Le,Ie){if(r.timeoutHandle=-1,He=o.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:us},Hg(o,x,He);var ct=(x&62914560)===x?sd-jt():(x&4194048)===x?$g-jt():0;if(ct=gS(He,ct),ct!==null){bo=x,r.cancelPendingCommit=ct(r1.bind(null,r,o,x,u,h,v,L,z,ue,Ue,He,null,Le,Ie)),nl(r,x,L,!Ne);return}}r1(r,o,x,u,h,v,L,z,ue)}function Iw(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],x=v.getSnapshot;v=v.value;try{if(!Vi(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function nl(r,o,u,h){o&=~up,o&=~Wl,r.suspendedLanes|=o,r.pingedLanes&=~o,h&&(r.warmLanes|=o),h=r.expirationTimes;for(var v=o;0<v;){var x=31-Zt(v),L=1<<x;h[x]=-1,v&=~L}u!==0&&kr(r,u,o)}function ld(){return(En&6)===0?(of(0),!1):!0}function pp(){if(rn!==null){if(Rn===0)var r=rn.return;else r=rn,Os=Ma=null,Bu(r),ze=null,dt=0,r=rn;for(;r!==null;)Ng(r.alternate,r),r=r.return;rn=null}}function Ku(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,Zw(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),bo=0,pp(),Gn=r,rn=u=$r(r.current,null),on=o,Rn=0,gs=null,Zo=!1,Ju=tt(r,o),lp=!1,Yu=ys=up=Wl=Qo=Ai=0,is=sf=null,cp=!1,(o&8)!==0&&(o|=o&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=o;0<h;){var v=31-Zt(h),x=1<<v;o|=r[v],h&=~x}return vo=o,Ul(),u}function Xg(r,o){Tt=null,te.H=Kc,o===me||o===X?(o=Fe(),Rn=3):o===Ee?(o=Fe(),Rn=4):Rn=o===$h?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gs=o,rn===null&&(Ai=1,Xf(r,Jr(o,r.current)))}function Zg(){var r=Zn.current;return r===null?!0:(on&4194048)===on?hn===null:(on&62914560)===on||(on&536870912)!==0?r===hn:!1}function Qg(){var r=te.H;return te.H=Kc,r===null?Kc:r}function e1(){var r=te.A;return te.A=kw,r}function ud(){Ai=4,Zo||(on&4194048)!==on&&Zn.current!==null||(Ju=!0),(Qo&134217727)===0&&(Wl&134217727)===0||Gn===null||nl(Gn,on,ys,!1)}function mp(r,o,u){var h=En;En|=2;var v=Qg(),x=e1();(Gn!==r||on!==o)&&(od=null,Ku(r,o)),o=!1;var L=Ai;e:do try{if(Rn!==0&&rn!==null){var z=rn,ue=gs;switch(Rn){case 8:pp(),L=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(o=!0);var Ne=Rn;if(Rn=0,gs=null,Xu(r,z,ue,Ne),u&&Ju){L=0;break e}break;default:Ne=Rn,Rn=0,gs=null,Xu(r,z,ue,Ne)}}Mw(),L=Ai;break}catch(Ue){Xg(r,Ue)}while(!0);return o&&r.shellSuspendCounter++,Os=Ma=null,En=h,te.H=v,te.A=x,rn===null&&(Gn=null,on=0,Ul()),L}function Mw(){for(;rn!==null;)t1(rn)}function Pw(r,o){var u=En;En|=2;var h=Qg(),v=e1();Gn!==r||on!==o?(od=null,ad=jt()+500,Ku(r,o)):Ju=tt(r,o);e:do try{if(Rn!==0&&rn!==null){o=rn;var x=gs;t:switch(Rn){case 1:Rn=0,gs=null,Xu(r,o,x,1);break;case 2:case 9:if(Se(x)){Rn=0,gs=null,n1(o);break}o=function(){Rn!==2&&Rn!==9||Gn!==r||(Rn=7),Ha(r)},x.then(o,o);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:Se(x)?(Rn=0,gs=null,n1(o)):(Rn=0,gs=null,Xu(r,o,x,7));break;case 5:var L=null;switch(rn.tag){case 26:L=rn.memoizedState;case 5:case 27:var z=rn;if(L?j1(L):z.stateNode.complete){Rn=0,gs=null;var ue=z.sibling;if(ue!==null)rn=ue;else{var Ne=z.return;Ne!==null?(rn=Ne,cd(Ne)):rn=null}break t}}Rn=0,gs=null,Xu(r,o,x,5);break;case 6:Rn=0,gs=null,Xu(r,o,x,6);break;case 8:pp(),Ai=6;break e;default:throw Error(i(462))}}Dw();break}catch(Ue){Xg(r,Ue)}while(!0);return Os=Ma=null,te.H=h,te.A=v,En=u,rn!==null?0:(Gn=null,on=0,Ul(),Ai)}function Dw(){for(;rn!==null&&!Et();)t1(rn)}function t1(r){var o=Eg(r.alternate,r,vo);r.memoizedProps=r.pendingProps,o===null?cd(r):rn=o}function n1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=bg(u,o,o.pendingProps,o.type,void 0,on);break;case 11:o=bg(u,o,o.pendingProps,o.type.render,o.ref,on);break;case 5:Bu(o);default:Ng(u,o),o=rn=ql(o,vo),o=Eg(u,o,vo)}r.memoizedProps=r.pendingProps,o===null?cd(r):rn=o}function Xu(r,o,u,h){Os=Ma=null,Bu(o),ze=null,dt=0;var v=o.return;try{if(xw(r,v,o,u,on)){Ai=1,Xf(r,Jr(u,r.current)),rn=null;return}}catch(x){if(v!==null)throw rn=v,x;Ai=1,Xf(r,Jr(u,r.current)),rn=null;return}o.flags&32768?(nn||h===1?r=!0:Ju||(on&536870912)!==0?r=!1:(Zo=r=!0,(h===2||h===9||h===3||h===6)&&(h=Zn.current,h!==null&&h.tag===13&&(h.flags|=16384))),i1(o,r)):cd(o)}function cd(r){var o=r;do{if((o.flags&32768)!==0){i1(o,Zo);return}r=o.return;var u=Tw(o.alternate,o,vo);if(u!==null){rn=u;return}if(o=o.sibling,o!==null){rn=o;return}rn=o=r}while(o!==null);Ai===0&&(Ai=5)}function i1(r,o){do{var u=Nw(r.alternate,r);if(u!==null){u.flags&=32767,rn=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){rn=r;return}rn=r=u}while(r!==null);Ai=6,rn=null}function r1(r,o,u,h,v,x,L,z,ue){r.cancelPendingCommit=null;do fd();while(Xi!==0);if((En&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=Au,jr(r,u,x,L,z,ue),r===Gn&&(rn=Gn=null,on=0),Wu=o,tl=r,bo=u,fp=x,dp=v,Jg=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Fw(Ht,function(){return u1(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=te.T,te.T=null,v=pe.p,pe.p=2,L=En,En|=4;try{Cw(r,o,u)}finally{En=L,pe.p=v,te.T=h}}Xi=1,s1(),a1(),o1()}}function s1(){if(Xi===1){Xi=0;var r=tl,o=Wu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=te.T,te.T=null;var h=pe.p;pe.p=2;var v=En;En|=4;try{Fg(o,r);var x=Np,L=aa(r.containerInfo),z=x.focusedElem,ue=x.selectionRange;if(L!==z&&z&&z.ownerDocument&&sa(z.ownerDocument.documentElement,z)){if(ue!==null&&Ps(z)){var Ne=ue.start,Ue=ue.end;if(Ue===void 0&&(Ue=Ne),"selectionStart"in z)z.selectionStart=Ne,z.selectionEnd=Math.min(Ue,z.value.length);else{var He=z.ownerDocument||document,Le=He&&He.defaultView||window;if(Le.getSelection){var Ie=Le.getSelection(),ct=z.textContent.length,It=Math.min(ue.start,ct),Fn=ue.end===void 0?It:Math.min(ue.end,ct);!Ie.extend&&It>Fn&&(L=Fn,Fn=It,It=L);var we=qo(z,It),ye=qo(z,Fn);if(we&&ye&&(Ie.rangeCount!==1||Ie.anchorNode!==we.node||Ie.anchorOffset!==we.offset||Ie.focusNode!==ye.node||Ie.focusOffset!==ye.offset)){var Te=He.createRange();Te.setStart(we.node,we.offset),Ie.removeAllRanges(),It>Fn?(Ie.addRange(Te),Ie.extend(ye.node,ye.offset)):(Te.setEnd(ye.node,ye.offset),Ie.addRange(Te))}}}}for(He=[],Ie=z;Ie=Ie.parentNode;)Ie.nodeType===1&&He.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<He.length;z++){var qe=He[z];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}xd=!!Tp,Np=Tp=null}finally{En=v,pe.p=h,te.T=u}}r.current=o,Xi=2}}function a1(){if(Xi===2){Xi=0;var r=tl,o=Wu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=te.T,te.T=null;var h=pe.p;pe.p=2;var v=En;En|=4;try{Pg(r,o.alternate,o)}finally{En=v,pe.p=h,te.T=u}}Xi=3}}function o1(){if(Xi===4||Xi===3){Xi=0,_t();var r=tl,o=Wu,u=bo,h=Jg;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Xi=5:(Xi=0,Wu=tl=null,l1(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(el=null),Yn(u),o=o.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Yt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=te.T,v=pe.p,pe.p=2,te.T=null;try{for(var x=r.onRecoverableError,L=0;L<h.length;L++){var z=h[L];x(z.value,{componentStack:z.stack})}}finally{te.T=o,pe.p=v}}(bo&3)!==0&&fd(),Ha(r),v=r.pendingLanes,(u&261930)!==0&&(v&42)!==0?r===hp?af++:(af=0,hp=r):af=0,of(0)}}function l1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,zl(o)))}function fd(){return s1(),a1(),o1(),u1()}function u1(){if(Xi!==5)return!1;var r=tl,o=fp;fp=0;var u=Yn(bo),h=te.T,v=pe.p;try{pe.p=32>u?32:u,te.T=null,u=dp,dp=null;var x=tl,L=bo;if(Xi=0,Wu=tl=null,bo=0,(En&6)!==0)throw Error(i(331));var z=En;if(En|=4,Gg(x.current),jg(x,x.current,L,u),En=z,of(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Yt,x)}catch{}return!0}finally{pe.p=v,te.T=h,l1(r,o)}}function c1(r,o,u){o=Jr(u,o),o=Vh(r.stateNode,o,2),r=Jt(r,o,2),r!==null&&(gt(r,2),Ha(r))}function kn(r,o,u){if(r.tag===3)c1(r,r,u);else for(;o!==null;){if(o.tag===3){c1(o,r,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(el===null||!el.has(h))){r=Jr(u,r),u=fg(2),h=Jt(o,u,2),h!==null&&(dg(u,h,o,r),gt(h,2),Ha(h));break}}o=o.return}}function gp(r,o,u){var h=r.pingCache;if(h===null){h=r.pingCache=new Lw;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(u)||(lp=!0,v.add(u),r=Ow.bind(null,r,o,u),o.then(r,r))}function Ow(r,o,u){var h=r.pingCache;h!==null&&h.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Gn===r&&(on&u)===u&&(Ai===4||Ai===3&&(on&62914560)===on&&300>jt()-sd?(En&2)===0&&Ku(r,0):up|=u,Yu===on&&(Yu=0)),Ha(r)}function f1(r,o){o===0&&(o=Pi()),r=la(r,o),r!==null&&(gt(r,o),Ha(r))}function Uw(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),f1(r,u)}function Bw(r,o){var u=0;switch(r.tag){case 31:case 13:var h=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(o),f1(r,u)}function Fw(r,o){return St(r,o)}var dd=null,Zu=null,yp=!1,hd=!1,vp=!1,il=0;function Ha(r){r!==Zu&&r.next===null&&(Zu===null?dd=Zu=r:Zu=Zu.next=r),hd=!0,yp||(yp=!0,jw())}function of(r,o){if(!vp&&hd){vp=!0;do for(var u=!1,h=dd;h!==null;){if(r!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var L=h.suspendedLanes,z=h.pingedLanes;x=(1<<31-Zt(42|r)+1)-1,x&=v&~(L&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,m1(h,x))}else x=on,x=Ye(h,h===Gn?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||tt(h,x)||(u=!0,m1(h,x));h=h.next}while(u);vp=!1}}function qw(){d1()}function d1(){hd=yp=!1;var r=0;il!==0&&Xw()&&(r=il);for(var o=jt(),u=null,h=dd;h!==null;){var v=h.next,x=h1(h,o);x===0?(h.next=null,u===null?dd=v:u.next=v,v===null&&(Zu=u)):(u=h,(r!==0||(x&3)!==0)&&(hd=!0)),h=v}Xi!==0&&Xi!==5||of(r),il!==0&&(il=0)}function h1(r,o){for(var u=r.suspendedLanes,h=r.pingedLanes,v=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var L=31-Zt(x),z=1<<L,ue=v[L];ue===-1?((z&u)===0||(z&h)!==0)&&(v[L]=Mn(z,o)):ue<=o&&(r.expiredLanes|=z),x&=~z}if(o=Gn,u=on,u=Ye(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,u===0||r===o&&(Rn===2||Rn===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&it(h),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||tt(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(h!==null&&it(h),Yn(u)){case 2:case 8:u=Xt;break;case 32:u=Ht;break;case 268435456:u=Ut;break;default:u=Ht}return h=p1.bind(null,r),u=St(u,h),r.callbackPriority=o,r.callbackNode=u,o}return h!==null&&h!==null&&it(h),r.callbackPriority=2,r.callbackNode=null,2}function p1(r,o){if(Xi!==0&&Xi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(fd()&&r.callbackNode!==u)return null;var h=on;return h=Ye(r,r===Gn?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Wg(r,h,o),h1(r,jt()),r.callbackNode!=null&&r.callbackNode===u?p1.bind(null,r):null)}function m1(r,o){if(fd())return null;Wg(r,o,!0)}function jw(){Qw(function(){(En&6)!==0?St(Ot,qw):d1()})}function bp(){if(il===0){var r=g;r===0&&(r=Je,Je<<=1,(Je&261888)===0&&(Je=256)),il=r}return il}function g1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:br(""+r)}function y1(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function Hw(r,o,u,h,v){if(o==="submit"&&u&&u.stateNode===v){var x=g1((v[jn]||null).action),L=h.submitter;L&&(o=(o=L[jn]||null)?g1(o.formAction):L.getAttribute("formAction"),o!==null&&(x=o,L=null));var z=new zr("action","action",null,h,v);r.push({event:z,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(il!==0){var ue=L?y1(v,L):new FormData(v);Fh(u,{pending:!0,data:ue,method:v.method,action:x},null,ue)}}else typeof x=="function"&&(z.preventDefault(),ue=L?y1(v,L):new FormData(v),Fh(u,{pending:!0,data:ue,method:v.method,action:x},x,ue))},currentTarget:v}]})}}for(var _p=0;_p<io.length;_p++){var wp=io[_p],zw=wp.toLowerCase(),Gw=wp[0].toUpperCase()+wp.slice(1);Vr(zw,"on"+Gw)}Vr(no,"onAnimationEnd"),Vr(Dl,"onAnimationIteration"),Vr(Dc,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(Bf,"onTransitionRun"),Vr(Ff,"onTransitionStart"),Vr(qf,"onTransitionCancel"),Vr(Oc,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function v1(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],v=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var L=h.length-1;0<=L;L--){var z=h[L],ue=z.instance,Ne=z.currentTarget;if(z=z.listener,ue!==x&&v.isPropagationStopped())break e;x=z,v.currentTarget=Ne;try{x(v)}catch(Ue){Ol(Ue)}v.currentTarget=null,x=ue}else for(L=0;L<h.length;L++){if(z=h[L],ue=z.instance,Ne=z.currentTarget,z=z.listener,ue!==x&&v.isPropagationStopped())break e;x=z,v.currentTarget=Ne;try{x(v)}catch(Ue){Ol(Ue)}v.currentTarget=null,x=ue}}}}function sn(r,o){var u=o[gr];u===void 0&&(u=o[gr]=new Set);var h=r+"__bubble";u.has(h)||(b1(o,r,2,!1),u.add(h))}function Sp(r,o,u){var h=0;o&&(h|=4),b1(u,r,h,o)}var pd="_reactListening"+Math.random().toString(36).slice(2);function xp(r){if(!r[pd]){r[pd]=!0,vl.forEach(function(u){u!=="selectionchange"&&(Vw.has(u)||Sp(u,!1,r),Sp(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[pd]||(o[pd]=!0,Sp("selectionchange",!1,o))}}function b1(r,o,u,h){switch(Y1(o)){case 2:var v=bS;break;case 8:v=_S;break;default:v=Bp}u=v.bind(null,o,u,r),v=void 0,!kl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?r.addEventListener(o,u,{capture:!0,passive:v}):r.addEventListener(o,u,!0):v!==void 0?r.addEventListener(o,u,{passive:v}):r.addEventListener(o,u,!1)}function Ap(r,o,u,h,v){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var z=h.stateNode.containerInfo;if(z===v)break;if(L===4)for(L=h.return;L!==null;){var ue=L.tag;if((ue===3||ue===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;z!==null;){if(L=ni(z),L===null)return;if(ue=L.tag,ue===5||ue===6||ue===26||ue===27){h=x=L;continue e}z=z.parentNode}}h=h.return}bu(function(){var Ne=x,Ue=Wa(u),He=[];e:{var Le=Uc.get(r);if(Le!==void 0){var Ie=zr,ct=r;switch(r){case"keypress":if(Hr(u)===0)break e;case"keydown":case"keyup":Ie=un;break;case"focusin":ct="focus",Ie=Xs;break;case"focusout":ct="blur",Ie=Xs;break;case"beforeblur":case"afterblur":Ie=Xs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Ks;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Ci;break;case no:case Dl:case Dc:Ie=A;break;case Oc:Ie=Gi;break;case"scroll":case"scrollend":Ie=Mo;break;case"wheel":Ie=cs;break;case"copy":case"cut":case"paste":Ie=Q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=fi;break;case"toggle":case"beforetoggle":Ie=Il}var It=(o&4)!==0,Fn=!It&&(r==="scroll"||r==="scrollend"),we=It?Le!==null?Le+"Capture":null:Le;It=[];for(var ye=Ne,Te;ye!==null;){var qe=ye;if(Te=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Te===null||we===null||(qe=Dr(ye,we),qe!=null&&It.push(uf(ye,qe,Te))),Fn)break;ye=ye.return}0<It.length&&(Le=new Ie(Le,ct,null,u,Ue),He.push({event:Le,listeners:It}))}}if((o&7)===0){e:{if(Le=r==="mouseover"||r==="pointerover",Ie=r==="mouseout"||r==="pointerout",Le&&u!==Vs&&(ct=u.relatedTarget||u.fromElement)&&(ni(ct)||ct[Ti]))break e;if((Ie||Le)&&(Le=Ue.window===Ue?Ue:(Le=Ue.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ie?(ct=u.relatedTarget||u.toElement,Ie=Ne,ct=ct?ni(ct):null,ct!==null&&(Fn=a(ct),It=ct.tag,ct!==Fn||It!==5&&It!==27&&It!==6)&&(ct=null)):(Ie=null,ct=Ne),Ie!==ct)){if(It=Ll,qe="onMouseLeave",we="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&(It=fi,qe="onPointerLeave",we="onPointerEnter",ye="pointer"),Fn=Ie==null?Le:Ja(Ie),Te=ct==null?Le:Ja(ct),Le=new It(qe,ye+"leave",Ie,u,Ue),Le.target=Fn,Le.relatedTarget=Te,qe=null,ni(Ue)===Ne&&(It=new It(we,ye+"enter",ct,u,Ue),It.target=Te,It.relatedTarget=Fn,qe=It),Fn=qe,Ie&&ct)t:{for(It=$w,we=Ie,ye=ct,Te=0,qe=we;qe;qe=It(qe))Te++;qe=0;for(var Rt=ye;Rt;Rt=It(Rt))qe++;for(;0<Te-qe;)we=It(we),Te--;for(;0<qe-Te;)ye=It(ye),qe--;for(;Te--;){if(we===ye||ye!==null&&we===ye.alternate){It=we;break t}we=It(we),ye=It(ye)}It=null}else It=null;Ie!==null&&_1(He,Le,Ie,It,!1),ct!==null&&Fn!==null&&_1(He,Fn,ct,It,!0)}}e:{if(Le=Ne?Ja(Ne):window,Ie=Le.nodeName&&Le.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Le.type==="file")var bn=Ra;else if(Ml(Le))if(_r)bn=Is;else{bn=di;var vt=Bo}else Ie=Le.nodeName,!Ie||Ie.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Ne&&Nl(Ne.elementType)&&(bn=Ra):bn=xu;if(bn&&(bn=bn(r,Ne))){Ur(He,bn,u,Ue);break e}vt&&vt(r,Le,Ne),r==="focusout"&&Ne&&Le.type==="number"&&Ne.memoizedProps.value!=null&&Al(Le,"number",Le.value)}switch(vt=Ne?Ja(Ne):window,r){case"focusin":(Ml(vt)||vt.contentEditable==="true")&&(Br=vt,oa=Ne,er=null);break;case"focusout":er=oa=Br=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,gn(He,u,Ue);break;case"selectionchange":if(to)break;case"keydown":case"keyup":gn(He,u,Ue)}var Wt;if(Cs)e:{switch(r){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else Rs?Ca(r,u)&&(ln="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(ln="onCompositionStart");ln&&(ea&&u.locale!=="ko"&&(Rs||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&Rs&&(Wt=_u()):(Or=Ue,Xa="value"in Or?Or.value:Or.textContent,Rs=!0)),vt=md(Ne,ln),0<vt.length&&(ln=new _e(ln,r,null,u,Ue),He.push({event:ln,listeners:vt}),Wt?ln.data=Wt:(Wt=Do(u),Wt!==null&&(ln.data=Wt)))),(Wt=eo?ur(r,u):ta(r,u))&&(ln=md(Ne,"onBeforeInput"),0<ln.length&&(vt=new _e("onBeforeInput","beforeinput",null,u,Ue),He.push({event:vt,listeners:ln}),vt.data=Wt)),Hw(He,r,Ne,u,Ue)}v1(He,o)})}function uf(r,o,u){return{instance:r,listener:o,currentTarget:u}}function md(r,o){for(var u=o+"Capture",h=[];r!==null;){var v=r,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Dr(r,u),v!=null&&h.unshift(uf(r,v,x)),v=Dr(r,o),v!=null&&h.push(uf(r,v,x))),r.tag===3)return h;r=r.return}return[]}function $w(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function _1(r,o,u,h,v){for(var x=o._reactName,L=[];u!==null&&u!==h;){var z=u,ue=z.alternate,Ne=z.stateNode;if(z=z.tag,ue!==null&&ue===h)break;z!==5&&z!==26&&z!==27||Ne===null||(ue=Ne,v?(Ne=Dr(u,x),Ne!=null&&L.unshift(uf(u,Ne,ue))):v||(Ne=Dr(u,x),Ne!=null&&L.push(uf(u,Ne,ue)))),u=u.return}L.length!==0&&r.push({event:o,listeners:L})}var Jw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function w1(r){return(typeof r=="string"?r:""+r).replace(Jw,`
`).replace(Yw,"")}function S1(r,o){return o=w1(o),w1(r)===o}function Bn(r,o,u,h,v,x){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||ls(r,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&ls(r,""+h);break;case"className":Gs(r,"class",h);break;case"tabIndex":Gs(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(r,u,h);break;case"style":gu(r,h,x);break;case"data":if(o!=="object"){Gs(r,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=br(""+h),r.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&Bn(r,o,"name",v.name,v,null),Bn(r,o,"formEncType",v.formEncType,v,null),Bn(r,o,"formMethod",v.formMethod,v,null),Bn(r,o,"formTarget",v.formTarget,v,null)):(Bn(r,o,"encType",v.encType,v,null),Bn(r,o,"method",v.method,v,null),Bn(r,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(u);break}h=br(""+h),r.setAttribute(u,h);break;case"onClick":h!=null&&(r.onclick=us);break;case"onScroll":h!=null&&sn("scroll",r);break;case"onScrollEnd":h!=null&&sn("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}u=br(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""+h):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":h===!0?r.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(u,h):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(u,h):r.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(u):r.setAttribute(u,h);break;case"popover":sn("beforetoggle",r),sn("toggle",r),Pr(r,"popover",h);break;case"xlinkActuate":os(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":os(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":os(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":os(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":os(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":os(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":os(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":os(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":os(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Pr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Cl.get(u)||u,Pr(r,u,h))}}function Ep(r,o,u,h,v,x){switch(u){case"style":gu(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof h=="string"?ls(r,h):(typeof h=="number"||typeof h=="bigint")&&ls(r,""+h);break;case"onScroll":h!=null&&sn("scroll",r);break;case"onScrollEnd":h!=null&&sn("scrollend",r);break;case"onClick":h!=null&&(r.onclick=us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=r[jn]||null,x=x!=null?x[u]:null,typeof x=="function"&&r.removeEventListener(o,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,h,v);break e}u in r?r[u]=h:h===!0?r.setAttribute(u,""):Pr(r,u,h)}}}function pr(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",r),sn("load",r);var h=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var L=u[x];if(L!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Bn(r,o,x,L,u,null)}}v&&Bn(r,o,"srcSet",u.srcSet,u,null),h&&Bn(r,o,"src",u.src,u,null);return;case"input":sn("invalid",r);var z=x=L=v=null,ue=null,Ne=null;for(h in u)if(u.hasOwnProperty(h)){var Ue=u[h];if(Ue!=null)switch(h){case"name":v=Ue;break;case"type":L=Ue;break;case"checked":ue=Ue;break;case"defaultChecked":Ne=Ue;break;case"value":x=Ue;break;case"defaultValue":z=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,o));break;default:Bn(r,o,h,Ue,u,null)}}pu(r,x,z,ue,Ne,L,v,!1);return;case"select":sn("invalid",r),h=L=x=null;for(v in u)if(u.hasOwnProperty(v)&&(z=u[v],z!=null))switch(v){case"value":x=z;break;case"defaultValue":L=z;break;case"multiple":h=z;default:Bn(r,o,v,z,u,null)}o=x,u=L,r.multiple=!!h,o!=null?lr(r,!!h,o,!1):u!=null&&lr(r,!!h,u,!0);return;case"textarea":sn("invalid",r),x=v=h=null;for(L in u)if(u.hasOwnProperty(L)&&(z=u[L],z!=null))switch(L){case"value":h=z;break;case"defaultValue":v=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Bn(r,o,L,z,u,null)}Tl(r,h,v,x);return;case"option":for(ue in u)if(u.hasOwnProperty(ue)&&(h=u[ue],h!=null))switch(ue){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Bn(r,o,ue,h,u,null)}return;case"dialog":sn("beforetoggle",r),sn("toggle",r),sn("cancel",r),sn("close",r);break;case"iframe":case"object":sn("load",r);break;case"video":case"audio":for(h=0;h<lf.length;h++)sn(lf[h],r);break;case"image":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"embed":case"source":case"link":sn("error",r),sn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in u)if(u.hasOwnProperty(Ne)&&(h=u[Ne],h!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Bn(r,o,Ne,h,u,null)}return;default:if(Nl(o)){for(Ue in u)u.hasOwnProperty(Ue)&&(h=u[Ue],h!==void 0&&Ep(r,o,Ue,h,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(h=u[z],h!=null&&Bn(r,o,z,h,u,null))}function Ww(r,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,L=null,z=null,ue=null,Ne=null,Ue=null;for(Ie in u){var He=u[Ie];if(u.hasOwnProperty(Ie)&&He!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ue=He;default:h.hasOwnProperty(Ie)||Bn(r,o,Ie,null,h,He)}}for(var Le in h){var Ie=h[Le];if(He=u[Le],h.hasOwnProperty(Le)&&(Ie!=null||He!=null))switch(Le){case"type":x=Ie;break;case"name":v=Ie;break;case"checked":Ne=Ie;break;case"defaultChecked":Ue=Ie;break;case"value":L=Ie;break;case"defaultValue":z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,o));break;default:Ie!==He&&Bn(r,o,Le,Ie,h,He)}}ko(r,L,z,ue,Ne,Ue,x,v);return;case"select":Ie=L=z=Le=null;for(x in u)if(ue=u[x],u.hasOwnProperty(x)&&ue!=null)switch(x){case"value":break;case"multiple":Ie=ue;default:h.hasOwnProperty(x)||Bn(r,o,x,null,h,ue)}for(v in h)if(x=h[v],ue=u[v],h.hasOwnProperty(v)&&(x!=null||ue!=null))switch(v){case"value":Le=x;break;case"defaultValue":z=x;break;case"multiple":L=x;default:x!==ue&&Bn(r,o,v,x,h,ue)}o=z,u=L,h=Ie,Le!=null?lr(r,!!u,Le,!1):!!h!=!!u&&(o!=null?lr(r,!!u,o,!0):lr(r,!!u,u?[]:"",!1));return;case"textarea":Ie=Le=null;for(z in u)if(v=u[z],u.hasOwnProperty(z)&&v!=null&&!h.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Bn(r,o,z,null,h,v)}for(L in h)if(v=h[L],x=u[L],h.hasOwnProperty(L)&&(v!=null||x!=null))switch(L){case"value":Le=v;break;case"defaultValue":Ie=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==x&&Bn(r,o,L,v,h,x)}El(r,Le,Ie);return;case"option":for(var ct in u)if(Le=u[ct],u.hasOwnProperty(ct)&&Le!=null&&!h.hasOwnProperty(ct))switch(ct){case"selected":r.selected=!1;break;default:Bn(r,o,ct,null,h,Le)}for(ue in h)if(Le=h[ue],Ie=u[ue],h.hasOwnProperty(ue)&&Le!==Ie&&(Le!=null||Ie!=null))switch(ue){case"selected":r.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Bn(r,o,ue,Le,h,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in u)Le=u[It],u.hasOwnProperty(It)&&Le!=null&&!h.hasOwnProperty(It)&&Bn(r,o,It,null,h,Le);for(Ne in h)if(Le=h[Ne],Ie=u[Ne],h.hasOwnProperty(Ne)&&Le!==Ie&&(Le!=null||Ie!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,o));break;default:Bn(r,o,Ne,Le,h,Ie)}return;default:if(Nl(o)){for(var Fn in u)Le=u[Fn],u.hasOwnProperty(Fn)&&Le!==void 0&&!h.hasOwnProperty(Fn)&&Ep(r,o,Fn,void 0,h,Le);for(Ue in h)Le=h[Ue],Ie=u[Ue],!h.hasOwnProperty(Ue)||Le===Ie||Le===void 0&&Ie===void 0||Ep(r,o,Ue,Le,h,Ie);return}}for(var we in u)Le=u[we],u.hasOwnProperty(we)&&Le!=null&&!h.hasOwnProperty(we)&&Bn(r,o,we,null,h,Le);for(He in h)Le=h[He],Ie=u[He],!h.hasOwnProperty(He)||Le===Ie||Le==null&&Ie==null||Bn(r,o,He,Le,h,Ie)}function x1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kw(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var v=u[h],x=v.transferSize,L=v.initiatorType,z=v.duration;if(x&&z&&x1(L)){for(L=0,z=v.responseEnd,h+=1;h<u.length;h++){var ue=u[h],Ne=ue.startTime;if(Ne>z)break;var Ue=ue.transferSize,He=ue.initiatorType;Ue&&x1(He)&&(ue=ue.responseEnd,L+=Ue*(ue<z?1:(z-Ne)/(ue-Ne)))}if(--h,o+=8*(x+L)/(v.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Tp=null,Np=null;function gd(r){return r.nodeType===9?r:r.ownerDocument}function A1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Cp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Rp=null;function Xw(){var r=window.event;return r&&r.type==="popstate"?r===Rp?!1:(Rp=r,!0):(Rp=null,!1)}var T1=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,N1=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof N1<"u"?function(r){return N1.resolve(null).then(r).catch(eS)}:T1;function eS(r){setTimeout(function(){throw r})}function rl(r){return r==="head"}function C1(r,o){var u=o,h=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(h===0){r.removeChild(v),nc(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")cf(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,cf(u);for(var x=u.firstChild;x;){var L=x.nextSibling,z=x.nodeName;x[vr]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=L}}else u==="body"&&cf(r.ownerDocument.body);u=v}while(u);nc(o)}function R1(r,o){var u=r;r=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=h}while(u)}function kp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":kp(u),an(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function tS(r,o,u,h){for(;r.nodeType===1;){var v=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[vr])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Fs(r.nextSibling),r===null)break}return null}function nS(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Fs(r.nextSibling),r===null))return null;return r}function k1(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Fs(r.nextSibling),r===null))return null;return r}function Lp(r){return r.data==="$?"||r.data==="$~"}function Ip(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function iS(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Fs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Mp=null;function L1(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return Fs(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function I1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function M1(r,o,u){switch(o=gd(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function cf(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);an(r)}var qs=new Map,P1=new Set;function yd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _o=pe.d;pe.d={f:rS,r:sS,D:aS,C:oS,L:lS,m:uS,X:fS,S:cS,M:dS};function rS(){var r=_o.f(),o=ld();return r||o}function sS(r){var o=vn(r);o!==null&&o.tag===5&&o.type==="form"?X0(o):_o.r(r)}var Qu=typeof document>"u"?null:document;function D1(r,o,u){var h=Qu;if(h&&typeof o=="string"&&o){var v=yi(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),P1.has(v)||(P1.add(v),r={rel:r,crossOrigin:u,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),pr(o,"link",r),ci(o),h.head.appendChild(o)))}}function aS(r){_o.D(r),D1("dns-prefetch",r,null)}function oS(r,o){_o.C(r,o),D1("preconnect",r,o)}function lS(r,o,u){_o.L(r,o,u);var h=Qu;if(h&&r&&o){var v='link[rel="preload"][as="'+yi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+yi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+yi(u.imageSizes)+'"]')):v+='[href="'+yi(r)+'"]';var x=v;switch(o){case"style":x=ec(r);break;case"script":x=tc(r)}qs.has(x)||(r=_({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),qs.set(x,r),h.querySelector(v)!==null||o==="style"&&h.querySelector(ff(x))||o==="script"&&h.querySelector(df(x))||(o=h.createElement("link"),pr(o,"link",r),ci(o),h.head.appendChild(o)))}}function uS(r,o){_o.m(r,o);var u=Qu;if(u&&r){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+yi(h)+'"][href="'+yi(r)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=tc(r)}if(!qs.has(x)&&(r=_({rel:"modulepreload",href:r},o),qs.set(x,r),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(df(x)))return}h=u.createElement("link"),pr(h,"link",r),ci(h),u.head.appendChild(h)}}}function cS(r,o,u){_o.S(r,o,u);var h=Qu;if(h&&r){var v=As(h).hoistableStyles,x=ec(r);o=o||"default";var L=v.get(x);if(!L){var z={loading:0,preload:null};if(L=h.querySelector(ff(x)))z.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":o},u),(u=qs.get(x))&&Pp(r,u);var ue=L=h.createElement("link");ci(ue),pr(ue,"link",r),ue._p=new Promise(function(Ne,Ue){ue.onload=Ne,ue.onerror=Ue}),ue.addEventListener("load",function(){z.loading|=1}),ue.addEventListener("error",function(){z.loading|=2}),z.loading|=4,vd(L,o,h)}L={type:"stylesheet",instance:L,count:1,state:z},v.set(x,L)}}}function fS(r,o){_o.X(r,o);var u=Qu;if(u&&r){var h=As(u).hoistableScripts,v=tc(r),x=h.get(v);x||(x=u.querySelector(df(v)),x||(r=_({src:r,async:!0},o),(o=qs.get(v))&&Dp(r,o),x=u.createElement("script"),ci(x),pr(x,"link",r),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function dS(r,o){_o.M(r,o);var u=Qu;if(u&&r){var h=As(u).hoistableScripts,v=tc(r),x=h.get(v);x||(x=u.querySelector(df(v)),x||(r=_({src:r,async:!0,type:"module"},o),(o=qs.get(v))&&Dp(r,o),x=u.createElement("script"),ci(x),pr(x,"link",r),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function O1(r,o,u,h){var v=(v=ce.current)?yd(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ec(u.href),u=As(v).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=ec(u.href);var x=As(v).hoistableStyles,L=x.get(r);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,L),(x=v.querySelector(ff(r)))&&!x._p&&(L.instance=x,L.state.loading=5),qs.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},qs.set(r,u),x||hS(v,r,u,L.state))),o&&h===null)throw Error(i(528,""));return L}if(o&&h!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tc(u),u=As(v).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ec(r){return'href="'+yi(r)+'"'}function ff(r){return'link[rel="stylesheet"]['+r+"]"}function U1(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function hS(r,o,u,h){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=r.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),pr(o,"link",u),ci(o),r.head.appendChild(o))}function tc(r){return'[src="'+yi(r)+'"]'}function df(r){return"script[async]"+r}function B1(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=r.querySelector('style[data-href~="'+yi(u.href)+'"]');if(h)return o.instance=h,ci(h),h;var v=_({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),ci(h),pr(h,"style",v),vd(h,u.precedence,r),o.instance=h;case"stylesheet":v=ec(u.href);var x=r.querySelector(ff(v));if(x)return o.state.loading|=4,o.instance=x,ci(x),x;h=U1(u),(v=qs.get(v))&&Pp(h,v),x=(r.ownerDocument||r).createElement("link"),ci(x);var L=x;return L._p=new Promise(function(z,ue){L.onload=z,L.onerror=ue}),pr(x,"link",h),o.state.loading|=4,vd(x,u.precedence,r),o.instance=x;case"script":return x=tc(u.src),(v=r.querySelector(df(x)))?(o.instance=v,ci(v),v):(h=u,(v=qs.get(x))&&(h=_({},u),Dp(h,v)),r=r.ownerDocument||r,v=r.createElement("script"),ci(v),pr(v,"link",h),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,vd(h,u.precedence,r));return o.instance}function vd(r,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,L=0;L<h.length;L++){var z=h[L];if(z.dataset.precedence===o)x=z;else if(x!==v)break}x?x.parentNode.insertBefore(r,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Pp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Dp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var bd=null;function F1(r,o,u){if(bd===null){var h=new Map,v=bd=new Map;v.set(u,h)}else v=bd,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(r))return h;for(h.set(r,null),u=u.getElementsByTagName(r),v=0;v<u.length;v++){var x=u[v];if(!(x[vr]||x[Sn]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(o)||"";L=r+L;var z=h.get(L);z?z.push(x):h.set(L,[x])}}return h}function q1(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function pS(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function j1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function mS(r,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=ec(h.href),x=o.querySelector(ff(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=_d.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=x,ci(x);return}x=o.ownerDocument||o,h=U1(h),(v=qs.get(v))&&Pp(h,v),x=x.createElement("link"),ci(x);var L=x;L._p=new Promise(function(z,ue){L.onload=z,L.onerror=ue}),pr(x,"link",h),u.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=_d.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var Op=0;function gS(r,o){return r.stylesheets&&r.count===0&&Sd(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var h=setTimeout(function(){if(r.stylesheets&&Sd(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+o);0<r.imgBytes&&Op===0&&(Op=62500*Kw());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Sd(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>Op?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function _d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wd=null;function Sd(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wd=new Map,o.forEach(yS,r),wd=null,_d.call(r))}function yS(r,o){if(!(o.state.loading&4)){var u=wd.get(r);if(u)var h=u.get(null);else{u=new Map,wd.set(r,u);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var L=v[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),h=L)}h&&u.set(null,h)}v=o.instance,L=v.getAttribute("data-precedence"),x=u.get(L)||h,x===h&&u.set(null,v),u.set(L,v),this.count++,h=_d.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var hf={$$typeof:O,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function vS(r,o,u,h,v,x,L,z,ue){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.hiddenUpdates=Qi(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function H1(r,o,u,h,v,x,L,z,ue,Ne,Ue,He){return r=new vS(r,o,u,L,ue,Ne,Ue,He,z),o=1,x===!0&&(o|=24),x=nr(3,null,null,o),r.current=x,x.stateNode=r,o=$o(),o.refCount++,r.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:u,cache:o},Ke(x),r}function z1(r){return r?(r=$i,r):$i}function G1(r,o,u,h,v,x){v=z1(v),h.context===null?h.context=v:h.pendingContext=v,h=Lt(o),h.payload={element:u},x=x===void 0?null:x,x!==null&&(h.callback=x),u=Jt(r,h,o),u!==null&&(rs(u,r,o),xn(u,r,o))}function V1(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Up(r,o){V1(r,o),(r=r.alternate)&&V1(r,o)}function $1(r){if(r.tag===13||r.tag===31){var o=la(r,67108864);o!==null&&rs(o,r,67108864),Up(r,67108864)}}function J1(r){if(r.tag===13||r.tag===31){var o=vs();o=Nn(o);var u=la(r,o);u!==null&&rs(u,r,o),Up(r,o)}}var xd=!0;function bS(r,o,u,h){var v=te.T;te.T=null;var x=pe.p;try{pe.p=2,Bp(r,o,u,h)}finally{pe.p=x,te.T=v}}function _S(r,o,u,h){var v=te.T;te.T=null;var x=pe.p;try{pe.p=8,Bp(r,o,u,h)}finally{pe.p=x,te.T=v}}function Bp(r,o,u,h){if(xd){var v=Fp(h);if(v===null)Ap(r,o,h,Ad,u),W1(r,h);else if(SS(v,r,o,u,h))h.stopPropagation();else if(W1(r,h),o&4&&-1<wS.indexOf(r)){for(;v!==null;){var x=vn(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=Ze(x.pendingLanes);if(L!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;L;){var ue=1<<31-Zt(L);z.entanglements[1]|=ue,L&=~ue}Ha(x),(En&6)===0&&(ad=jt()+500,of(0))}}break;case 31:case 13:z=la(x,2),z!==null&&rs(z,x,2),ld(),Up(x,2)}if(x=Fp(h),x===null&&Ap(r,o,h,Ad,u),x===v)break;v=x}v!==null&&h.stopPropagation()}else Ap(r,o,h,null,u)}}function Fp(r){return r=Wa(r),qp(r)}var Ad=null;function qp(r){if(Ad=null,r=ni(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ad=r,null}function Y1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Ot:return 2;case Xt:return 8;case Ht:case pt:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var jp=!1,sl=null,al=null,ol=null,pf=new Map,mf=new Map,ll=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W1(r,o){switch(r){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":pf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(o.pointerId)}}function gf(r,o,u,h,v,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},o!==null&&(o=vn(o),o!==null&&$1(o)),r):(r.eventSystemFlags|=h,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function SS(r,o,u,h,v){switch(o){case"focusin":return sl=gf(sl,r,o,u,h,v),!0;case"dragenter":return al=gf(al,r,o,u,h,v),!0;case"mouseover":return ol=gf(ol,r,o,u,h,v),!0;case"pointerover":var x=v.pointerId;return pf.set(x,gf(pf.get(x)||null,r,o,u,h,v)),!0;case"gotpointercapture":return x=v.pointerId,mf.set(x,gf(mf.get(x)||null,r,o,u,h,v)),!0}return!1}function K1(r){var o=ni(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Lr(r.priority,function(){J1(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,Lr(r.priority,function(){J1(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ed(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Fp(r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);Vs=h,u.target.dispatchEvent(h),Vs=null}else return o=vn(u),o!==null&&$1(o),r.blockedOn=u,!1;o.shift()}return!0}function X1(r,o,u){Ed(r)&&u.delete(o)}function xS(){jp=!1,sl!==null&&Ed(sl)&&(sl=null),al!==null&&Ed(al)&&(al=null),ol!==null&&Ed(ol)&&(ol=null),pf.forEach(X1),mf.forEach(X1)}function Td(r,o){r.blockedOn===o&&(r.blockedOn=null,jp||(jp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xS)))}var Nd=null;function Z1(r){Nd!==r&&(Nd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nd===r&&(Nd=null);for(var o=0;o<r.length;o+=3){var u=r[o],h=r[o+1],v=r[o+2];if(typeof h!="function"){if(qp(h||u)===null)continue;break}var x=vn(u);x!==null&&(r.splice(o,3),o-=3,Fh(x,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function nc(r){function o(ue){return Td(ue,r)}sl!==null&&Td(sl,r),al!==null&&Td(al,r),ol!==null&&Td(ol,r),pf.forEach(o),mf.forEach(o);for(var u=0;u<ll.length;u++){var h=ll[u];h.blockedOn===r&&(h.blockedOn=null)}for(;0<ll.length&&(u=ll[0],u.blockedOn===null);)K1(u),u.blockedOn===null&&ll.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],x=u[h+1],L=v[jn]||null;if(typeof x=="function")L||Z1(u);else if(L){var z=null;if(x&&x.hasAttribute("formAction")){if(v=x,L=x[jn]||null)z=L.formAction;else if(qp(v)!==null)continue}else z=L.action;typeof z=="function"?u[h+1]=z:(u.splice(h,3),h-=3),Z1(u)}}}function Q1(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return v=L})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Hp(r){this._internalRoot=r}Cd.prototype.render=Hp.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,h=vs();G1(u,h,r,o,null,null)},Cd.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;G1(r.current,2,null,r,null,null),ld(),o[Ti]=null}};function Cd(r){this._internalRoot=r}Cd.prototype.unstable_scheduleHydration=function(r){if(r){var o=ui();r={blockedOn:null,target:r,priority:o};for(var u=0;u<ll.length&&o!==0&&o<ll[u].priority;u++);ll.splice(u,0,r),u===0&&K1(r)}};var ey=e.version;if(ey!=="19.2.0")throw Error(i(527,ey,"19.2.0"));pe.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(o),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var AS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{Yt=Rd.inject(AS),Nt=Rd}catch{}}return vf.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,h="",v=og,x=lg,L=ug;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError)),o=H1(r,1,!1,null,null,u,h,null,v,x,L,Q1),r[Ti]=o.current,xp(r),new Hp(o)},vf.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var h=!1,v="",x=og,L=lg,z=ug,ue=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(ue=u.formState)),o=H1(r,1,!0,o,u??null,h,v,ue,x,L,z,Q1),o.context=z1(null),u=o.current,h=vs(),h=Nn(h),v=Lt(h),v.callback=null,Jt(u,v,h),u=h,o.current.lanes=u,gt(o,u),Ha(o),r[Ti]=o.current,xp(r),new Cd(o)},vf.version="19.2.0",vf}var cy;function FS(){if(cy)return Vp.exports;cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vp.exports=BS(),Vp.exports}var qS=FS();const jS=y0(qS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),fy=n=>{const e=zS(n);return e.charAt(0).toUpperCase()+e.slice(1)},F5=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),GS=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=We.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:l,...c},f)=>We.createElement("svg",{ref:f,...VS,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:F5("lucide",s),...!a&&!GS(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>We.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=(n,e)=>{const t=We.forwardRef(({className:i,...s},a)=>We.createElement($S,{ref:a,iconNode:e,className:F5(`lucide-${HS(fy(n))}`,`lucide-${n}`,i),...s}));return t.displayName=fy(n),t};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wd=en("building-2",JS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WS=en("calendar",YS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],XS=en("chart-column",KS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QS=en("circle-alert",ZS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tx=en("circle-check",ex);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ix=en("cloud-upload",nx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],sx=en("cloud",rx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rh=en("download",ax);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lx=en("eye-off",ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q5=en("eye",ux);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Im=en("file-spreadsheet",cx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mm=en("file-text",fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Wp=en("folder-open",dx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],px=en("folder-tree",hx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],gx=en("folder",mx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vx=en("grip-vertical",yx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],_x=en("hard-drive",bx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Kp=en("history",wx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Rf=en("key",Sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ax=en("list",xx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dy=en("loader-circle",Ex);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nx=en("lock",Tx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],j5=en("log-in",Cx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kx=en("log-out",Rx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hy=en("mail",Lx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sh=en("pen",Ix);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Px=en("play",Mx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],H5=en("plus",Dx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ux=en("printer",Ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wh=en("save",Bx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qx=en("search",Fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hx=en("settings",jx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Gx=en("share-2",zx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$x=en("square-check-big",Vx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Yx=en("square",Jx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cc=en("trash-2",Wx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xx=en("triangle-alert",Kx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Pm=en("upload",Zx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eA=en("user-plus",Qx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lu=en("x",tA),nA="modulepreload",iA=function(n){return"/"+n},py={},Xp=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let l=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(t.map(d=>{if(d=iA(d),d in py)return;py[d]=!0;const p=d.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":nA,p||(S.as="script"),S.crossOrigin="",S.href=d,f&&S.setAttribute("nonce",f),document.head.appendChild(S),p)return new Promise((b,N)=>{S.addEventListener("load",b),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function In(n){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(n)}var _a=Uint8Array,xs=Uint16Array,b0=Int32Array,_0=new _a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w0=new _a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),my=new _a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z5=function(n,e){for(var t=new xs(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var s=new b0(t[30]),i=1;i<30;++i)for(var a=t[i];a<t[i+1];++a)s[a]=a-t[i]<<5|i;return{b:t,r:s}},G5=z5(_0,2),rA=G5.b,Dm=G5.r;rA[28]=258,Dm[258]=28;var sA=z5(w0,0),gy=sA.r,Om=new xs(32768);for(var ti=0;ti<32768;++ti){var cl=(ti&43690)>>1|(ti&21845)<<1;cl=(cl&52428)>>2|(cl&13107)<<2,cl=(cl&61680)>>4|(cl&3855)<<4,Om[ti]=((cl&65280)>>8|(cl&255)<<8)>>1}var xf=(function(n,e,t){for(var i=n.length,s=0,a=new xs(e);s<i;++s)n[s]&&++a[n[s]-1];var l=new xs(e);for(s=1;s<e;++s)l[s]=l[s-1]+a[s-1]<<1;var c;if(t){c=new xs(1<<e);var f=15-e;for(s=0;s<i;++s)if(n[s])for(var d=s<<4|n[s],p=e-n[s],_=l[n[s]-1]++<<p,S=_|(1<<p)-1;_<=S;++_)c[Om[_]>>f]=d}else for(c=new xs(i),s=0;s<i;++s)n[s]&&(c[s]=Om[l[n[s]-1]++]>>15-n[s]);return c}),au=new _a(288);for(var ti=0;ti<144;++ti)au[ti]=8;for(var ti=144;ti<256;++ti)au[ti]=9;for(var ti=256;ti<280;++ti)au[ti]=7;for(var ti=280;ti<288;++ti)au[ti]=8;var ah=new _a(32);for(var ti=0;ti<32;++ti)ah[ti]=5;var aA=xf(au,9,0),oA=xf(ah,5,0),V5=function(n){return(n+7)/8|0},lA=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new _a(n.subarray(e,t))},wo=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},bf=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},Zp=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var s=t.length,a=t.slice();if(!s)return{t:J5,l:0};if(s==1){var l=new _a(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ee,oe){return ee.f-oe.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,p=1,_=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=s-1;)c=t[t[d].f<t[_].f?d++:_++],f=t[d!=p&&t[d].f<t[_].f?d++:_++],t[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var S=a[0].s,i=1;i<s;++i)a[i].s>S&&(S=a[i].s);var b=new xs(S+1),N=Um(t[p-1],b,0);if(N>e){var i=0,C=0,I=N-e,k=1<<I;for(a.sort(function(oe,re){return b[re.s]-b[oe.s]||oe.f-re.f});i<s;++i){var j=a[i].s;if(b[j]>e)C+=k-(1<<N-b[j]),b[j]=e;else break}for(C>>=I;C>0;){var O=a[i].s;b[O]<e?C-=1<<e-b[O]++-1:++i}for(;i>=0&&C;--i){var U=a[i].s;b[U]==e&&(--b[U],++C)}N=e}return{t:new _a(b),l:N}},Um=function(n,e,t){return n.s==-1?Math.max(Um(n.l,e,t+1),Um(n.r,e,t+1)):e[n.s]=t},yy=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new xs(++e),i=0,s=n[0],a=1,l=function(f){t[i++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++a;else{if(!s&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(s),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(s);a=1,s=n[c]}return{c:t.subarray(0,i),n:e}},_f=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},$5=function(n,e,t){var i=t.length,s=V5(e+2);n[s]=i&255,n[s+1]=i>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var a=0;a<i;++a)n[s+a+4]=t[a];return(s+4+i)*8},vy=function(n,e,t,i,s,a,l,c,f,d,p){wo(e,p++,t),++s[256];for(var _=Zp(s,15),S=_.t,b=_.l,N=Zp(a,15),C=N.t,I=N.l,k=yy(S),j=k.c,O=k.n,U=yy(C),ee=U.c,oe=U.n,re=new xs(19),se=0;se<j.length;++se)++re[j[se]&31];for(var se=0;se<ee.length;++se)++re[ee[se]&31];for(var H=Zp(re,7),le=H.t,F=H.l,$=19;$>4&&!le[my[$-1]];--$);var ie=d+5<<3,ae=_f(s,au)+_f(a,ah)+l,xe=_f(s,S)+_f(a,C)+l+14+3*$+_f(re,le)+2*re[16]+3*re[17]+7*re[18];if(f>=0&&ie<=ae&&ie<=xe)return $5(e,p,n.subarray(f,f+d));var te,pe,ge,Ce;if(wo(e,p,1+(xe<ae)),p+=2,xe<ae){te=xf(S,b,0),pe=S,ge=xf(C,I,0),Ce=C;var je=xf(le,F,0);wo(e,p,O-257),wo(e,p+5,oe-1),wo(e,p+10,$-4),p+=14;for(var se=0;se<$;++se)wo(e,p+3*se,le[my[se]]);p+=3*$;for(var Y=[j,ee],M=0;M<2;++M)for(var G=Y[M],se=0;se<G.length;++se){var W=G[se]&31;wo(e,p,je[W]),p+=le[W],W>15&&(wo(e,p,G[se]>>5&127),p+=G[se]>>12)}}else te=aA,pe=au,ge=oA,Ce=ah;for(var se=0;se<c;++se){var ne=i[se];if(ne>255){var W=ne>>18&31;bf(e,p,te[W+257]),p+=pe[W+257],W>7&&(wo(e,p,ne>>23&31),p+=_0[W]);var ce=ne&31;bf(e,p,ge[ce]),p+=Ce[ce],ce>3&&(bf(e,p,ne>>5&8191),p+=w0[ce])}else bf(e,p,te[ne]),p+=pe[ne]}return bf(e,p,te[256]),p+pe[256]},uA=new b0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),J5=new _a(0),cA=function(n,e,t,i,s,a){var l=a.z||n.length,c=new _a(i+l+5*(1+Math.ceil(l/7e3))+s),f=c.subarray(i,c.length-s),d=a.l,p=(a.r||0)&7;if(e){p&&(f[0]=a.r>>3);for(var _=uA[e-1],S=_>>13,b=_&8191,N=(1<<t)-1,C=a.p||new xs(32768),I=a.h||new xs(N+1),k=Math.ceil(t/3),j=2*k,O=function(ot){return(n[ot]^n[ot+1]<<k^n[ot+2]<<j)&N},U=new b0(25e3),ee=new xs(288),oe=new xs(32),re=0,se=0,H=a.i||0,le=0,F=a.w||0,$=0;H+2<l;++H){var ie=O(H),ae=H&32767,xe=I[ie];if(C[ae]=xe,I[ie]=ae,F<=H){var te=l-H;if((re>7e3||le>24576)&&(te>423||!d)){p=vy(n,f,0,U,ee,oe,se,le,$,H-$,p),le=re=se=0,$=H;for(var pe=0;pe<286;++pe)ee[pe]=0;for(var pe=0;pe<30;++pe)oe[pe]=0}var ge=2,Ce=0,je=b,Y=ae-xe&32767;if(te>2&&ie==O(H-Y))for(var M=Math.min(S,te)-1,G=Math.min(32767,H),W=Math.min(258,te);Y<=G&&--je&&ae!=xe;){if(n[H+ge]==n[H+ge-Y]){for(var ne=0;ne<W&&n[H+ne]==n[H+ne-Y];++ne);if(ne>ge){if(ge=ne,Ce=Y,ne>M)break;for(var ce=Math.min(Y,ne-2),ve=0,pe=0;pe<ce;++pe){var ke=H-Y+pe&32767,Re=C[ke],he=ke-Re&32767;he>ve&&(ve=he,xe=ke)}}}ae=xe,xe=C[ae],Y+=ae-xe&32767}if(Ce){U[le++]=268435456|Dm[ge]<<18|gy[Ce];var Oe=Dm[ge]&31,et=gy[Ce]&31;se+=_0[Oe]+w0[et],++ee[257+Oe],++oe[et],F=H+ge,++re}else U[le++]=n[H],++ee[n[H]]}}for(H=Math.max(H,F);H<l;++H)U[le++]=n[H],++ee[n[H]];p=vy(n,f,d,U,ee,oe,se,le,$,H-$,p),d||(a.r=p&7|f[p/8|0]<<3,p-=7,a.h=I,a.p=C,a.i=H,a.w=F)}else{for(var H=a.w||0;H<l+d;H+=65535){var Qe=H+65535;Qe>=l&&(f[p/8|0]=d,Qe=l),p=$5(f,p+1,n.subarray(H,Qe))}a.i=l}return lA(c,0,i+V5(p)+s)},Y5=function(){var n=1,e=0;return{p:function(t){for(var i=n,s=e,a=t.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)s+=i+=t[l];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}n=i,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},fA=function(n,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new _a(a.length+n.length);l.set(a),l.set(n,a.length),n=l,s.w=a.length}return cA(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,s)},W5=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},dA=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=Y5();s.p(e.dictionary),W5(n,2,s.d())}};function Bm(n,e){e||(e={});var t=Y5();t.p(n);var i=fA(n,e,e.dictionary?6:2,4);return dA(i,e),W5(i,i.length-4,t.d()),i}var hA=typeof TextDecoder<"u"&&new TextDecoder,pA=0;try{hA.decode(J5,{stream:!0}),pA=1}catch{}function mA(n){if(Array.isArray(n))return n}function gA(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,a,l,c=[],f=!0,d=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(f=(i=a.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(p){d=!0,s=p}finally{try{if(!f&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}function by(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function yA(n,e){if(n){if(typeof n=="string")return by(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?by(n,e):void 0}}function vA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _y(n,e){return mA(n)||gA(n,e)||yA(n,e)||vA()}function wy(n,e="utf8"){return new TextDecoder(e).decode(n)}const bA=new TextEncoder;function _A(n){return bA.encode(n)}const wA=1024*8,SA=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Qp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class S0{constructor(e=wA,t={}){Ln(this,"buffer");Ln(this,"byteLength");Ln(this,"byteOffset");Ln(this,"length");Ln(this,"offset");Ln(this,"lastWrittenByte");Ln(this,"littleEndian");Ln(this,"_data");Ln(this,"_mark");Ln(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,a=e.byteLength-s;let l=s;(ArrayBuffer.isView(e)||e instanceof S0)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=Qp[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+i);if(this.littleEndian===SA&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+i));c.reverse();const f=new Qp[t](c.buffer);return this.offset+=i,f.reverse(),f}const l=new Qp[t](a);return this.offset+=i,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return wy(this.readBytes(e))}decodeText(e=1,t="utf8"){return wy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(_A(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rc(n){let e=n.length;for(;--e>=0;)n[e]=0}const xA=3,AA=258,K5=29,EA=256,TA=EA+1+K5,X5=30,NA=512,CA=new Array((TA+2)*2);Rc(CA);const RA=new Array(X5*2);Rc(RA);const kA=new Array(NA);Rc(kA);const LA=new Array(AA-xA+1);Rc(LA);const IA=new Array(K5);Rc(IA);const MA=new Array(X5);Rc(MA);const PA=(n,e,t,i)=>{let s=n&65535|0,a=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do s=s+e[i++]|0,a=a+s|0;while(--l);s%=65521,a%=65521}return s|a<<16|0};var Fm=PA;const DA=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},OA=new Uint32Array(DA()),UA=(n,e,t,i)=>{const s=OA,a=i+t;n^=-1;for(let l=i;l<a;l++)n=n>>>8^s[(n^e[l])&255];return n^-1};var za=UA,qm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const BA=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var FA=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)BA(t,i)&&(n[i]=t[i])}}return n},qA=n=>{let e=0;for(let i=0,s=n.length;i<s;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,s=0,a=n.length;i<a;i++){let l=n[i];t.set(l,s),s+=l.length}return t},Q5={assign:FA,flattenChunks:qA};let eb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eb=!1}const kf=new Uint8Array(256);for(let n=0;n<256;n++)kf[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;kf[254]=kf[254]=1;var jA=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,s,a,l=n.length,c=0;for(s=0;s<l;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<l&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),a=0,s=0;a<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<l&&(i=n.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const HA=(n,e)=>{if(e<65534&&n.subarray&&eb)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var zA=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,s;const a=new Array(t*2);for(s=0,i=0;i<t;){let l=n[i++];if(l<128){a[s++]=l;continue}let c=kf[l];if(c>4){a[s++]=65533,i+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&i<t;)l=l<<6|n[i++]&63,c--;if(c>1){a[s++]=65533;continue}l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|l&1023)}return HA(a,s)},GA=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+kf[n[t]]>e?t:e},jm={string2buf:jA,buf2string:zA,utf8border:GA};function VA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $A=VA;const kd=16209,JA=16191;var YA=function(e,t){let i,s,a,l,c,f,d,p,_,S,b,N,C,I,k,j,O,U,ee,oe,re,se,H,le;const F=e.state;i=e.next_in,H=e.input,s=i+(e.avail_in-5),a=e.next_out,le=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),f=F.dmax,d=F.wsize,p=F.whave,_=F.wnext,S=F.window,b=F.hold,N=F.bits,C=F.lencode,I=F.distcode,k=(1<<F.lenbits)-1,j=(1<<F.distbits)-1;e:do{N<15&&(b+=H[i++]<<N,N+=8,b+=H[i++]<<N,N+=8),O=C[b&k];t:for(;;){if(U=O>>>24,b>>>=U,N-=U,U=O>>>16&255,U===0)le[a++]=O&65535;else if(U&16){ee=O&65535,U&=15,U&&(N<U&&(b+=H[i++]<<N,N+=8),ee+=b&(1<<U)-1,b>>>=U,N-=U),N<15&&(b+=H[i++]<<N,N+=8,b+=H[i++]<<N,N+=8),O=I[b&j];n:for(;;){if(U=O>>>24,b>>>=U,N-=U,U=O>>>16&255,U&16){if(oe=O&65535,U&=15,N<U&&(b+=H[i++]<<N,N+=8,N<U&&(b+=H[i++]<<N,N+=8)),oe+=b&(1<<U)-1,oe>f){e.msg="invalid distance too far back",F.mode=kd;break e}if(b>>>=U,N-=U,U=a-l,oe>U){if(U=oe-U,U>p&&F.sane){e.msg="invalid distance too far back",F.mode=kd;break e}if(re=0,se=S,_===0){if(re+=d-U,U<ee){ee-=U;do le[a++]=S[re++];while(--U);re=a-oe,se=le}}else if(_<U){if(re+=d+_-U,U-=_,U<ee){ee-=U;do le[a++]=S[re++];while(--U);if(re=0,_<ee){U=_,ee-=U;do le[a++]=S[re++];while(--U);re=a-oe,se=le}}}else if(re+=_-U,U<ee){ee-=U;do le[a++]=S[re++];while(--U);re=a-oe,se=le}for(;ee>2;)le[a++]=se[re++],le[a++]=se[re++],le[a++]=se[re++],ee-=3;ee&&(le[a++]=se[re++],ee>1&&(le[a++]=se[re++]))}else{re=a-oe;do le[a++]=le[re++],le[a++]=le[re++],le[a++]=le[re++],ee-=3;while(ee>2);ee&&(le[a++]=le[re++],ee>1&&(le[a++]=le[re++]))}}else if((U&64)===0){O=I[(O&65535)+(b&(1<<U)-1)];continue n}else{e.msg="invalid distance code",F.mode=kd;break e}break}}else if((U&64)===0){O=C[(O&65535)+(b&(1<<U)-1)];continue t}else if(U&32){F.mode=JA;break e}else{e.msg="invalid literal/length code",F.mode=kd;break e}break}}while(i<s&&a<c);ee=N>>3,i-=ee,N-=ee<<3,b&=(1<<N)-1,e.next_in=i,e.next_out=a,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=a<c?257+(c-a):257-(a-c),F.hold=b,F.bits=N};const ic=15,Sy=852,xy=592,Ay=0,em=1,Ey=2,WA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),KA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),XA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ZA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),QA=(n,e,t,i,s,a,l,c)=>{const f=c.bits;let d=0,p=0,_=0,S=0,b=0,N=0,C=0,I=0,k=0,j=0,O,U,ee,oe,re,se=null,H;const le=new Uint16Array(ic+1),F=new Uint16Array(ic+1);let $=null,ie,ae,xe;for(d=0;d<=ic;d++)le[d]=0;for(p=0;p<i;p++)le[e[t+p]]++;for(b=f,S=ic;S>=1&&le[S]===0;S--);if(b>S&&(b=S),S===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,c.bits=1,0;for(_=1;_<S&&le[_]===0;_++);for(b<_&&(b=_),I=1,d=1;d<=ic;d++)if(I<<=1,I-=le[d],I<0)return-1;if(I>0&&(n===Ay||S!==1))return-1;for(F[1]=0,d=1;d<ic;d++)F[d+1]=F[d]+le[d];for(p=0;p<i;p++)e[t+p]!==0&&(l[F[e[t+p]]++]=p);if(n===Ay?(se=$=l,H=20):n===em?(se=WA,$=KA,H=257):(se=XA,$=ZA,H=0),j=0,p=0,d=_,re=a,N=b,C=0,ee=-1,k=1<<b,oe=k-1,n===em&&k>Sy||n===Ey&&k>xy)return 1;for(;;){ie=d-C,l[p]+1<H?(ae=0,xe=l[p]):l[p]>=H?(ae=$[l[p]-H],xe=se[l[p]-H]):(ae=96,xe=0),O=1<<d-C,U=1<<N,_=U;do U-=O,s[re+(j>>C)+U]=ie<<24|ae<<16|xe|0;while(U!==0);for(O=1<<d-1;j&O;)O>>=1;if(O!==0?(j&=O-1,j+=O):j=0,p++,--le[d]===0){if(d===S)break;d=e[t+l[p]]}if(d>b&&(j&oe)!==ee){for(C===0&&(C=b),re+=_,N=d-C,I=1<<N;N+C<S&&(I-=le[N+C],!(I<=0));)N++,I<<=1;if(k+=1<<N,n===em&&k>Sy||n===Ey&&k>xy)return 1;ee=j&oe,s[ee]=b<<24|N<<16|re-a|0}}return j!==0&&(s[re+j]=d-C<<24|64<<16|0),c.bits=b,0};var Af=QA;const eE=0,tb=1,nb=2,{Z_FINISH:Ty,Z_BLOCK:tE,Z_TREES:Ld,Z_OK:ou,Z_STREAM_END:nE,Z_NEED_DICT:iE,Z_STREAM_ERROR:Hs,Z_DATA_ERROR:ib,Z_MEM_ERROR:rb,Z_BUF_ERROR:rE,Z_DEFLATED:Ny}=Z5,Sh=16180,Cy=16181,Ry=16182,ky=16183,Ly=16184,Iy=16185,My=16186,Py=16187,Dy=16188,Oy=16189,oh=16190,So=16191,tm=16192,Uy=16193,nm=16194,By=16195,Fy=16196,qy=16197,jy=16198,Id=16199,Md=16200,Hy=16201,zy=16202,Gy=16203,Vy=16204,$y=16205,im=16206,Jy=16207,Yy=16208,oi=16209,sb=16210,ab=16211,sE=852,aE=592,oE=15,lE=oE,Wy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function uE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Sh||e.mode>ab?1:0},ob=n=>{if(uu(n))return Hs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Sh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(sE),e.distcode=e.distdyn=new Int32Array(aE),e.sane=1,e.back=-1,ou},lb=n=>{if(uu(n))return Hs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,ob(n)},ub=(n,e)=>{let t;if(uu(n))return Hs;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Hs:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,lb(n))},cb=(n,e)=>{if(!n)return Hs;const t=new uE;n.state=t,t.strm=n,t.window=null,t.mode=Sh;const i=ub(n,e);return i!==ou&&(n.state=null),i},cE=n=>cb(n,lE);let Ky=!0,rm,sm;const fE=n=>{if(Ky){rm=new Int32Array(512),sm=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Af(tb,n.lens,0,288,rm,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Af(nb,n.lens,0,32,sm,0,n.work,{bits:5}),Ky=!1}n.lencode=rm,n.lenbits=9,n.distcode=sm,n.distbits=5},fb=(n,e,t,i)=>{let s;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>i&&(s=i),a.window.set(e.subarray(t-i,t-i+s),a.wnext),i-=s,i?(a.window.set(e.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},dE=(n,e)=>{let t,i,s,a,l,c,f,d,p,_,S,b,N,C,I=0,k,j,O,U,ee,oe,re,se;const H=new Uint8Array(4);let le,F;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uu(n)||!n.output||!n.input&&n.avail_in!==0)return Hs;t=n.state,t.mode===So&&(t.mode=tm),l=n.next_out,s=n.output,f=n.avail_out,a=n.next_in,i=n.input,c=n.avail_in,d=t.hold,p=t.bits,_=c,S=f,se=ou;e:for(;;)switch(t.mode){case Sh:if(t.wrap===0){t.mode=tm;break}for(;p<16;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=d&255,H[1]=d>>>8&255,t.check=za(t.check,H,2,0),d=0,p=0,t.mode=Cy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=oi;break}if((d&15)!==Ny){n.msg="unknown compression method",t.mode=oi;break}if(d>>>=4,p-=4,re=(d&15)+8,t.wbits===0&&(t.wbits=re),re>15||re>t.wbits){n.msg="invalid window size",t.mode=oi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?Oy:So,d=0,p=0;break;case Cy:for(;p<16;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(t.flags=d,(t.flags&255)!==Ny){n.msg="unknown compression method",t.mode=oi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=oi;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,t.check=za(t.check,H,2,0)),d=0,p=0,t.mode=Ry;case Ry:for(;p<32;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,H[2]=d>>>16&255,H[3]=d>>>24&255,t.check=za(t.check,H,4,0)),d=0,p=0,t.mode=ky;case ky:for(;p<16;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,t.check=za(t.check,H,2,0)),d=0,p=0,t.mode=Ly;case Ly:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,t.check=za(t.check,H,2,0)),d=0,p=0}else t.head&&(t.head.extra=null);t.mode=Iy;case Iy:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(re=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+b),re)),t.flags&512&&t.wrap&4&&(t.check=za(t.check,i,b,a)),c-=b,a+=b,t.length-=b),t.length))break e;t.length=0,t.mode=My;case My:if(t.flags&2048){if(c===0)break e;b=0;do re=i[a+b++],t.head&&re&&t.length<65536&&(t.head.name+=String.fromCharCode(re));while(re&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=za(t.check,i,b,a)),c-=b,a+=b,re)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Py;case Py:if(t.flags&4096){if(c===0)break e;b=0;do re=i[a+b++],t.head&&re&&t.length<65536&&(t.head.comment+=String.fromCharCode(re));while(re&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=za(t.check,i,b,a)),c-=b,a+=b,re)break e}else t.head&&(t.head.comment=null);t.mode=Dy;case Dy:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=oi;break}d=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=So;break;case Oy:for(;p<32;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}n.adler=t.check=Wy(d),d=0,p=0,t.mode=oh;case oh:if(t.havedict===0)return n.next_out=l,n.avail_out=f,n.next_in=a,n.avail_in=c,t.hold=d,t.bits=p,iE;n.adler=t.check=1,t.mode=So;case So:if(e===tE||e===Ld)break e;case tm:if(t.last){d>>>=p&7,p-=p&7,t.mode=im;break}for(;p<3;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}switch(t.last=d&1,d>>>=1,p-=1,d&3){case 0:t.mode=Uy;break;case 1:if(fE(t),t.mode=Id,e===Ld){d>>>=2,p-=2;break e}break;case 2:t.mode=Fy;break;case 3:n.msg="invalid block type",t.mode=oi}d>>>=2,p-=2;break;case Uy:for(d>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=oi;break}if(t.length=d&65535,d=0,p=0,t.mode=nm,e===Ld)break e;case nm:t.mode=By;case By:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;s.set(i.subarray(a,a+b),l),c-=b,a+=b,f-=b,l+=b,t.length-=b;break}t.mode=So;break;case Fy:for(;p<14;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(t.nlen=(d&31)+257,d>>>=5,p-=5,t.ndist=(d&31)+1,d>>>=5,p-=5,t.ncode=(d&15)+4,d>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=oi;break}t.have=0,t.mode=qy;case qy:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}t.lens[$[t.have++]]=d&7,d>>>=3,p-=3}for(;t.have<19;)t.lens[$[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,le={bits:t.lenbits},se=Af(eE,t.lens,0,19,t.lencode,0,t.work,le),t.lenbits=le.bits,se){n.msg="invalid code lengths set",t.mode=oi;break}t.have=0,t.mode=jy;case jy:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[d&(1<<t.lenbits)-1],k=I>>>24,j=I>>>16&255,O=I&65535,!(k<=p);){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(O<16)d>>>=k,p-=k,t.lens[t.have++]=O;else{if(O===16){for(F=k+2;p<F;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(d>>>=k,p-=k,t.have===0){n.msg="invalid bit length repeat",t.mode=oi;break}re=t.lens[t.have-1],b=3+(d&3),d>>>=2,p-=2}else if(O===17){for(F=k+3;p<F;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}d>>>=k,p-=k,re=0,b=3+(d&7),d>>>=3,p-=3}else{for(F=k+7;p<F;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}d>>>=k,p-=k,re=0,b=11+(d&127),d>>>=7,p-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=oi;break}for(;b--;)t.lens[t.have++]=re}}if(t.mode===oi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=oi;break}if(t.lenbits=9,le={bits:t.lenbits},se=Af(tb,t.lens,0,t.nlen,t.lencode,0,t.work,le),t.lenbits=le.bits,se){n.msg="invalid literal/lengths set",t.mode=oi;break}if(t.distbits=6,t.distcode=t.distdyn,le={bits:t.distbits},se=Af(nb,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,le),t.distbits=le.bits,se){n.msg="invalid distances set",t.mode=oi;break}if(t.mode=Id,e===Ld)break e;case Id:t.mode=Md;case Md:if(c>=6&&f>=258){n.next_out=l,n.avail_out=f,n.next_in=a,n.avail_in=c,t.hold=d,t.bits=p,YA(n,S),l=n.next_out,s=n.output,f=n.avail_out,a=n.next_in,i=n.input,c=n.avail_in,d=t.hold,p=t.bits,t.mode===So&&(t.back=-1);break}for(t.back=0;I=t.lencode[d&(1<<t.lenbits)-1],k=I>>>24,j=I>>>16&255,O=I&65535,!(k<=p);){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(j&&(j&240)===0){for(U=k,ee=j,oe=O;I=t.lencode[oe+((d&(1<<U+ee)-1)>>U)],k=I>>>24,j=I>>>16&255,O=I&65535,!(U+k<=p);){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}d>>>=U,p-=U,t.back+=U}if(d>>>=k,p-=k,t.back+=k,t.length=O,j===0){t.mode=$y;break}if(j&32){t.back=-1,t.mode=So;break}if(j&64){n.msg="invalid literal/length code",t.mode=oi;break}t.extra=j&15,t.mode=Hy;case Hy:if(t.extra){for(F=t.extra;p<F;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=zy;case zy:for(;I=t.distcode[d&(1<<t.distbits)-1],k=I>>>24,j=I>>>16&255,O=I&65535,!(k<=p);){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if((j&240)===0){for(U=k,ee=j,oe=O;I=t.distcode[oe+((d&(1<<U+ee)-1)>>U)],k=I>>>24,j=I>>>16&255,O=I&65535,!(U+k<=p);){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}d>>>=U,p-=U,t.back+=U}if(d>>>=k,p-=k,t.back+=k,j&64){n.msg="invalid distance code",t.mode=oi;break}t.offset=O,t.extra=j&15,t.mode=Gy;case Gy:if(t.extra){for(F=t.extra;p<F;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=oi;break}t.mode=Vy;case Vy:if(f===0)break e;if(b=S-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=oi;break}b>t.wnext?(b-=t.wnext,N=t.wsize-b):N=t.wnext-b,b>t.length&&(b=t.length),C=t.window}else C=s,N=l-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do s[l++]=C[N++];while(--b);t.length===0&&(t.mode=Md);break;case $y:if(f===0)break e;s[l++]=t.length,f--,t.mode=Md;break;case im:if(t.wrap){for(;p<32;){if(c===0)break e;c--,d|=i[a++]<<p,p+=8}if(S-=f,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?za(t.check,s,S,l-S):Fm(t.check,s,S,l-S)),S=f,t.wrap&4&&(t.flags?d:Wy(d))!==t.check){n.msg="incorrect data check",t.mode=oi;break}d=0,p=0}t.mode=Jy;case Jy:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,d+=i[a++]<<p,p+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=oi;break}d=0,p=0}t.mode=Yy;case Yy:se=nE;break e;case oi:se=ib;break e;case sb:return rb;case ab:default:return Hs}return n.next_out=l,n.avail_out=f,n.next_in=a,n.avail_in=c,t.hold=d,t.bits=p,(t.wsize||S!==n.avail_out&&t.mode<oi&&(t.mode<im||e!==Ty))&&fb(n,n.output,n.next_out,S-n.avail_out),_-=n.avail_in,S-=n.avail_out,n.total_in+=_,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?za(t.check,s,S,n.next_out-S):Fm(t.check,s,S,n.next_out-S)),n.data_type=t.bits+(t.last?64:0)+(t.mode===So?128:0)+(t.mode===Id||t.mode===nm?256:0),(_===0&&S===0||e===Ty)&&se===ou&&(se=rE),se},hE=n=>{if(uu(n))return Hs;let e=n.state;return e.window&&(e.window=null),n.state=null,ou},pE=(n,e)=>{if(uu(n))return Hs;const t=n.state;return(t.wrap&2)===0?Hs:(t.head=e,e.done=!1,ou)},mE=(n,e)=>{const t=e.length;let i,s,a;return uu(n)||(i=n.state,i.wrap!==0&&i.mode!==oh)?Hs:i.mode===oh&&(s=1,s=Fm(s,e,t,0),s!==i.check)?ib:(a=fb(n,e,t,t),a?(i.mode=sb,rb):(i.havedict=1,ou))};var gE=lb,yE=ub,vE=ob,bE=cE,_E=cb,wE=dE,SE=hE,xE=pE,AE=mE,EE="pako inflate (from Nodeca project)",Ao={inflateReset:gE,inflateReset2:yE,inflateResetKeep:vE,inflateInit:bE,inflateInit2:_E,inflate:wE,inflateEnd:SE,inflateGetHeader:xE,inflateSetDictionary:AE,inflateInfo:EE};function TE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var NE=TE;const db=Object.prototype.toString,{Z_NO_FLUSH:CE,Z_FINISH:RE,Z_OK:Lf,Z_STREAM_END:am,Z_NEED_DICT:om,Z_STREAM_ERROR:kE,Z_DATA_ERROR:Xy,Z_MEM_ERROR:LE}=Z5;function Of(n){this.options=Q5.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $A,this.strm.avail_out=0;let t=Ao.inflateInit2(this.strm,e.windowBits);if(t!==Lf)throw new Error(qm[t]);if(this.header=new NE,Ao.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=jm.string2buf(e.dictionary):db.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ao.inflateSetDictionary(this.strm,e.dictionary),t!==Lf)))throw new Error(qm[t])}Of.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?RE:CE,db.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=Ao.inflate(t,l),a===om&&s&&(a=Ao.inflateSetDictionary(t,s),a===Lf?a=Ao.inflate(t,l):a===Xy&&(a=om));t.avail_in>0&&a===am&&t.state.wrap>0&&n[t.next_in]!==0;)Ao.inflateReset(t),a=Ao.inflate(t,l);switch(a){case kE:case Xy:case om:case LE:return this.onEnd(a),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||a===am))if(this.options.to==="string"){let f=jm.utf8border(t.output,t.next_out),d=t.next_out-f,p=jm.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Lf&&c===0)){if(a===am)return a=Ao.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Of.prototype.onData=function(n){this.chunks.push(n)};Of.prototype.onEnd=function(n){n===Lf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Q5.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function IE(n,e){const t=new Of(e);if(t.push(n),t.err)throw t.msg||qm[t.err];return t.result}var ME=Of,PE=IE,DE={Inflate:ME,inflate:PE};const{Inflate:OE,inflate:UE}=DE;var Zy=OE,BE=UE;const hb=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;hb[n]=e}const Qy=4294967295;function FE(n,e,t){let i=n;for(let s=0;s<t;s++)i=hb[(i^e[s])&255]^i>>>8;return i}function qE(n,e){return(FE(Qy,n,e)^Qy)>>>0}function ev(n,e,t){const i=n.readUint32(),s=qE(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${s}`)}function pb(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function mb(n,e,t,i){let s=0;for(;s<i;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-i]&255}function gb(n,e,t,i){let s=0;if(t.length===0)for(;s<i;s++)e[s]=n[s];else for(;s<i;s++)e[s]=n[s]+t[s]&255}function yb(n,e,t,i,s){let a=0;if(t.length===0){for(;a<s;a++)e[a]=n[a];for(;a<i;a++)e[a]=n[a]+(e[a-s]>>1)&255}else{for(;a<s;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<i;a++)e[a]=n[a]+(e[a-s]+t[a]>>1)&255}}function vb(n,e,t,i,s){let a=0;if(t.length===0){for(;a<s;a++)e[a]=n[a];for(;a<i;a++)e[a]=n[a]+e[a-s]&255}else{for(;a<s;a++)e[a]=n[a]+t[a]&255;for(;a<i;a++)e[a]=n[a]+jE(e[a-s],t[a],t[a-s])&255}}function jE(n,e,t){const i=n+e-t,s=Math.abs(i-n),a=Math.abs(i-e),l=Math.abs(i-t);return s<=a&&s<=l?n:a<=l?e:t}function HE(n,e,t,i,s,a){switch(n){case 0:pb(e,t,s);break;case 1:mb(e,t,s,a);break;case 2:gb(e,t,i,s);break;case 3:yb(e,t,i,s,a);break;case 4:vb(e,t,i,s,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const zE=new Uint16Array([255]),GE=new Uint8Array(zE.buffer),VE=GE[0]===255;function $E(n){const{data:e,width:t,height:i,channels:s,depth:a}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*s,f=new Uint8Array(i*t*c);let d=0;for(let p=0;p<7;p++){const _=l[p],S=Math.ceil((t-_.x)/_.xStep),b=Math.ceil((i-_.y)/_.yStep);if(S<=0||b<=0)continue;const N=S*c,C=new Uint8Array(N);for(let I=0;I<b;I++){const k=e[d++],j=e.subarray(d,d+N);d+=N;const O=new Uint8Array(N);HE(k,j,O,C,N,c),C.set(O);for(let U=0;U<S;U++){const ee=_.x+U*_.xStep,oe=_.y+I*_.yStep;if(!(ee>=t||oe>=i))for(let re=0;re<c;re++)f[(oe*t+ee)*c+re]=O[U*c+re]}}}if(a===16){const p=new Uint16Array(f.buffer);if(VE)for(let _=0;_<p.length;_++)p[_]=JE(p[_]);return p}else return f}function JE(n){return(n&255)<<8|n>>8&255}const YE=new Uint16Array([255]),WE=new Uint8Array(YE.buffer),KE=WE[0]===255,XE=new Uint8Array(0);function tv(n){const{data:e,width:t,height:i,channels:s,depth:a}=n,l=Math.ceil(a/8)*s,c=Math.ceil(a/8*s*t),f=new Uint8Array(i*c);let d=XE,p=0,_,S;for(let b=0;b<i;b++){switch(_=e.subarray(p+1,p+1+c),S=f.subarray(b*c,(b+1)*c),e[p]){case 0:pb(_,S,c);break;case 1:mb(_,S,c,l);break;case 2:gb(_,S,d,c);break;case 3:yb(_,S,d,c,l);break;case 4:vb(_,S,d,c,l);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}d=S,p+=c+1}if(a===16){const b=new Uint16Array(f.buffer);if(KE)for(let N=0;N<b.length;N++)b[N]=ZE(b[N]);return b}else return f}function ZE(n){return(n&255)<<8|n>>8&255}const Kd=Uint8Array.of(137,80,78,71,13,10,26,10);function nv(n){if(!QE(n.readBytes(Kd.length)))throw new Error("wrong PNG signature")}function QE(n){if(n.length<Kd.length)return!1;for(let e=0;e<Kd.length;e++)if(n[e]!==Kd[e])return!1;return!0}const eT="tEXt",tT=0,bb=new TextDecoder("latin1");function nT(n){if(rT(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const iT=/^[\u0000-\u00FF]*$/;function rT(n){if(!iT.test(n))throw new Error("invalid latin1 text")}function sT(n,e,t){const i=_b(e);n[i]=aT(e,t-i.length-1)}function _b(n){for(n.mark();n.readByte()!==tT;);const e=n.offset;n.reset();const t=bb.decode(n.readBytes(e-n.offset-1));return n.skip(1),nT(t),t}function aT(n,e){return bb.decode(n.readBytes(e))}const bs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},lm={UNKNOWN:-1,DEFLATE:0},iv={UNKNOWN:-1,ADAPTIVE:0},um={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Pd={NONE:0,BACKGROUND:1,PREVIOUS:2},cm={SOURCE:0,OVER:1};class oT extends S0{constructor(t,i={}){super(t);Ln(this,"_checkCrc");Ln(this,"_inflator");Ln(this,"_png");Ln(this,"_apng");Ln(this,"_end");Ln(this,"_hasPalette");Ln(this,"_palette");Ln(this,"_hasTransparency");Ln(this,"_transparency");Ln(this,"_compressionMethod");Ln(this,"_filterMethod");Ln(this,"_interlaceMethod");Ln(this,"_colorType");Ln(this,"_isAnimated");Ln(this,"_numberOfFrames");Ln(this,"_numberOfPlays");Ln(this,"_frames");Ln(this,"_writingDataChunks");const{checkCrc:s=!1}=i;this._checkCrc=s,this._inflator=new Zy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=lm.UNKNOWN,this._filterMethod=iv.UNKNOWN,this._interlaceMethod=um.UNKNOWN,this._colorType=bs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(nv(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeChunk(t,i)}return this.decodeImage(),this._png}decodeApng(){for(nv(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(t,i)}return this.decodeApngImage(),this._apng}decodeChunk(t,i){const s=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case eT:sT(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?ev(this,t+4,i):this.skip(4)}decodeApngChunk(t,i){const s=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,i),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?ev(this,t+4,i):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=lT(this.readUint8());const i=this.readUint8();this._colorType=i;let s;switch(i){case bs.GREYSCALE:s=1;break;case bs.TRUECOLOUR:s=3;break;case bs.INDEXED_COLOUR:s=1;break;case bs.GREYSCALE_ALPHA:s=2;break;case bs.TRUECOLOUR_ALPHA:s=4;break;case bs.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==lm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const i=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<i;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const i=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let i=t,s=this.offset+this.byteOffset;if(s+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case bs.GREYSCALE:case bs.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let i=0;i<t/2;i++)this._transparency[i]=this.readUint16();break}case bs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let i=0;for(;i<t;i++){const s=this.readByte();this._palette[i].push(s)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case bs.UNKNOWN:case bs.GREYSCALE_ALPHA:case bs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const i=_b(this),s=this.readUint8();if(s!==lm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(t-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:BE(a)}}decodepHYs(){const t=this.readUint32(),i=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:i,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const i={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=tv({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)i.data=s.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(s,a,i),this.addFrameDataToCanvas(i,s)}this._apng.frames.push(i)}}return this._apng}disposeFrame(t,i,s){switch(t.disposeOp){case Pd.NONE:break;case Pd.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let l=0;l<this._png.width;l++){const c=(a*t.width+l)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[c+f]=0}break;case Pd.PREVIOUS:s.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,i){const s=1<<this._png.depth,a=(l,c)=>{const f=((l+i.yOffset)*this._png.width+i.xOffset+c)*this._png.channels,d=(l*i.width+c)*this._png.channels;return{index:f,frameIndex:d}};switch(i.blendOp){case cm.SOURCE:for(let l=0;l<i.height;l++)for(let c=0;c<i.width;c++){const{index:f,frameIndex:d}=a(l,c);for(let p=0;p<this._png.channels;p++)t.data[f+p]=i.data[d+p]}break;case cm.OVER:for(let l=0;l<i.height;l++)for(let c=0;c<i.width;c++){const{index:f,frameIndex:d}=a(l,c);for(let p=0;p<this._png.channels;p++){const _=i.data[d+this._png.channels-1]/s,S=p%(this._png.channels-1)===0?1:i.data[d+p],b=Math.floor(_*S+(1-_)*t.data[f+p]);t.data[f+p]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==iv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===um.NO_INTERLACE)this._png.data=tv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===um.ADAM7)this._png.data=$E({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,i=this._frames.at(-1);i?i.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Pd.NONE,blendOp:cm.SOURCE,data:t}),this._inflator=new Zy,this._writingDataChunks=!1}}function lT(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var rv;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(rv||(rv={}));function uT(n,e){return new oT(n,e).decode()}var Ft=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fm(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Vn={log:fm,warn:function(n){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):fm.call(null,arguments))},error:function(n){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):fm(n))}};function dm(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Zl(i.response,e,t)},i.onerror=function(){Vn.error("could not download file")},i.send()}function sv(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Zl=Ft.saveAs||((typeof window>"u"?"undefined":In(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Ft.URL||Ft.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?sv(s.href)?dm(n,e,t):Dd(s,s.target="_blank"):Dd(s)):(s.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Dd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(sv(n))dm(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Dd(i)})}else navigator.msSaveOrOpenBlob((function(s,a){return a===void 0?a={autoBom:!1}:In(a)!=="object"&&(Vn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return dm(n,e,t);var s=n.type==="application/octet-stream",a=/constructor/i.test(Ft.HTMLElement)||Ft.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&(typeof FileReader>"u"?"undefined":In(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},c.readAsDataURL(n)}else{var f=Ft.URL||Ft.webkitURL,d=f.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function wb(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,a=t[i].process,l=s.exec(n);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Xd=Ft.atob.bind(Ft),av=Ft.btoa.bind(Ft);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hm(n,e){var t=n[0],i=n[1],s=n[2],a=n[3];t=xr(t,i,s,a,e[0],7,-680876936),a=xr(a,t,i,s,e[1],12,-389564586),s=xr(s,a,t,i,e[2],17,606105819),i=xr(i,s,a,t,e[3],22,-1044525330),t=xr(t,i,s,a,e[4],7,-176418897),a=xr(a,t,i,s,e[5],12,1200080426),s=xr(s,a,t,i,e[6],17,-1473231341),i=xr(i,s,a,t,e[7],22,-45705983),t=xr(t,i,s,a,e[8],7,1770035416),a=xr(a,t,i,s,e[9],12,-1958414417),s=xr(s,a,t,i,e[10],17,-42063),i=xr(i,s,a,t,e[11],22,-1990404162),t=xr(t,i,s,a,e[12],7,1804603682),a=xr(a,t,i,s,e[13],12,-40341101),s=xr(s,a,t,i,e[14],17,-1502002290),t=Ar(t,i=xr(i,s,a,t,e[15],22,1236535329),s,a,e[1],5,-165796510),a=Ar(a,t,i,s,e[6],9,-1069501632),s=Ar(s,a,t,i,e[11],14,643717713),i=Ar(i,s,a,t,e[0],20,-373897302),t=Ar(t,i,s,a,e[5],5,-701558691),a=Ar(a,t,i,s,e[10],9,38016083),s=Ar(s,a,t,i,e[15],14,-660478335),i=Ar(i,s,a,t,e[4],20,-405537848),t=Ar(t,i,s,a,e[9],5,568446438),a=Ar(a,t,i,s,e[14],9,-1019803690),s=Ar(s,a,t,i,e[3],14,-187363961),i=Ar(i,s,a,t,e[8],20,1163531501),t=Ar(t,i,s,a,e[13],5,-1444681467),a=Ar(a,t,i,s,e[2],9,-51403784),s=Ar(s,a,t,i,e[7],14,1735328473),t=Er(t,i=Ar(i,s,a,t,e[12],20,-1926607734),s,a,e[5],4,-378558),a=Er(a,t,i,s,e[8],11,-2022574463),s=Er(s,a,t,i,e[11],16,1839030562),i=Er(i,s,a,t,e[14],23,-35309556),t=Er(t,i,s,a,e[1],4,-1530992060),a=Er(a,t,i,s,e[4],11,1272893353),s=Er(s,a,t,i,e[7],16,-155497632),i=Er(i,s,a,t,e[10],23,-1094730640),t=Er(t,i,s,a,e[13],4,681279174),a=Er(a,t,i,s,e[0],11,-358537222),s=Er(s,a,t,i,e[3],16,-722521979),i=Er(i,s,a,t,e[6],23,76029189),t=Er(t,i,s,a,e[9],4,-640364487),a=Er(a,t,i,s,e[12],11,-421815835),s=Er(s,a,t,i,e[15],16,530742520),t=Tr(t,i=Er(i,s,a,t,e[2],23,-995338651),s,a,e[0],6,-198630844),a=Tr(a,t,i,s,e[7],10,1126891415),s=Tr(s,a,t,i,e[14],15,-1416354905),i=Tr(i,s,a,t,e[5],21,-57434055),t=Tr(t,i,s,a,e[12],6,1700485571),a=Tr(a,t,i,s,e[3],10,-1894986606),s=Tr(s,a,t,i,e[10],15,-1051523),i=Tr(i,s,a,t,e[1],21,-2054922799),t=Tr(t,i,s,a,e[8],6,1873313359),a=Tr(a,t,i,s,e[15],10,-30611744),s=Tr(s,a,t,i,e[6],15,-1560198380),i=Tr(i,s,a,t,e[13],21,1309151649),t=Tr(t,i,s,a,e[4],6,-145523070),a=Tr(a,t,i,s,e[11],10,-1120210379),s=Tr(s,a,t,i,e[2],15,718787259),i=Tr(i,s,a,t,e[9],21,-343485551),n[0]=pl(t,n[0]),n[1]=pl(i,n[1]),n[2]=pl(s,n[2]),n[3]=pl(a,n[3])}function xh(n,e,t,i,s,a){return e=pl(pl(e,n),pl(i,a)),pl(e<<s|e>>>32-s,t)}function xr(n,e,t,i,s,a,l){return xh(e&t|~e&i,n,e,s,a,l)}function Ar(n,e,t,i,s,a,l){return xh(e&i|t&~i,n,e,s,a,l)}function Er(n,e,t,i,s,a,l){return xh(e^t^i,n,e,s,a,l)}function Tr(n,e,t,i,s,a,l){return xh(t^(e|~i),n,e,s,a,l)}function Sb(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)hm(i,cT(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(hm(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,hm(i,s),i}function cT(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var ov="0123456789abcdef".split("");function fT(n){for(var e="",t=0;t<4;t++)e+=ov[n>>8*t+4&15]+ov[n>>8*t&15];return e}function dT(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Hm(n){return Sb(n).map(dT).join("")}var hT=(function(n){for(var e=0;e<n.length;e++)n[e]=fT(n[e]);return n.join("")})(Sb("hello"))!="5d41402abc4b2a76b9719d911017c592";function pl(n,e){if(hT){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zm(n,e){var t,i,s,a;if(n!==t){for(var l=(s=n,a=1+(256/n.length|0),new Array(a+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+l.charCodeAt(f))%256,c[f]=c[d],c[d]=p}t=n,i=c}else c=i;var _=e.length,S=0,b=0,N="";for(f=0;f<_;f++)b=(b+(p=c[S=(S+1)%256]))%256,c[S]=c[b],c[b]=p,l=c[(c[S]+c[b])%256],N+=String.fromCharCode(e.charCodeAt(f)^l);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var lv={print:4,modify:8,copy:16,"annot-forms":32};function dc(n,e,t,i){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(lv.perm!==void 0)throw new Error("Invalid permission: "+c);s+=lv[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^s)),this.encryptionKey=Hm(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=zm(this.encryptionKey,this.padding)}function hc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var s=n.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[i]}return e}function uv(n){if(In(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[i,!!s],a},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(n,i)}catch(c){Ft.console&&Vn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function lh(n){if(!(this instanceof lh))return new lh(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function xb(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function eu(n,e,t,i,s){if(!(this instanceof eu))return new eu(n,e,t,i,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,xb.call(this,i,s)}function gc(n,e,t,i,s){if(!(this instanceof gc))return new gc(n,e,t,i,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,xb.call(this,i,s)}function bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],a=arguments[3],l=[],c=1,f=16,d="S",p=null;In(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,s=n.format||s,a=n.compress||n.compressPdf||a,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,S={},b={internal:{},__private__:{}};b.__private__.PubSub=uv;var N="1.3",C=b.__private__.getPdfVersion=function(){return N};b.__private__.setPdfVersion=function(A){N=A};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return I};var k=b.__private__.getPageFormat=function(A){return I[A]};s=s||"a4";var j="compat",O="advanced",U=j;function ee(){this.saveGraphicsState(),K(new gt(Ut,0,0,-Ut,0,Xs()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),d="n",U=O}function oe(){this.restoreGraphicsState(),d="S",U=j}var re=b.__private__.combineFontStyleAndFontWeight=function(A,P){if(A=="bold"&&P=="normal"||A=="bold"&&P==400||A=="normal"&&P=="italic"||A=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(A=P==400||P==="normal"?A==="italic"?"italic":"normal":P!=700&&P!=="bold"||A!=="normal"?(P==700?"bold":P)+""+A:"bold"),A};b.advancedAPI=function(A){var P=U===j;return P&&ee.call(this),typeof A!="function"||(A(this),P&&oe.call(this)),this},b.compatAPI=function(A){var P=U===O;return P&&oe.call(this),typeof A!="function"||(A(this),P&&ee.call(this)),this},b.isAdvancedAPI=function(){return U===O};var se,H=function(A){if(U!==O)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},le=b.roundToPrecision=b.__private__.roundToPrecision=function(A,P){var Q=e||P;if(isNaN(A)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(Q).replace(/0+$/,"")};se=b.hpf=b.__private__.hpf=typeof f=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return le(A,f)}:f==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return le(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return le(A,16)};var F=b.f2=b.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return le(A,2)},$=b.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return le(A,3)},ie=b.scale=b.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return U===j?A*Ut:U===O?A:void 0},ae=function(A){return ie((function(P){return U===j?Xs()-P:U===O?P:void 0})(A))};b.__private__.setPrecision=b.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var xe,te="00000000000000000000000000000000",pe=b.__private__.getFileId=function(){return te},ge=b.__private__.setFileId=function(A){return te=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Ni=new dc(p.userPermissions,p.userPassword,p.ownerPassword,te)),te};b.setFileId=function(A){return ge(A),this},b.getFileId=function(){return pe()};var Ce=b.__private__.convertDateToPDFDate=function(A){var P=A.getTimezoneOffset(),Q=P<0?"+":"-",fe=Math.floor(Math.abs(P/60)),_e=Math.abs(P%60),Be=[Q,W(fe),"'",W(_e),"'"].join("");return["D:",A.getFullYear(),W(A.getMonth()+1),W(A.getDate()),W(A.getHours()),W(A.getMinutes()),W(A.getSeconds()),Be].join("")},je=b.__private__.convertPDFDateToDate=function(A){var P=parseInt(A.substr(2,4),10),Q=parseInt(A.substr(6,2),10)-1,fe=parseInt(A.substr(8,2),10),_e=parseInt(A.substr(10,2),10),Be=parseInt(A.substr(12,2),10),Ge=parseInt(A.substr(14,2),10);return new Date(P,Q,fe,_e,Be,Ge,0)},Y=b.__private__.setCreationDate=function(A){var P;if(A===void 0&&(A=new Date),A instanceof Date)P=Ce(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=A}return xe=P},M=b.__private__.getCreationDate=function(A){var P=xe;return A==="jsDate"&&(P=je(xe)),P};b.setCreationDate=function(A){return Y(A),this},b.getCreationDate=function(A){return M(A)};var G,W=b.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=b.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ce=0,ve=[],ke=[],Re=0,he=[],Oe=[],et=!1,Qe=ke;b.__private__.setCustomOutputDestination=function(A){et=!0,Qe=A};var ot=function(A){et||(Qe=A)};b.__private__.resetCustomOutputDestination=function(){et=!1,Qe=ke};var K=b.__private__.out=function(A){return A=A.toString(),Re+=A.length+1,Qe.push(A),Qe},Xe=b.__private__.write=function(A){return K(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},qt=b.__private__.getArrayBuffer=function(A){for(var P=A.length,Q=new ArrayBuffer(P),fe=new Uint8Array(Q);P--;)fe[P]=A.charCodeAt(P);return Q},At=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return At};var Ve=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(A){return Ve=U===O?A/Ut:A,this};var St,it=b.__private__.getFontSize=b.getFontSize=function(){return U===j?Ve:Ve*Ut},Et=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(A){return Et=A,this},b.__private__.getR2L=b.getR2L=function(){return Et};var _t,jt=b.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))St=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');St=A}else St=parseInt(A,10)};b.__private__.getZoomMode=function(){return St};var Kt,Ot=b.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');_t=A};b.__private__.getPageMode=function(){return _t};var Xt=b.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Kt=A};b.__private__.getLayoutMode=function(){return Kt},b.__private__.setDisplayMode=b.setDisplayMode=function(A,P,Q){return jt(A),Xt(P),Ot(Q),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(A){if(Object.keys(Ht).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[A]},b.__private__.getDocumentProperties=function(){return Ht},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(A){for(var P in Ht)Ht.hasOwnProperty(P)&&A[P]&&(Ht[P]=A[P]);return this},b.__private__.setDocumentProperty=function(A,P){if(Object.keys(Ht).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[A]=P};var pt,Ut,mt,Jn,Yt,Nt={},Mt={},Zt=[],xt={},Tn={},de={},Je={},Me=null,at=0,Ze=[],Ye=new uv(b),tt=n.hotfixes||[],Mn={},Pi={},Qi=[],gt=function A(P,Q,fe,_e,Be,Ge){if(!(this instanceof A))return new A(P,Q,fe,_e,Be,Ge);isNaN(P)&&(P=1),isNaN(Q)&&(Q=0),isNaN(fe)&&(fe=0),isNaN(_e)&&(_e=1),isNaN(Be)&&(Be=0),isNaN(Ge)&&(Ge=0),this._matrix=[P,Q,fe,_e,Be,Ge]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(A)},gt.prototype.multiply=function(A){var P=A.sx*this.sx+A.shy*this.shx,Q=A.sx*this.shy+A.shy*this.sy,fe=A.shx*this.sx+A.sy*this.shx,_e=A.shx*this.shy+A.sy*this.sy,Be=A.tx*this.sx+A.ty*this.shx+this.tx,Ge=A.tx*this.shy+A.ty*this.sy+this.ty;return new gt(P,Q,fe,_e,Be,Ge)},gt.prototype.decompose=function(){var A=this.sx,P=this.shy,Q=this.shx,fe=this.sy,_e=this.tx,Be=this.ty,Ge=Math.sqrt(A*A+P*P),ut=(A/=Ge)*Q+(P/=Ge)*fe;Q-=A*ut,fe-=P*ut;var yt=Math.sqrt(Q*Q+fe*fe);return ut/=yt,A*(fe/=yt)<P*(Q/=yt)&&(A=-A,P=-P,ut=-ut,Ge=-Ge),{scale:new gt(Ge,0,0,yt,0,0),translate:new gt(1,0,0,1,_e,Be),rotate:new gt(A,P,-P,A,0,0),skew:new gt(1,0,ut,1,0,0)}},gt.prototype.toString=function(A){return this.join(" ")},gt.prototype.inversed=function(){var A=this.sx,P=this.shy,Q=this.shx,fe=this.sy,_e=this.tx,Be=this.ty,Ge=1/(A*fe-P*Q),ut=fe*Ge,yt=-P*Ge,Pt=-Q*Ge,zt=A*Ge;return new gt(ut,yt,Pt,zt,-ut*_e-Pt*Be,-yt*_e-zt*Be)},gt.prototype.applyToPoint=function(A){var P=A.x*this.sx+A.y*this.shx+this.tx,Q=A.x*this.shy+A.y*this.sy+this.ty;return new zr(P,Q)},gt.prototype.applyToRectangle=function(A){var P=this.applyToPoint(A),Q=this.applyToPoint(new zr(A.x+A.w,A.y+A.h));return new $s(P.x,P.y,Q.x-P.x,Q.y-P.y)},gt.prototype.clone=function(){var A=this.sx,P=this.shy,Q=this.shx,fe=this.sy,_e=this.tx,Be=this.ty;return new gt(A,P,Q,fe,_e,Be)},b.Matrix=gt;var jr=b.matrixMult=function(A,P){return P.multiply(A)},kr=new gt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=kr;var Di=function(A,P){if(!Tn[A]){var Q=(P instanceof eu?"Sh":"P")+(Object.keys(xt).length+1).toString(10);P.id=Q,Tn[A]=Q,xt[Q]=P,Ye.publish("addPattern",P)}};b.ShadingPattern=eu,b.TilingPattern=gc,b.addShadingPattern=function(A,P){return H("addShadingPattern()"),Di(A,P),this},b.beginTilingPattern=function(A){H("beginTilingPattern()"),Za(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},b.endTilingPattern=function(A,P){H("endTilingPattern()"),P.stream=Oe[G].join(`
`),Di(A,P),Ye.publish("endTilingPattern",P),Qi.pop().restore()};var li,Nn=b.__private__.newObject=function(){var A=Yn();return ui(A,!0),A},Yn=b.__private__.newObjectDeferred=function(){return ce++,ve[ce]=function(){return Re},ce},ui=function(A,P){return P=typeof P=="boolean"&&P,ve[A]=Re,P&&K(A+" 0 obj"),A},Lr=b.__private__.newAdditionalObject=function(){var A={objId:Yn(),content:""};return he.push(A),A},Oi=Yn(),Sn=Yn(),jn=b.__private__.decodeColorString=function(A){var P=A.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var Q=parseFloat(P[0]);P=[Q,Q,Q,"r"]}for(var fe="#",_e=0;_e<3;_e++)fe+=("0"+Math.floor(255*parseFloat(P[_e])).toString(16)).slice(-2);return fe},Ti=b.__private__.encodeColorString=function(A){var P;typeof A=="string"&&(A={ch1:A});var Q=A.ch1,fe=A.ch2,_e=A.ch3,Be=A.ch4,Ge=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var ut=new wb(Q);if(ut.ok)Q=ut.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var yt=parseInt(Q.substr(1),16);Q=yt>>16&255,fe=yt>>8&255,_e=255&yt}if(fe===void 0||Be===void 0&&Q===fe&&fe===_e)P=typeof Q=="string"?Q+" "+Ge[0]:A.precision===2?F(Q/255)+" "+Ge[0]:$(Q/255)+" "+Ge[0];else if(Be===void 0||In(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ge[1]].join(" ");P=typeof Q=="string"?[Q,fe,_e,Ge[1]].join(" "):A.precision===2?[F(Q/255),F(fe/255),F(_e/255),Ge[1]].join(" "):[$(Q/255),$(fe/255),$(_e/255),Ge[1]].join(" ")}else P=typeof Q=="string"?[Q,fe,_e,Be,Ge[2]].join(" "):A.precision===2?[F(Q),F(fe),F(_e),F(Be),Ge[2]].join(" "):[$(Q),$(fe),$(_e),$(Be),Ge[2]].join(" ");return P},gr=b.__private__.getFilters=function(){return l},yr=b.__private__.putStream=function(A){var P=(A=A||{}).data||"",Q=A.filters||gr(),fe=A.alreadyAppliedFilters||[],_e=A.addLength1||!1,Be=P.length,Ge=A.objectId,ut=function(Ci){return Ci};if(p!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ut=Ni.encryptor(Ge,0));var yt={};Q===!0&&(Q=["FlateEncode"]);var Pt=A.additionalKeyValues||[],zt=(yt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(P,Q):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(yt.data.length!==0&&(Pt.push({key:"Length",value:yt.data.length}),_e===!0&&Pt.push({key:"Length1",value:Be})),zt.length!=0)if(zt.split("/").length-1==1)Pt.push({key:"Filter",value:zt});else{Pt.push({key:"Filter",value:"["+zt+"]"});for(var un=0;un<Pt.length;un+=1)if(Pt[un].key==="DecodeParms"){for(var Wn=[],fi=0;fi<yt.reverseChain.split("/").length-1;fi+=1)Wn.push("null");Wn.push(Pt[un].value),Pt[un].value="["+Wn.join(" ")+"]"}}K("<<");for(var Pn=0;Pn<Pt.length;Pn++)K("/"+Pt[Pn].key+" "+Pt[Pn].value);K(">>"),yt.data.length!==0&&(K("stream"),K(ut(yt.data)),K("endstream"))},Aa=b.__private__.putPage=function(A){var P=A.number,Q=A.data,fe=A.objId,_e=A.contentsObjId;ui(fe,!0),K("<</Type /Page"),K("/Parent "+A.rootDictionaryObjId+" 0 R"),K("/Resources "+A.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(se(A.mediaBox.bottomLeftX))+" "+parseFloat(se(A.mediaBox.bottomLeftY))+" "+se(A.mediaBox.topRightX)+" "+se(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&K("/CropBox ["+se(A.cropBox.bottomLeftX)+" "+se(A.cropBox.bottomLeftY)+" "+se(A.cropBox.topRightX)+" "+se(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&K("/BleedBox ["+se(A.bleedBox.bottomLeftX)+" "+se(A.bleedBox.bottomLeftY)+" "+se(A.bleedBox.topRightX)+" "+se(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&K("/TrimBox ["+se(A.trimBox.bottomLeftX)+" "+se(A.trimBox.bottomLeftY)+" "+se(A.trimBox.topRightX)+" "+se(A.trimBox.topRightY)+"]"),A.artBox!==null&&K("/ArtBox ["+se(A.artBox.bottomLeftX)+" "+se(A.artBox.bottomLeftY)+" "+se(A.artBox.topRightX)+" "+se(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&K("/UserUnit "+A.userUnit),Ye.publish("putPage",{objId:fe,pageContext:Ze[P],pageNumber:P,page:Q}),K("/Contents "+_e+" 0 R"),K(">>"),K("endobj");var Be=Q.join(`
`);return U===O&&(Be+=`
Q`),ui(_e,!0),yr({data:Be,filters:gr(),objectId:_e}),K("endobj"),fe},Ir=b.__private__.putPages=function(){var A,P,Q=[];for(A=1;A<=at;A++)Ze[A].objId=Yn(),Ze[A].contentsObjId=Yn();for(A=1;A<=at;A++)Q.push(Aa({number:A,data:Oe[A],objId:Ze[A].objId,contentsObjId:Ze[A].contentsObjId,mediaBox:Ze[A].mediaBox,cropBox:Ze[A].cropBox,bleedBox:Ze[A].bleedBox,trimBox:Ze[A].trimBox,artBox:Ze[A].artBox,userUnit:Ze[A].userUnit,rootDictionaryObjId:Oi,resourceDictionaryObjId:Sn}));ui(Oi,!0),K("<</Type /Pages");var fe="/Kids [";for(P=0;P<at;P++)fe+=Q[P]+" 0 R ";K(fe+"]"),K("/Count "+at),K(">>"),K("endobj"),Ye.publish("postPutPages")},vr=function(A){Ye.publish("putFont",{font:A,out:K,newObject:Nn,putStream:yr}),A.isAlreadyPutted!==!0&&(A.objectNumber=Nn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+hc(A.postScriptName)),K("/Subtype /Type1"),typeof A.encoding=="string"&&K("/Encoding /"+A.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},an=function(A){A.objectNumber=Nn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[se(A.x),se(A.y),se(A.x+A.width),se(A.y+A.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var Q=A.pages[1].join(`
`);yr({data:Q,additionalKeyValues:P,objectId:A.objectNumber}),K("endobj")},ni=function(A,P){P||(P=21);var Q=Nn(),fe=(function(Ge,ut){var yt,Pt=[],zt=1/(ut-1);for(yt=0;yt<1;yt+=zt)Pt.push(yt);if(Pt.push(1),Ge[0].offset!=0){var un={offset:0,color:Ge[0].color};Ge.unshift(un)}if(Ge[Ge.length-1].offset!=1){var Wn={offset:1,color:Ge[Ge.length-1].color};Ge.push(Wn)}for(var fi="",Pn=0,Ci=0;Ci<Pt.length;Ci++){for(yt=Pt[Ci];yt>Ge[Pn+1].offset;)Pn++;var vi=Ge[Pn].offset,Gi=(yt-vi)/(Ge[Pn+1].offset-vi),Zs=Ge[Pn].color,cs=Ge[Pn+1].color;fi+=ne(Math.round((1-Gi)*Zs[0]+Gi*cs[0]).toString(16))+ne(Math.round((1-Gi)*Zs[1]+Gi*cs[1]).toString(16))+ne(Math.round((1-Gi)*Zs[2]+Gi*cs[2]).toString(16))}return fi.trim()})(A.colors,P),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+P+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yr({data:fe,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),K("endobj"),A.objectNumber=Nn(),K("<< /ShadingType "+A.type),K("/ColorSpace /DeviceRGB");var Be="/Coords ["+se(parseFloat(A.coords[0]))+" "+se(parseFloat(A.coords[1]))+" ";A.type===2?Be+=se(parseFloat(A.coords[2]))+" "+se(parseFloat(A.coords[3])):Be+=se(parseFloat(A.coords[2]))+" "+se(parseFloat(A.coords[3]))+" "+se(parseFloat(A.coords[4]))+" "+se(parseFloat(A.coords[5])),K(Be+="]"),A.matrix&&K("/Matrix ["+A.matrix.toString()+"]"),K("/Function "+Q+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},vn=function(A,P){var Q=Yn(),fe=Nn();P.push({resourcesOid:Q,objectOid:fe}),A.objectNumber=fe;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+A.boundingBox.map(se).join(" ")+"]"}),_e.push({key:"XStep",value:se(A.xStep)}),_e.push({key:"YStep",value:se(A.yStep)}),_e.push({key:"Resources",value:Q+" 0 R"}),A.matrix&&_e.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),yr({data:A.stream,additionalKeyValues:_e,objectId:A.objectNumber}),K("endobj")},Ja=function(A){for(var P in A.objectNumber=Nn(),K("<<"),A)switch(P){case"opacity":K("/ca "+F(A[P]));break;case"stroke-opacity":K("/CA "+F(A[P]))}K(">>"),K("endobj")},As=function(A){ui(A.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in K("/Font <<"),Nt)Nt.hasOwnProperty(P)&&(_===!1||_===!0&&S.hasOwnProperty(P))&&K("/"+P+" "+Nt[P].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(xt).length>0){for(var P in K("/Shading <<"),xt)xt.hasOwnProperty(P)&&xt[P]instanceof eu&&xt[P].objectNumber>=0&&K("/"+P+" "+xt[P].objectNumber+" 0 R");Ye.publish("putShadingPatternDict"),K(">>")}})(),(function(P){if(Object.keys(xt).length>0){for(var Q in K("/Pattern <<"),xt)xt.hasOwnProperty(Q)&&xt[Q]instanceof b.TilingPattern&&xt[Q].objectNumber>=0&&xt[Q].objectNumber<P&&K("/"+Q+" "+xt[Q].objectNumber+" 0 R");Ye.publish("putTilingPatternDict"),K(">>")}})(A.objectOid),(function(){if(Object.keys(de).length>0){var P;for(P in K("/ExtGState <<"),de)de.hasOwnProperty(P)&&de[P].objectNumber>=0&&K("/"+P+" "+de[P].objectNumber+" 0 R");Ye.publish("putGStateDict"),K(">>")}})(),(function(){for(var P in K("/XObject <<"),Mn)Mn.hasOwnProperty(P)&&Mn[P].objectNumber>=0&&K("/"+P+" "+Mn[P].objectNumber+" 0 R");Ye.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},ci=function(A){Mt[A.fontName]=Mt[A.fontName]||{},Mt[A.fontName][A.fontStyle]=A.id},vl=function(A,P,Q,fe,_e){var Be={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:A,fontName:P,fontStyle:Q,encoding:fe,isStandardFont:_e||!1,metadata:{}};return Ye.publish("addFont",{font:Be,instance:this}),Nt[Be.id]=Be,ci(Be),Be.id},Mr=b.__private__.pdfEscape=b.pdfEscape=function(A,P){return(function(Q,fe){var _e,Be,Ge,ut,yt,Pt,zt,un,Wn;if(Ge=(fe=fe||{}).sourceEncoding||"Unicode",yt=fe.outputEncoding,(fe.autoencode||yt)&&Nt[pt].metadata&&Nt[pt].metadata[Ge]&&Nt[pt].metadata[Ge].encoding&&(ut=Nt[pt].metadata[Ge].encoding,!yt&&Nt[pt].encoding&&(yt=Nt[pt].encoding),!yt&&ut.codePages&&(yt=ut.codePages[0]),typeof yt=="string"&&(yt=ut[yt]),yt)){for(zt=!1,Pt=[],_e=0,Be=Q.length;_e<Be;_e++)(un=yt[Q.charCodeAt(_e)])?Pt.push(String.fromCharCode(un)):Pt.push(Q[_e]),Pt[_e].charCodeAt(0)>>8&&(zt=!0);Q=Pt.join("")}for(_e=Q.length;zt===void 0&&_e!==0;)Q.charCodeAt(_e-1)>>8&&(zt=!0),_e--;if(!zt)return Q;for(Pt=fe.noBOM?[]:[254,255],_e=0,Be=Q.length;_e<Be;_e++){if((Wn=(un=Q.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Wn),Pt.push(un-(Wn<<8))}return String.fromCharCode.apply(void 0,Pt)})(A,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},as=b.__private__.beginPage=function(A){Oe[++at]=[],Ze[at]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},_l(at),ot(Oe[G])},zs=function(A,P){var Q,fe,_e;switch(t=P||t,typeof A=="string"&&(Q=k(A.toLowerCase()),Array.isArray(Q)&&(fe=Q[0],_e=Q[1])),Array.isArray(A)&&(fe=A[0]*Ut,_e=A[1]*Ut),isNaN(fe)&&(fe=s[0],_e=s[1]),(fe>14400||_e>14400)&&(Vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),_e=Math.min(14400,_e)),s=[fe,_e],t.substr(0,1)){case"l":_e>fe&&(s=[_e,fe]);break;case"p":fe>_e&&(s=[_e,fe])}as(s),kt(Wa),K(Or),Io!==0&&K(Io+" J"),Ui!==0&&K(Ui+" j"),Ye.publish("addPage",{pageNumber:at})},bl=function(A){A>0&&A<=at&&(Oe.splice(A,1),Ze.splice(A,1),at--,G>at&&(G=at),this.setPage(G))},_l=function(A){A>0&&A<=at&&(G=A)},wl=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Oe.length-1},hu=function(A,P,Q){var fe,_e=void 0;return Q=Q||{},A=A!==void 0?A:Nt[pt].fontName,P=P!==void 0?P:Nt[pt].fontStyle,fe=A.toLowerCase(),Mt[fe]!==void 0&&Mt[fe][P]!==void 0?_e=Mt[fe][P]:Mt[A]!==void 0&&Mt[A][P]!==void 0?_e=Mt[A][P]:Q.disableWarning===!1&&Vn.warn("Unable to look up font label for font '"+A+"', '"+P+"'. Refer to getFontList() for available fonts."),_e||Q.noFallback||(_e=Mt.times[P])==null&&(_e=Mt.times.normal),_e},Pr=b.__private__.putInfo=function(){var A=Nn(),P=function(fe){return fe};for(var Q in p!==null&&(P=Ni.encryptor(A,0)),K("<<"),K("/Producer ("+Mr(P("jsPDF "+bt.version))+")"),Ht)Ht.hasOwnProperty(Q)&&Ht[Q]&&K("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Mr(P(Ht[Q]))+")");K("/CreationDate ("+Mr(P(xe))+")"),K(">>"),K("endobj")},Gs=b.__private__.putCatalog=function(A){var P=(A=A||{}).rootDictionaryObjId||Oi;switch(Nn(),K("<<"),K("/Type /Catalog"),K("/Pages "+P+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+St;Q.substr(Q.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&K("/OpenAction [3 0 R /XYZ null null "+F(St)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}_t&&K("/PageMode /"+_t),Ye.publish("putCatalog"),K(">>"),K("endobj")},os=b.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ce+1)),K("/Root "+ce+" 0 R"),K("/Info "+(ce-1)+" 0 R"),p!==null&&K("/Encrypt "+Ni.oid+" 0 R"),K("/ID [ <"+te+"> <"+te+"> ]"),K(">>")},mn=b.__private__.putHeader=function(){K("%PDF-"+N),K("%")},Sl=b.__private__.putXRef=function(){var A="0000000000";K("xref"),K("0 "+(ce+1)),K("0000000000 65535 f ");for(var P=1;P<=ce;P++)typeof ve[P]=="function"?K((A+ve[P]()).slice(-10)+" 00000 n "):ve[P]!==void 0?K((A+ve[P]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Es=b.__private__.buildDocument=function(){var A;ce=0,Re=0,ke=[],ve=[],he=[],Oi=Yn(),Sn=Yn(),ot(ke),Ye.publish("buildDocument"),mn(),Ir(),(function(){Ye.publish("putAdditionalObjects");for(var Q=0;Q<he.length;Q++){var fe=he[Q];ui(fe.objId,!0),K(fe.content),K("endobj")}Ye.publish("postPutAdditionalObjects")})(),A=[],(function(){for(var Q in Nt)Nt.hasOwnProperty(Q)&&(_===!1||_===!0&&S.hasOwnProperty(Q))&&vr(Nt[Q])})(),(function(){var Q;for(Q in de)de.hasOwnProperty(Q)&&Ja(de[Q])})(),(function(){for(var Q in Mn)Mn.hasOwnProperty(Q)&&an(Mn[Q])})(),(function(Q){var fe;for(fe in xt)xt.hasOwnProperty(fe)&&(xt[fe]instanceof eu?ni(xt[fe]):xt[fe]instanceof gc&&vn(xt[fe],Q))})(A),Ye.publish("putResources"),A.forEach(As),As({resourcesOid:Sn,objectOid:Number.MAX_SAFE_INTEGER}),Ye.publish("postPutResources"),p!==null&&(Ni.oid=Nn(),K("<<"),K("/Filter /Standard"),K("/V "+Ni.v),K("/R "+Ni.r),K("/U <"+Ni.toHexString(Ni.U)+">"),K("/O <"+Ni.toHexString(Ni.O)+">"),K("/P "+Ni.P),K(">>"),K("endobj")),Pr(),Gs();var P=Re;return Sl(),os(),K("startxref"),K(""+P),K("%%EOF"),ot(Oe[G]),ke.join(`
`)},Ea=b.__private__.getBlob=function(A){return new Blob([qt(A)],{type:"application/pdf"})},xl=b.output=b.__private__.output=(li=function(A,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",A){case void 0:return Es();case"save":b.save(P.filename);break;case"arraybuffer":return qt(Es());case"blob":return Ea(Es());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Ea(Es()))||void 0;Vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",fe=Es();try{Q=av(fe)}catch{Q=av(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+P.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(_e=P.pdfObjectUrl,Be="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",ut=Ft.open();return ut!==null&&ut.document.write(Ge),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Pt=Ft.open();if(Pt!==null){Pt.document.write(yt);var zt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=P.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Wn=Ft.open();if(Wn!==null&&(Wn.document.write(un),Wn.document.title=P.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",P);default:return null}},li.foo=function(){try{return li.apply(this,arguments)}catch(Q){var A=Q.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var P="Error in function "+A.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Ft.console)throw new Error(P);Ft.console.error(P,Q),Ft.alert&&alert(P)}},li.foo.bar=li,li.foo),or=function(A){return Array.isArray(tt)===!0&&tt.indexOf(A)>-1};switch(i){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=or("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ut=i}var Ni=null;Y(),ge();var yi=b.__private__.getPageInfo=b.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ze[A].objId,pageNumber:A,pageContext:Ze[A]}},ko=b.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Ze)if(Ze[P].objId===A)break;return yi(P)},pu=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Ze[G].objId,pageNumber:G,pageContext:Ze[G]}};b.addPage=function(){return zs.apply(this,arguments),this},b.setPage=function(){return _l.apply(this,arguments),ot.call(this,Oe[G]),this},b.insertPage=function(A){return this.addPage(),this.movePage(G,A),this},b.movePage=function(A,P){var Q,fe;if(A>P){Q=Oe[A],fe=Ze[A];for(var _e=A;_e>P;_e--)Oe[_e]=Oe[_e-1],Ze[_e]=Ze[_e-1];Oe[P]=Q,Ze[P]=fe,this.setPage(P)}else if(A<P){Q=Oe[A],fe=Ze[A];for(var Be=A;Be<P;Be++)Oe[Be]=Oe[Be+1],Ze[Be]=Ze[Be+1];Oe[P]=Q,Ze[P]=fe,this.setPage(P)}return this},b.deletePage=function(){return bl.apply(this,arguments),this},b.__private__.text=b.text=function(A,P,Q,fe,_e){var Be,Ge,ut,yt,Pt,zt,un,Wn,fi,Pn=(fe=fe||{}).scope||this;if(typeof A=="number"&&typeof P=="number"&&(typeof Q=="string"||Array.isArray(Q))){var Ci=Q;Q=P,P=A,A=Ci}if(arguments[3]instanceof gt==0?(ut=arguments[4],yt=arguments[5],In(un=arguments[3])==="object"&&un!==null||(typeof ut=="string"&&(yt=ut,ut=null),typeof un=="string"&&(yt=un,un=null),typeof un=="number"&&(ut=un,un=null),fe={flags:un,angle:ut,align:yt})):(H("The transform parameter of text() with a Matrix value"),fi=_e),isNaN(P)||isNaN(Q)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Pn;var vi,Gi="",Zs=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Vs,cs=Pn.internal.scaleFactor;function Qs(gn){return gn=gn.split("	").join(Array(fe.TabLen||9).join(" ")),Mr(gn,un)}function Il(gn){for(var cn,Dn=gn.concat(),hi=[],Ds=Dn.length;Ds--;)typeof(cn=Dn.shift())=="string"?hi.push(cn):Array.isArray(gn)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?hi.push(cn[0]):hi.push([cn[0],cn[1],cn[2]]);return hi}function Po(gn,cn){var Dn;if(typeof gn=="string")Dn=cn(gn)[0];else if(Array.isArray(gn)){for(var hi,Ds,ps=gn.concat(),no=[],Dl=ps.length;Dl--;)typeof(hi=ps.shift())=="string"?no.push(cn(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(Ds=cn(hi[0],hi[1],hi[2]),no.push([Ds[0],Ds[1],Ds[2]]));Dn=no}return Dn}var Cs=!1,fs=!0;if(typeof A=="string")Cs=!0;else if(Array.isArray(A)){var eo=A.concat();Ge=[];for(var ea,Bi=eo.length;Bi--;)(typeof(ea=eo.shift())!="string"||Array.isArray(ea)&&typeof ea[0]!="string")&&(fs=!1);Cs=fs}if(Cs===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Na=Ve/Pn.internal.scaleFactor,Ca=Na*(Zs-1);switch(fe.baseline){case"bottom":Q-=Ca;break;case"top":Q+=Na-Ca;break;case"hanging":Q+=Na-2*Ca;break;case"middle":Q+=Na/2-Ca}if((zt=fe.maxWidth||0)>0&&(typeof A=="string"?A=Pn.splitTextToSize(A,zt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(gn,cn){return gn.concat(Pn.splitTextToSize(cn,zt))},[]))),Be={text:A,x:P,y:Q,options:fe,mutex:{pdfEscape:Mr,activeFontKey:pt,fonts:Nt,activeFontSize:Ve}},Ye.publish("preProcessText",Be),A=Be.text,ut=(fe=Be.options).angle,fi instanceof gt==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,fe.rotationDirection===0&&(ut=-ut),U===O&&(ut=-ut);var Do=Math.cos(ut),Rs=Math.sin(ut);fi=new gt(Do,Rs,-Rs,Do,0,0)}else ut&&ut instanceof gt&&(fi=ut);U!==O||fi||(fi=kr),(Pt=fe.charSpace||Hr)!==void 0&&(Gi+=se(ie(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=fe.horizontalScale)!==void 0&&(Gi+=se(100*Wn)+` Tz
`),fe.lang;var ur=-1,ta=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Oo=Pn.internal.getCurrentPageInfo().pageContext;switch(ta){case 0:case!1:case"fill":ur=0;break;case 1:case!0:case"stroke":ur=1;break;case 2:case"fillThenStroke":ur=2;break;case 3:case"invisible":ur=3;break;case 4:case"fillAndAddForClipping":ur=4;break;case 5:case"strokeAndAddPathForClipping":ur=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ur=6;break;case 7:case"addToPathForClipping":ur=7}var Ml=Oo.usedRenderingMode!==void 0?Oo.usedRenderingMode:-1;ur!==-1?Gi+=ur+` Tr
`:Ml!==-1&&(Gi+=`0 Tr
`),ur!==-1&&(Oo.usedRenderingMode=ur),yt=fe.align||"left";var Ur,ds=Ve*Zs,na=Pn.internal.pageSize.getWidth(),Pl=Nt[pt];Pt=fe.charSpace||Hr,zt=fe.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var hs=[],Ra=function(gn){return Pn.getStringUnitWidth(gn,{font:Pl,charSpace:Pt,fontSize:Ve,doKerning:!1})*Ve/cs};if(Object.prototype.toString.call(A)==="[object Array]"){var _r;Ge=Il(A),yt!=="left"&&(Ur=Ge.map(Ra));var cr,ks=0;if(yt==="right"){P-=Ur[0],A=[],Bi=Ge.length;for(var Ls=0;Ls<Bi;Ls++)Ls===0?(cr=Dr(P),_r=zi(Q)):(cr=ie(ks-Ur[Ls]),_r=-ds),A.push([Ge[Ls],cr,_r]),ks=Ur[Ls]}else if(yt==="center"){P-=Ur[0]/2,A=[],Bi=Ge.length;for(var ia=0;ia<Bi;ia++)ia===0?(cr=Dr(P),_r=zi(Q)):(cr=ie((ks-Ur[ia])/2),_r=-ds),A.push([Ge[ia],cr,_r]),ks=Ur[ia]}else if(yt==="left"){A=[],Bi=Ge.length;for(var Uo=0;Uo<Bi;Uo++)A.push(Ge[Uo])}else if(yt==="justify"&&Pl.encoding==="Identity-H"){A=[],Bi=Ge.length,zt=zt!==0?zt:na;for(var Bo=0,di=0;di<Bi;di++)if(_r=di===0?zi(Q):-ds,cr=di===0?Dr(P):Bo,di<Bi-1){var xu=ie((zt-Ur[di])/(Ge[di].split(" ").length-1)),Is=Ge[di].split(" ");A.push([Is[0]+" ",cr,_r]),Bo=0;for(var Ms=1;Ms<Is.length;Ms++){var Vi=(Ra(Is[Ms-1]+" "+Is[Ms])-Ra(Is[Ms]))*cs+xu;Ms==Is.length-1?A.push([Is[Ms],Vi,0]):A.push([Is[Ms]+" ",Vi,0]),Bo-=Vi}}else A.push([Ge[di],cr,_r]);A.push(["",Bo,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Bi=Ge.length,zt=zt!==0?zt:na,di=0;di<Bi;di++){_r=di===0?zi(Q):-ds,cr=di===0?Dr(P):0;var ra=Ge[di].split(" ").length-1,Fo=ra>0?(zt-Ur[di])/ra:0;di<Bi-1?hs.push(se(ie(Fo))):hs.push(0),A.push([Ge[di],cr,_r])}}}(typeof fe.R2L=="boolean"?fe.R2L:Et)===!0&&(A=Po(A,function(gn,cn,Dn){return[gn.split("").reverse().join(""),cn,Dn]})),Be={text:A,x:P,y:Q,options:fe,mutex:{pdfEscape:Mr,activeFontKey:pt,fonts:Nt,activeFontSize:Ve}},Ye.publish("postProcessText",Be),A=Be.text,vi=Be.mutex.isHex||!1;var qo=Nt[pt].encoding;qo!=="WinAnsiEncoding"&&qo!=="StandardEncoding"||(A=Po(A,function(gn,cn,Dn){return[Qs(gn),cn,Dn]})),Ge=Il(A),A=[];for(var sa,aa,Ps,to=Array.isArray(Ge[0])?1:0,Br="",oa=function(gn,cn,Dn){var hi="";return Dn instanceof gt?(Dn=typeof fe.angle=="number"?jr(Dn,new gt(1,0,0,1,gn,cn)):jr(new gt(1,0,0,1,gn,cn),Dn),U===O&&(Dn=jr(new gt(1,0,0,-1,0,0),Dn)),hi=Dn.join(" ")+` Tm
`):hi=se(gn)+" "+se(cn)+` Td
`,hi},er=0;er<Ge.length;er++){switch(Br="",to){case 1:Ps=(vi?"<":"(")+Ge[er][0]+(vi?">":")"),sa=parseFloat(Ge[er][1]),aa=parseFloat(Ge[er][2]);break;case 0:Ps=(vi?"<":"(")+Ge[er]+(vi?">":")"),sa=Dr(P),aa=zi(Q)}hs!==void 0&&hs[er]!==void 0&&(Br=hs[er]+` Tw
`),er===0?A.push(Br+oa(sa,aa,fi)+Ps):to===0?A.push(Br+Ps):to===1&&A.push(Br+oa(sa,aa,fi)+Ps)}A=to===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Gr=`BT
/`;return Gr+=pt+" "+Ve+` Tf
`,Gr+=se(Ve*Zs)+` TL
`,Gr+=Ts+`
`,Gr+=Gi,Gr+=A,K(Gr+="ET"),S[pt]=!0,Pn};var Al=b.__private__.clip=b.clip=function(A){return K(A==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Al("evenodd")},b.__private__.discardPath=b.discardPath=function(){return K("n"),this};var lr=b.__private__.isValidStyle=function(A){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(A){return lr(A)&&(d=A),this};var El=b.__private__.getStyle=b.getStyle=function(A){var P=d;switch(A){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=A}return P},Tl=b.close=function(){return K("h"),this};b.stroke=function(){return K("S"),this},b.fill=function(A){return ls("f",A),this},b.fillEvenOdd=function(A){return ls("f*",A),this},b.fillStroke=function(A){return ls("B",A),this},b.fillStrokeEvenOdd=function(A){return ls("B*",A),this};var ls=function(A,P){In(P)==="object"?gu(P,A):K(A)},Ya=function(A){A===null||U===O&&A===void 0||(A=El(A),K(A))};function mu(A,P,Q,fe,_e){var Be=new gc(P||this.boundingBox,Q||this.xStep,fe||this.yStep,this.gState,_e||this.matrix);Be.stream=this.stream;var Ge=A+"$$"+this.cloneIndex+++"$$";return Di(Ge,Be),Be}var gu=function(A,P){var Q=Tn[A.key],fe=xt[Q];if(fe instanceof eu)K("q"),K(Nl(P)),fe.gState&&b.setGState(fe.gState),K(A.matrix.toString()+" cm"),K("/"+Q+" sh"),K("Q");else if(fe instanceof gc){var _e=new gt(1,0,0,-1,0,Xs());A.matrix&&(_e=_e.multiply(A.matrix||kr),Q=mu.call(fe,A.key,A.boundingBox,A.xStep,A.yStep,_e).id),K("q"),K("/Pattern cs"),K("/"+Q+" scn"),fe.gState&&b.setGState(fe.gState),K(P),K("Q")}},Nl=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cl=b.moveTo=function(A,P){return K(se(ie(A))+" "+se(ae(P))+" m"),this},yu=b.lineTo=function(A,P){return K(se(ie(A))+" "+se(ae(P))+" l"),this},br=b.curveTo=function(A,P,Q,fe,_e,Be){return K([se(ie(A)),se(ae(P)),se(ie(Q)),se(ae(fe)),se(ie(_e)),se(ae(Be)),"c"].join(" ")),this};b.__private__.line=b.line=function(A,P,Q,fe,_e){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||!lr(_e))throw new Error("Invalid arguments passed to jsPDF.line");return U===j?this.lines([[Q-A,fe-P]],A,P,[1,1],_e||"S"):this.lines([[Q-A,fe-P]],A,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(A,P,Q,fe,_e,Be){var Ge,ut,yt,Pt,zt,un,Wn,fi,Pn,Ci,vi,Gi;if(typeof A=="number"&&(Gi=Q,Q=P,P=A,A=Gi),fe=fe||[1,1],Be=Be||!1,isNaN(P)||isNaN(Q)||!Array.isArray(A)||!Array.isArray(fe)||!lr(_e)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl(P,Q),Ge=fe[0],ut=fe[1],Pt=A.length,Ci=P,vi=Q,yt=0;yt<Pt;yt++)(zt=A[yt]).length===2?(Ci=zt[0]*Ge+Ci,vi=zt[1]*ut+vi,yu(Ci,vi)):(un=zt[0]*Ge+Ci,Wn=zt[1]*ut+vi,fi=zt[2]*Ge+Ci,Pn=zt[3]*ut+vi,Ci=zt[4]*Ge+Ci,vi=zt[5]*ut+vi,br(un,Wn,fi,Pn,Ci,vi));return Be&&Tl(),Ya(_e),this},b.path=function(A){for(var P=0;P<A.length;P++){var Q=A[P],fe=Q.c;switch(Q.op){case"m":Cl(fe[0],fe[1]);break;case"l":yu(fe[0],fe[1]);break;case"c":br.apply(this,fe);break;case"h":Tl()}}return this},b.__private__.rect=b.rect=function(A,P,Q,fe,_e){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||!lr(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return U===j&&(fe=-fe),K([se(ie(A)),se(ae(P)),se(ie(Q)),se(ie(fe)),"re"].join(" ")),Ya(_e),this},b.__private__.triangle=b.triangle=function(A,P,Q,fe,_e,Be,Ge){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||isNaN(_e)||isNaN(Be)||!lr(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-A,fe-P],[_e-Q,Be-fe],[A-_e,P-Be]],A,P,[1,1],Ge,!0),this},b.__private__.roundedRect=b.roundedRect=function(A,P,Q,fe,_e,Be,Ge){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||isNaN(_e)||isNaN(Be)||!lr(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*Q),Be=Math.min(Be,.5*fe),this.lines([[Q-2*_e,0],[_e*ut,0,_e,Be-Be*ut,_e,Be],[0,fe-2*Be],[0,Be*ut,-_e*ut,Be,-_e,Be],[2*_e-Q,0],[-_e*ut,0,-_e,-Be*ut,-_e,-Be],[0,2*Be-fe],[0,-Be*ut,_e*ut,-Be,_e,-Be]],A+_e,P,[1,1],Ge,!0),this},b.__private__.ellipse=b.ellipse=function(A,P,Q,fe,_e){if(isNaN(A)||isNaN(P)||isNaN(Q)||isNaN(fe)||!lr(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*Q,Ge=4/3*(Math.SQRT2-1)*fe;return Cl(A+Q,P),br(A+Q,P-Ge,A+Be,P-fe,A,P-fe),br(A-Be,P-fe,A-Q,P-Ge,A-Q,P),br(A-Q,P+Ge,A-Be,P+fe,A,P+fe),br(A+Be,P+fe,A+Q,P+Ge,A+Q,P),Ya(_e),this},b.__private__.circle=b.circle=function(A,P,Q,fe){if(isNaN(A)||isNaN(P)||isNaN(Q)||!lr(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,P,Q,Q,fe)},b.setFont=function(A,P,Q){return Q&&(P=re(P,Q)),pt=hu(A,P,{disableWarning:!1}),this};var us=b.__private__.getFont=b.getFont=function(){return Nt[hu.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var A,P,Q={};for(A in Mt)if(Mt.hasOwnProperty(A))for(P in Q[A]=[],Mt[A])Mt[A].hasOwnProperty(P)&&Q[A].push(P);return Q},b.addFont=function(A,P,Q,fe,_e){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(Q=re(Q,fe)),vl.call(this,A,P,Q,_e=_e||"Identity-H")};var Vs,Wa=n.lineWidth||.200025,Ta=b.__private__.getLineWidth=b.getLineWidth=function(){return Wa},kt=b.__private__.setLineWidth=b.setLineWidth=function(A){return Wa=A,K(se(ie(A))+" w"),this};b.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(A,P){if(A=A||[],P=P||0,isNaN(P)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(Q){return se(ie(Q))}).join(" "),P=se(ie(P)),K("["+A+"] "+P+" d"),this};var vu=b.__private__.getLineHeight=b.getLineHeight=function(){return Ve*Vs};b.__private__.getLineHeight=b.getLineHeight=function(){return Ve*Vs};var Rl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Vs=A),this},bu=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Vs};Rl(n.lineHeight);var Dr=b.__private__.getHorizontalCoordinate=function(A){return ie(A)},zi=b.__private__.getVerticalCoordinate=function(A){return U===O?A:Ze[G].mediaBox.topRightY-Ze[G].mediaBox.bottomLeftY-ie(A)},kl=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(A){return se(Dr(A))},Ka=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(A){return se(zi(A))},Or=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return jn(Or)},b.__private__.setStrokeColor=b.setDrawColor=function(A,P,Q,fe){return Or=Ti({ch1:A,ch2:P,ch3:Q,ch4:fe,pdfColorType:"draw",precision:2}),K(Or),this};var Xa=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return jn(Xa)},b.__private__.setFillColor=b.setFillColor=function(A,P,Q,fe){return Xa=Ti({ch1:A,ch2:P,ch3:Q,ch4:fe,pdfColorType:"fill",precision:2}),K(Xa),this};var Ts=n.textColor||"0 g",_u=b.__private__.getTextColor=b.getTextColor=function(){return jn(Ts)};b.__private__.setTextColor=b.setTextColor=function(A,P,Q,fe){return Ts=Ti({ch1:A,ch2:P,ch3:Q,ch4:fe,pdfColorType:"text",precision:3}),this};var Hr=n.charSpace,Lo=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Hr||0)};b.__private__.setCharSpace=b.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hr=A,this};var Io=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(A){var P=b.CapJoinStyles[A];if(P===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Io=P,K(P+" J"),this};var Ui=0;b.__private__.setLineJoin=b.setLineJoin=function(A){var P=b.CapJoinStyles[A];if(P===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ui=P,K(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(se(ie(A))+" M"),this},b.GState=lh,b.setGState=function(A){(A=typeof A=="string"?de[Je[A]]:Ns(null,A)).equals(Me)||(K("/"+A.id+" gs"),Me=A)};var Ns=function(A,P){if(!A||!Je[A]){var Q=!1;for(var fe in de)if(de.hasOwnProperty(fe)&&de[fe].equals(P)){Q=!0;break}if(Q)P=de[fe];else{var _e="GS"+(Object.keys(de).length+1).toString(10);de[_e]=P,P.id=_e}return A&&(Je[A]=P.id),Ye.publish("addGState",P),P}};b.addGState=function(A,P){return Ns(A,P),this},b.saveGraphicsState=function(){return K("q"),Zt.push({key:pt,size:Ve,color:Ts}),this},b.restoreGraphicsState=function(){K("Q");var A=Zt.pop();return pt=A.key,Ve=A.size,Ts=A.color,Me=null,this},b.setCurrentTransformationMatrix=function(A){return K(A.toString()+" cm"),this},b.comment=function(A){return K("#"+A),this};var zr=function(A,P){var Q=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Be){isNaN(Be)||(Q=parseFloat(Be))}});var fe=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Be){_e=Be.toString()}}),this},$s=function(A,P,Q,fe){zr.call(this,A,P),this.type="rect";var _e=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(Ge){isNaN(Ge)||(_e=parseFloat(Ge))}});var Be=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ge){isNaN(Ge)||(Be=parseFloat(Ge))}}),this},Mo=function(){this.page=at,this.currentPage=G,this.pages=Oe.slice(0),this.pagesContext=Ze.slice(0),this.x=mt,this.y=Jn,this.matrix=Yt,this.width=Ys(G),this.height=Ll(G),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Mo.prototype.restore=function(){at=this.page,G=this.currentPage,Ze=this.pagesContext,Oe=this.pages,mt=this.x,Jn=this.y,Yt=this.matrix,Qa(G,this.width),Ws(G,this.height),Qe=this.outputDestination};var Za=function(A,P,Q,fe,_e){Qi.push(new Mo),at=G=0,Oe=[],mt=A,Jn=P,Yt=_e,as([Q,fe])};for(var Js in b.beginFormObject=function(A,P,Q,fe,_e){return Za(A,P,Q,fe,_e),this},b.endFormObject=function(A){return(function(P){if(Pi[P])Qi.pop().restore();else{var Q=new Mo,fe="Xo"+(Object.keys(Mn).length+1).toString(10);Q.id=fe,Pi[P]=fe,Mn[fe]=Q,Ye.publish("addFormObject",Q),Qi.pop().restore()}})(A),this},b.doFormObject=function(A,P){var Q=Mn[Pi[A]];return K("q"),K(P.toString()+" cm"),K("/"+Q.id+" Do"),K("Q"),this},b.getFormObject=function(A){var P=Mn[Pi[A]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(A,P){return A=A||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Zl(Ea(Es()),A),typeof Zl.unload=="function"&&Ft.setTimeout&&setTimeout(Zl.unload,911),this):new Promise(function(Q,fe){try{var _e=Zl(Ea(Es()),A);typeof Zl.unload=="function"&&Ft.setTimeout&&setTimeout(Zl.unload,911),Q(_e)}catch(Be){fe(Be.message)}})},bt.API)bt.API.hasOwnProperty(Js)&&(Js==="events"&&bt.API.events.length?(function(A,P){var Q,fe,_e;for(_e=P.length-1;_e!==-1;_e--)Q=P[_e][0],fe=P[_e][1],A.subscribe.apply(A,[Q].concat(typeof fe=="function"?[fe]:fe))})(Ye,bt.API.events):b[Js]=bt.API[Js]);function Ys(A){return Ze[A].mediaBox.topRightX-Ze[A].mediaBox.bottomLeftX}function Qa(A,P){Ze[A].mediaBox.topRightX=P+Ze[A].mediaBox.bottomLeftX}function Ll(A){return Ze[A].mediaBox.topRightY-Ze[A].mediaBox.bottomLeftY}function Ws(A,P){Ze[A].mediaBox.topRightY=P+Ze[A].mediaBox.bottomLeftY}var Ks=b.getPageWidth=function(A){return Ys(A=A||G)/Ut},wu=b.setPageWidth=function(A,P){Qa(A,P*Ut)},Xs=b.getPageHeight=function(A){return Ll(A=A||G)/Ut},Su=b.setPageHeight=function(A,P){Ws(A,P*Ut)};return b.internal={pdfEscape:Mr,getStyle:El,getFont:us,getFontSize:it,getCharSpace:Lo,getTextColor:_u,getLineHeight:vu,getLineHeightFactor:bu,getLineWidth:Ta,write:Xe,getHorizontalCoordinate:Dr,getVerticalCoordinate:zi,getCoordinateString:kl,getVerticalCoordinateString:Ka,collections:{},newObject:Nn,newAdditionalObject:Lr,newObjectDeferred:Yn,newObjectDeferredBegin:ui,getFilters:gr,putStream:yr,events:Ye,scaleFactor:Ut,pageSize:{getWidth:function(){return Ks(G)},setWidth:function(A){wu(G,A)},getHeight:function(){return Xs(G)},setHeight:function(A){Su(G,A)}},encryptionOptions:p,encryption:Ni,getEncryptor:function(A){return p!==null?Ni.encryptor(A,0):function(P){return P}},output:xl,getNumberOfPages:wl,get pages(){return Oe},out:K,f2:F,f3:$,getPageInfo:yi,getPageInfoByObjId:ko,getCurrentPageInfo:pu,getPDFVersion:C,Point:zr,Rectangle:$s,Matrix:gt,hasHotfix:or},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ks(G)},set:function(A){wu(G,A)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Xs(G)},set:function(A){Su(G,A)},enumerable:!0,configurable:!0}),(function(A){for(var P=0,Q=At.length;P<Q;P++){var fe=vl.call(this,A[P][0],A[P][1],A[P][2],At[P][3],!0);_===!1&&(S[fe]=!0);var _e=A[P][0].split("-");ci({id:fe,fontName:_e[0],fontStyle:_e[1]||""})}Ye.publish("addFonts",{fonts:Nt,dictionary:Mt})}).call(b,At),pt="F1",zs(s,t),Ye.publish("initialized"),b}dc.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},dc.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dc.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},dc.prototype.processOwnerPassword=function(n,e){return zm(Hm(e).substr(0,5),n)},dc.prototype.encryptor=function(n,e){var t=Hm(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return zm(t,i)}},lh.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||In(n)!==In(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},bt.API={events:[]},bt.version="3.0.4";var Ei=bt.API,x0=1,cu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(n){return n.toFixed(2)},fl=function(n){return n.toFixed(5)};Ei.__acroform__={};var ss=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},cv=function(n){return n*x0},Ga=function(n){var e=new Eb,t=ht.internal.getHeight(n)||0,i=ht.internal.getWidth(n)||0;return e.BBox=[0,0,Number($t(i)),Number($t(t))],e},pT=Ei.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},mT=Ei.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},gT=Ei.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Li=Ei.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gT(n,e-1)},Ii=Ei.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pT(n,e-1)},Mi=Ei.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mT(n,e-1)},yT=Ei.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=n[0],a=n[1],l=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=i(a+c)||0,f.upperRight_X=t(s+l)||0,f.upperRight_Y=i(a)||0,[Number($t(f.lowerLeft_X)),Number($t(f.lowerLeft_Y)),Number($t(f.upperRight_X)),Number($t(f.upperRight_Y))]},vT=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=Gm(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+$t(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ga(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},Gm=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(F){return F.split(`
`)}):s.map(function(F){return[F]});var a=t,l=ht.internal.getHeight(n)||0;l=l<0?-l:l;var c=ht.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(F,$,ie){if(F+1<s.length){var ae=$+" "+s[F+1][0];return Od(ae,n,ie).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var d,p,_=Od("3",n,a).height,S=n.multiline?l-a:(l-_)/2,b=S+=2,N=0,C=0,I=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Od(e,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var k="",j=0,O=0;O<s.length;O++)if(s.hasOwnProperty(O)){var U=!1;if(s[O].length!==1&&I!==s[O].length-1){if((_+2)*(j+2)+2>l)continue e;k+=s[O][I],U=!0,C=O,O--}else{k=(k+=s[O][I]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var ee=parseInt(O),oe=f(ee,k,a),re=O>=s.length-1;if(oe&&!re){k+=" ",I=0;continue}if(oe||re){if(re)C=ee;else if(n.multiline&&(_+2)*(j+2)+2>l)continue e}else{if(!n.multiline||(_+2)*(j+2)+2>l)continue e;C=ee}}for(var se="",H=N;H<=C;H++){var le=s[H];if(n.multiline){if(H===C){se+=le[I]+" ",I=(I+1)%le.length;continue}if(H===N){se+=le[le.length-1]+" ";continue}}se+=le[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,p=Od(se,n,a).width,n.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;default:d=2}e+=$t(d)+" "+$t(b)+` Td
`,e+="("+cu(se)+`) Tj
`,e+=-$t(d)+` 0 Td
`,b=-(a+2),p=0,N=U?C:C+1,j++,k=""}break}return i.text=e,i.fontSize=a,i},Od=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},bT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_T=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},wT=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(wa.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(bT)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");x0=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Tb,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];a.objId=void 0,a.hasAnnotation&&_T(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,s){var a=!i;for(var l in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var c=i[l],f=[],d=c.Rect;if(c.Rect&&(c.Rect=yT(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ht.createDefaultAppearanceStream(c),In(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=vT(c);f.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var _="";for(var S in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(S)){var b=c.appearanceStreamContent[S];if(_+="/"+S+" ",_+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var l in b)if(b.hasOwnProperty(l)){var N=b[l];typeof N=="function"&&(N=N.call(s,c)),_+="/"+l+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=b)=="function"&&(N=N.call(s,c)),_+="/"+l+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);_+=">>"}f.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}a&&(function(C,I){for(var k in C)if(C.hasOwnProperty(k)){var j=k,O=C[k];I.internal.newObjectDeferredBegin(O.objId,!0),In(O)==="object"&&typeof O.putStream=="function"&&O.putStream(),delete C[j]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},Ab=Ei.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(l){return l};if(Array.isArray(n)){for(var s="[",a=0;a<n.length;a++)switch(a!==0&&(s+=" "),In(n[a])){case"boolean":case"number":case"object":s+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+cu(i(n[a].toString()))+")"):s+=n[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pm=function(n,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+cu(i(n))+")"},Va=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Va.prototype.toString=function(){return this.objId+" 0 R"},Va.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Va.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?n.push({key:i,value:Ab(s,this.objId,this.scope)}):s instanceof Va?(s.scope=this.scope,n.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:i,value:s}))}return n};var Eb=function(){Va.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ss(Eb,Va);var Tb=function(){Va.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+cu(t(n))+")"}},set:function(t){n=t}})};ss(Tb,Va);var wa=function n(){Va.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(e,3)},set:function(k){k?this.F=Ii(e,3):this.F=Mi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(k){i=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(k){i[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(k){i[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(k){i[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(k){i[3]=k}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof uh)return;a="FieldObject"+n.FieldNum++}var k=function(j){return j};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+cu(k(a))+")"},set:function(k){a=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(k){a=k}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/x0:d},set:function(k){d=k}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(k){p=k}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof uh||this instanceof su))return pm(_,this.objId,this.scope)},set:function(k){k=k.toString(),_=k}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof ar==0?pm(S,this.objId,this.scope):S},set:function(k){k=k.toString(),S=this instanceof ar==0?k.substr(0,1)==="("?rc(k.substr(1,k.length-2)):rc(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar==1?rc(S.substr(1,S.length-1)):S},set:function(k){k=k.toString(),S=this instanceof ar==1?"/"+k:k}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ar==0?pm(b,this.objId,this.scope):b},set:function(k){k=k.toString(),b=this instanceof ar==0?k.substr(0,1)==="("?rc(k.substr(1,k.length-2)):rc(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar==1?rc(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof ar==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(k){k=!!k,C=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(k){N=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(k){k?this.Ff=Ii(this.Ff,1):this.Ff=Mi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(k){k?this.Ff=Ii(this.Ff,2):this.Ff=Mi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(k){k?this.Ff=Ii(this.Ff,3):this.Ff=Mi(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');I=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(I){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};ss(wa,Va);var vc=function(){wa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ab(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=(function(a,l,c){c||(c=1);for(var f,d=[];f=l.exec(a);)d.push(f[c]);return d})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(t){t?this.Ff=Ii(this.Ff,18):this.Ff=Mi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ii(this.Ff,19):this.Ff=Mi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(t){t?(this.Ff=Ii(this.Ff,20),e.sort()):this.Ff=Mi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(t){t?this.Ff=Ii(this.Ff,22):this.Ff=Mi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(t){t?this.Ff=Ii(this.Ff,23):this.Ff=Mi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(t){t?this.Ff=Ii(this.Ff,27):this.Ff=Mi(this.Ff,27)}}),this.hasAppearanceStream=!1};ss(vc,wa);var bc=function(){vc.call(this),this.fontName="helvetica",this.combo=!1};ss(bc,vc);var _c=function(){bc.call(this),this.combo=!0};ss(_c,bc);var Zd=function(){_c.call(this),this.edit=!0};ss(Zd,_c);var ar=function(){wa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(t){t?this.Ff=Ii(this.Ff,15):this.Ff=Mi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(t){t?this.Ff=Ii(this.Ff,16):this.Ff=Mi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(t){t?this.Ff=Ii(this.Ff,17):this.Ff=Mi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(t){t?this.Ff=Ii(this.Ff,26):this.Ff=Mi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+cu(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){In(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ss(ar,wa);var Qd=function(){ar.call(this),this.pushButton=!0};ss(Qd,ar);var wc=function(){ar.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ss(wc,ar);var uh=function(){var n,e;wa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+cu(s(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(s){In(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ss(uh,wa),wc.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},wc.prototype.createOption=function(n){var e=new uh;return e.Parent=this,e.optionName=n,this.Kids.push(e),ST.call(this.scope,e),e};var eh=function(){ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};ss(eh,ar);var su=function(){wa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(e){e?this.Ff=Ii(this.Ff,13):this.Ff=Mi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(e){e?this.Ff=Ii(this.Ff,21):this.Ff=Mi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Ii(this.Ff,23):this.Ff=Mi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(e){e?this.Ff=Ii(this.Ff,24):this.Ff=Mi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(e){e?this.Ff=Ii(this.Ff,25):this.Ff=Mi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Ii(this.Ff,26):this.Ff=Mi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ss(su,wa);var th=function(){su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(n){n?this.Ff=Ii(this.Ff,14):this.Ff=Mi(this.Ff,14)}}),this.password=!0};ss(th,su);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ga(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=Gm(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+$t(ht.internal.getWidth(n))+" "+$t(ht.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+$t(a.fontSize)+" Tf "+s),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ga(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=[],a=ht.internal.getHeight(n),l=ht.internal.getWidth(n),c=Gm(n,n.caption);return s.push("1 g"),s.push("0 0 "+$t(l)+" "+$t(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+$t(l-1)+" "+$t(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+$t(c.fontSize)+" Tf "+i),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Ga(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(ht.internal.getWidth(n))+" "+$t(ht.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ht.RadioButton.Circle.YesNormal,e.D[n]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ga(n);e.scope=n.scope;var t=[],i=ht.internal.getWidth(n)<=ht.internal.getHeight(n)?ht.internal.getWidth(n)/4:ht.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=ht.internal.Bezier_C,a=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+fl(ht.internal.getWidth(n)/2)+" "+fl(ht.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ga(n);e.scope=n.scope;var t=[],i=ht.internal.getWidth(n)<=ht.internal.getHeight(n)?ht.internal.getWidth(n)/4:ht.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*ht.internal.Bezier_C).toFixed(5)),l=Number((i*ht.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+fl(ht.internal.getWidth(n)/2)+" "+fl(ht.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+fl(ht.internal.getWidth(n)/2)+" "+fl(ht.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),t.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),t.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),t.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ga(n);e.scope=n.scope;var t=[],i=ht.internal.getWidth(n)<=ht.internal.getHeight(n)?ht.internal.getWidth(n)/4:ht.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*ht.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+fl(ht.internal.getWidth(n)/2)+" "+fl(ht.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ht.RadioButton.Cross.YesNormal,e.D[n]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ga(n);e.scope=n.scope;var t=[],i=ht.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+$t(ht.internal.getWidth(n)-2)+" "+$t(ht.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push($t(i.x1.x)+" "+$t(i.x1.y)+" m"),t.push($t(i.x2.x)+" "+$t(i.x2.y)+" l"),t.push($t(i.x4.x)+" "+$t(i.x4.y)+" m"),t.push($t(i.x3.x)+" "+$t(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ga(n);e.scope=n.scope;var t=ht.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+$t(ht.internal.getWidth(n))+" "+$t(ht.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+$t(ht.internal.getWidth(n)-2)+" "+$t(ht.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push($t(t.x1.x)+" "+$t(t.x1.y)+" m"),i.push($t(t.x2.x)+" "+$t(t.x2.y)+" l"),i.push($t(t.x4.x)+" "+$t(t.x4.y)+" m"),i.push($t(t.x3.x)+" "+$t(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ga(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$t(ht.internal.getWidth(n))+" "+$t(ht.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ht.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ht.internal.getWidth(n),t=ht.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},ht.internal.getWidth=function(n){var e=0;return In(n)==="object"&&(e=cv(n.Rect[2])),e},ht.internal.getHeight=function(n){var e=0;return In(n)==="object"&&(e=cv(n.Rect[3])),e};var ST=Ei.addField=function(n){if(wT(this,n),!(n instanceof wa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ei.AcroFormChoiceField=vc,Ei.AcroFormListBox=bc,Ei.AcroFormComboBox=_c,Ei.AcroFormEditBox=Zd,Ei.AcroFormButton=ar,Ei.AcroFormPushButton=Qd,Ei.AcroFormRadioButton=wc,Ei.AcroFormCheckBox=eh,Ei.AcroFormTextField=su,Ei.AcroFormPasswordField=th,Ei.AcroFormAppearance=ht,Ei.AcroForm={ChoiceField:vc,ListBox:bc,ComboBox:_c,EditBox:Zd,Button:ar,PushButton:Qd,RadioButton:wc,CheckBox:eh,TextField:su,PasswordField:th,Appearance:ht},bt.AcroForm={ChoiceField:vc,ListBox:bc,ComboBox:_c,EditBox:Zd,Button:ar,PushButton:Qd,RadioButton:wc,CheckBox:eh,TextField:su,PasswordField:th,Appearance:ht};bt.AcroForm;function Nb(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(F,$){var ie,ae,xe,te,pe,ge=t;if(($=$||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(oe(F))for(pe in i)for(xe=i[pe],ie=0;ie<xe.length;ie+=1){for(te=!0,ae=0;ae<xe[ie].length;ae+=1)if(xe[ie][ae]!==void 0&&xe[ie][ae]!==F[ae]){te=!1;break}if(te===!0){ge=pe;break}}else for(pe in i)for(xe=i[pe],ie=0;ie<xe.length;ie+=1){for(te=!0,ae=0;ae<xe[ie].length;ae+=1)if(xe[ie][ae]!==void 0&&xe[ie][ae]!==F.charCodeAt(ae)){te=!1;break}if(te===!0){ge=pe;break}}return ge===t&&$!==t&&(ge=$),ge},a=function F($){for(var ie=this.internal.write,ae=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:$.width}),te.push({key:"Height",value:$.height}),$.colorSpace===k.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===k.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var pe="",ge=0,Ce=$.transparency.length;ge<Ce;ge++)pe+=$.transparency[ge]+" "+$.transparency[ge]+" ";te.push({key:"Mask",value:"["+pe+"]"})}$.sMask!==void 0&&te.push({key:"SMask",value:$.objectId+1+" 0 R"});var je=$.filter!==void 0?["/"+$.filter]:void 0;if(ae({data:$.data,additionalKeyValues:te,alreadyAppliedFilters:je,objectId:$.objectId}),ie("endobj"),"sMask"in $&&$.sMask!==void 0){var Y,M=(Y=$.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:$.bitsPerComponent,G={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:$.sMask};"filter"in $&&(G.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat($.width),G.filter=$.filter),F.call(this,G)}if($.colorSpace===k.INDEXED){var W=this.internal.newObject();ae({data:se(new Uint8Array($.palette)),objectId:W}),ie("endobj")}},l=function(){var F=this.internal.collections[e+"images"];for(var $ in F)a.call(this,F[$])},c=function(){var F,$=this.internal.collections[e+"images"],ie=this.internal.write;for(var ae in $)ie("/I"+(F=$[ae]).index,F.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var F=this.internal.collections[e+"images"];return f.call(this),F},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(F){return typeof n["process"+F.toUpperCase()]=="function"},S=function(F){return In(F)==="object"&&F.nodeType===1},b=function(F,$){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var ie=""+F.getAttribute("src");if(ie.indexOf("data:image/")===0)return Xd(unescape(ie).split("base64,").pop());var ae=n.loadFile(ie,!0);if(ae!==void 0)return ae}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var xe;switch($){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return Xd(F.toDataURL(xe,1).split("base64,").pop())}},N=function(F){var $=this.internal.collections[e+"images"];if($){for(var ie in $)if(F===$[ie].alias)return $[ie]}},C=function(F,$,ie){return F||$||(F=-96,$=-96),F<0&&(F=-1*ie.width*72/F/this.internal.scaleFactor),$<0&&($=-1*ie.height*72/$/this.internal.scaleFactor),F===0&&(F=$*ie.width/ie.height),$===0&&($=F*ie.height/ie.width),[F,$]},I=function(F,$,ie,ae,xe,te){var pe=C.call(this,ie,ae,xe),ge=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,je=d.call(this);if(ie=pe[0],ae=pe[1],je[xe.index]=xe,te){te*=Math.PI/180;var Y=Math.cos(te),M=Math.sin(te),G=function(ne){return ne.toFixed(4)},W=[G(Y),G(M),G(-1*M),G(Y),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ge(F),Ce($+ae),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([ge(ie),"0","0",ge(ae),"0","0","cm"].join(" "))):this.internal.write([ge(ie),"0","0",ge(ae),ge(F),Ce($+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=n.__addimage__.sHashCode=function(F){var $,ie,ae=0;if(typeof F=="string")for(ie=F.length,$=0;$<ie;$++)ae=(ae<<5)-ae+F.charCodeAt($),ae|=0;else if(oe(F))for(ie=F.byteLength/2,$=0;$<ie;$++)ae=(ae<<5)-ae+F[$],ae|=0;return ae},U=n.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var $=!0;return F.length===0&&($=!1),F.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&($=!1),$},ee=n.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var $=F.indexOf(",");return $<0?null:F.substring(0,$).trim().endsWith("base64")?F.substring($+1):null};n.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var oe=n.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},re=n.__addimage__.binaryStringToUint8Array=function(F){for(var $=F.length,ie=new Uint8Array($),ae=0;ae<$;ae++)ie[ae]=F.charCodeAt(ae);return ie},se=n.__addimage__.arrayBufferToBinaryString=function(F){for(var $="",ie=oe(F)?F:new Uint8Array(F),ae=0;ae<ie.length;ae+=8192)$+=String.fromCharCode.apply(null,ie.subarray(ae,ae+8192));return $};n.addImage=function(){var F,$,ie,ae,xe,te,pe,ge,Ce;if(typeof arguments[1]=="number"?($=t,ie=arguments[1],ae=arguments[2],xe=arguments[3],te=arguments[4],pe=arguments[5],ge=arguments[6],Ce=arguments[7]):($=arguments[1],ie=arguments[2],ae=arguments[3],xe=arguments[4],te=arguments[5],pe=arguments[6],ge=arguments[7],Ce=arguments[8]),In(F=arguments[0])==="object"&&!S(F)&&"imageData"in F){var je=F;F=je.imageData,$=je.format||$||t,ie=je.x||ie||0,ae=je.y||ae||0,xe=je.w||je.width||xe,te=je.h||je.height||te,pe=je.alias||pe,ge=je.compression||ge,Ce=je.rotation||je.angle||Ce}var Y=this.internal.getFilters();if(ge===void 0&&Y.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(ie)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var M=H.call(this,F,$,pe,ge);return I.call(this,ie,ae,xe,te,M,Ce),this};var H=function(F,$,ie,ae){var xe,te,pe;if(typeof F=="string"&&s(F)===t){F=unescape(F);var ge=le(F,!1);(ge!==""||(ge=n.loadFile(F,!0))!==void 0)&&(F=ge)}if(S(F)&&(F=b(F,$)),$=s(F,$),!_($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((pe=ie)==null||pe.length===0)&&(ie=(function(Ce){return typeof Ce=="string"||oe(Ce)?O(Ce):oe(Ce.data)?O(Ce.data):null})(F)),(xe=N.call(this,ie))||(F instanceof Uint8Array||$==="RGBA"||(te=F,F=re(F)),xe=this["process"+$.toUpperCase()](F,p.call(this),ie,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:j.NONE})(ae),te)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},le=n.__addimage__.convertBase64ToBinaryString=function(F,$){$=typeof $!="boolean"||$;var ie,ae="";if(typeof F=="string"){var xe;ie=(xe=ee(F))!==null&&xe!==void 0?xe:F;try{ae=Xd(ie)}catch(te){if($)throw U(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};n.getImageProperties=function(F){var $,ie,ae="";if(S(F)&&(F=b(F)),typeof F=="string"&&s(F)===t&&((ae=le(F,!1))===""&&(ae=n.loadFile(F)||""),F=ae),ie=s(F),!_(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(F instanceof Uint8Array||(F=re(F)),!($=this["process"+ie.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=ie,$}})(bt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,s,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,_=0;_<d.length&&!p;_++)switch((i=d[_]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var S=0;S<d.length;S++){i=d[S];var b=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(C.objId),j=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(k(i.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+f.objId+" 0 R",a+=" /T ("+b(k(j))+") >>",C.content=a;var O=C.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+O,i.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(C.objId,"0 R",I.objId,"0 R");break;case"freetext":s="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var U=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(N(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var ee=this.annotations._nameMap[i.options.name];i.options.pageNumber=ee.page,i.options.top=ee.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(N(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var oe=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+oe+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,s,a,l){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+s),h:d(i+a)},options:l,type:"link"})},n.textWithLink=function(t,i,s,a){var l,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(t,c).length;l=Math.ceil(d*p)}else c=f,l=d;return this.text(t,i,s,a),s+=.2*d,a.align==="center"&&(i-=f/2),a.align==="right"&&(i-=f),this.link(i,s-d,c,l,a),f},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(bt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},c=n.__arabicParser__.isArabicEndLetter=function(C){return l(C)&&a(C)&&e[C.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(C){return l(C)&&s.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return l(C)&&a(C)&&e[C.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return l(C)&&a(C)&&e[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return l(C)&&a(C)&&e[C.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return l(C)&&a(C)&&e[C.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(C){var I=0,k=t,j="",O=0;for(I=0;I<C.length;I+=1)k[C.charCodeAt(I)]!==void 0?(O++,typeof(k=k[C.charCodeAt(I)])=="number"&&(j+=String.fromCharCode(k),k=t,O=0),I===C.length-1&&(k=t,j+=C.charAt(I-(O-1)),I-=O-1,O=0)):(k=t,j+=C.charAt(I-O),I-=O,O=0);return j};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&i[C.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(C,I,k){return l(C)?a(C)===!1?-1:!d(C)||!l(I)&&!l(k)||!l(k)&&c(I)||c(C)&&!l(I)||c(C)&&f(I)||c(C)&&c(I)?0:p(C)&&l(I)&&!c(I)&&l(k)&&d(k)?3:c(C)||!l(k)?1:2:-1},b=function(C){var I=0,k=0,j=0,O="",U="",ee="",oe=(C=C||"").split("\\s+"),re=[];for(I=0;I<oe.length;I+=1){for(re.push(""),k=0;k<oe[I].length;k+=1)O=oe[I][k],U=oe[I][k-1],ee=oe[I][k+1],l(O)?(j=S(O,U,ee),re[I]+=j!==-1?String.fromCharCode(e[O.charCodeAt(0)][j]):O):re[I]+=O;re[I]=_(re[I])}return re.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var C,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(I)){var j=0;for(k=[],j=0;j<I.length;j+=1)Array.isArray(I[j])?k.push([b(I[j][0]),I[j][1],I[j][2]]):k.push([b(I[j])]);C=k}else C=b(I);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",N])})(bt.API),bt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(bt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(C){_=C}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(C){S=C}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(C){N=C}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){i.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),_=d.font||this.getFont(),S=d.scaleFactor||this.internal.scaleFactor,b=0,N=0,C=0,I=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=d.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(O,U){return O.concat(I.splitTextToSize(U,k))},[])):f=Array.isArray(f)?f:[f];for(var j=0;j<f.length;j++)b<(C=this.getStringUnitWidth(f[j],{font:_})*p)&&(b=C);return b!==0&&(N=f.length),{w:b/=S,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var f;f=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=_.top,b&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,p,_,S){if(i.call(this),!p)throw new Error("No data for PDF table.");var b,N,C,I,k=[],j=[],O=[],U={},ee={},oe=[],re=[],se=(S=S||{}).autoSize||!1,H=S.printHeaders!==!1,le=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,F=S.margins||Object.assign({width:this.getPageWidth()},e),$=typeof S.padding=="number"?S.padding:3,ie=S.headerBackgroundColor||"#c8c8c8",ae=S.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=ae,this.setFontSize(le),_==null)j=k=Object.keys(p[0]),O=k.map(function(){return"left"});else if(Array.isArray(_)&&In(_[0])==="object")for(k=_.map(function(je){return je.name}),j=_.map(function(je){return je.prompt||je.name||""}),O=_.map(function(je){return je.align||"left"}),b=0;b<_.length;b+=1)ee[_[b].name]=.7499990551181103*_[b].width;else Array.isArray(_)&&typeof _[0]=="string"&&(j=k=_,O=k.map(function(){return"left"}));if(se||Array.isArray(_)&&typeof _[0]=="string")for(b=0;b<k.length;b+=1){for(U[I=k[b]]=p.map(function(je){return je[I]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(j[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=U[I],this.setFont(void 0,"normal"),C=0;C<N.length;C+=1)oe.push(this.getTextDimensions(N[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[I]=Math.max.apply(null,oe)+$+$,oe=[]}if(H){var xe={};for(b=0;b<k.length;b+=1)xe[k[b]]={},xe[k[b]].text=j[b],xe[k[b]].align=O[b];var te=c.call(this,xe,ee);re=k.map(function(je){return new a(f,d,ee[je],te,xe[je].text,void 0,xe[je].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var pe=_.reduce(function(je,Y){return je[Y.name]=Y.align,je},{});for(b=0;b<p.length;b+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:b,data:p[b]},this);var ge=c.call(this,p[b],ee);for(C=0;C<k.length;C+=1){var Ce=p[b][k[C]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:b,col:C,data:Ce},this),l.call(this,new a(f,d,ee[k[C]],ge,Ce,b+2,pe[k[C]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(b){var N=f[b];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*_/S+p+p},this).reduce(function(b,N){return Math.max(b,N)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,S.push(p)),p.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(N)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}})(bt.API);var Cb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vm=Nb(Rb),kb=[100,200,300,400,500,600,700,800,900],xT=Nb(kb);function mm(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return Cb[a=a||"normal"]?a:"normal"})(n.style),i=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),s=(function(a){return typeof Vm[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:i,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,i].join(" ")}}}function fv(n,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(n[e[s]])return n[e[s]]}var AT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hv(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function pv(n){return n.trimLeft()}function ET(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function TT(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ud,mv,gv,sc,Bd,yv,vv,bv,gm=["times"];function _v(n,e,t,i,s){var a=4,l=Sv;switch(s){case bt.API.image_compression.FAST:a=1,l=wv;break;case bt.API.image_compression.MEDIUM:a=6,l=xv;break;case bt.API.image_compression.SLOW:a=9,l=Av}n=(function(f,d,p,_){for(var S,b=f.length/d,N=new Uint8Array(f.length+b),C=[NT,wv,Sv,xv,Av],I=0;I<b;I+=1){var k=I*d,j=f.subarray(k,k+d);if(_)N.set(_(j,p,S),k+I);else{for(var O=C.length,U=[],ee=0;ee<O;ee+=1)U[ee]=C[ee](j,p,S);var oe=RT(U.concat());N.set(U[oe],k+I)}S=j}return N})(n,e,Math.ceil(t*i/8),l);var c=Bm(n,{level:a});return bt.API.__addimage__.arrayBufferToBinaryString(c)}function NT(n){var e=Array.apply([],n);return e.unshift(0),e}function wv(n,e){var t=n.length,i=[];i[0]=1;for(var s=0;s<t;s+=1){var a=n[s-e]||0;i[s+1]=n[s]-a+256&255}return i}function Sv(n,e,t){var i=n.length,s=[];s[0]=2;for(var a=0;a<i;a+=1){var l=t&&t[a]||0;s[a+1]=n[a]-l+256&255}return s}function xv(n,e,t){var i=n.length,s=[];s[0]=3;for(var a=0;a<i;a+=1){var l=n[a-e]||0,c=t&&t[a]||0;s[a+1]=n[a]+256-(l+c>>>1)&255}return s}function Av(n,e,t){var i=n.length,s=[];s[0]=4;for(var a=0;a<i;a+=1){var l=CT(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);s[a+1]=n[a]-l+256&255}return s}function CT(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),s=Math.abs(n-t),a=Math.abs(n+e-t-t);return i<=s&&i<=a?n:s<=a?e:t}function RT(n){var e=n.map(function(t){return t.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function ym(n,e,t){var i=e*t,s=Math.floor(i/8),a=16-(i-8*s+t),l=(1<<t)-1;return Lb(n,s)>>a&l}function Ev(n,e,t,i){var s=t*i,a=Math.floor(s/8),l=16-(s-8*a+i),c=(1<<i)-1,f=(e&c)<<l;(function(d,p,_){if(p+1<d.byteLength)d.setUint16(p,_,!1);else{var S=_>>8&255;d.setUint8(p,S)}})(n,a,Lb(n,a)&~(c<<l)&65535|f)}function Lb(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function kT(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,s=n[e++],a=s>>7,l=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;a&&(c=e,f=l,e+=3*l);var d=!0,p=[],_=0,S=null,b=0,N=null;for(this.width=t,this.height=i;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,N=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[e++];_=n[e++]|n[e++]<<8,S=n[e++],1&C||(S=null),b=C>>2&7,e++;break;case 254:for(;;){if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var I=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,O=n[e++]|n[e++]<<8,U=n[e++],ee=U>>6&1,oe=1<<1+(7&U),re=c,se=f,H=!1;U>>7&&(H=!0,re=e,se=oe,e+=3*oe);var le=e;for(e++;;){var F;if(!((F=n[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}p.push({x:I,y:k,width:j,height:O,has_local_palette:H,palette_offset:re,palette_size:se,data_offset:le,data_length:e-le,transparent_index:S,interlaced:!!ee,delay:_,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function($){if($<0||$>=p.length)throw new Error("Frame index out of range.");return p[$]},this.decodeAndBlitFrameBGRA=function($,ie){var ae=this.frameInfo($),xe=ae.width*ae.height,te=new Uint8Array(xe);Tv(n,ae.data_offset,te,xe);var pe=ae.palette_offset,ge=ae.transparent_index;ge===null&&(ge=256);var Ce=ae.width,je=t-Ce,Y=Ce,M=4*(ae.y*t+ae.x),G=4*((ae.y+ae.height)*t+ae.x),W=M,ne=4*je;ae.interlaced===!0&&(ne+=4*t*7);for(var ce=8,ve=0,ke=te.length;ve<ke;++ve){var Re=te[ve];if(Y===0&&(Y=Ce,(W+=ne)>=G&&(ne=4*je+4*t*(ce-1),W=M+(Ce+je)*(ce<<1),ce>>=1)),Re===ge)W+=4;else{var he=n[pe+3*Re],Oe=n[pe+3*Re+1],et=n[pe+3*Re+2];ie[W++]=et,ie[W++]=Oe,ie[W++]=he,ie[W++]=255}--Y}},this.decodeAndBlitFrameRGBA=function($,ie){var ae=this.frameInfo($),xe=ae.width*ae.height,te=new Uint8Array(xe);Tv(n,ae.data_offset,te,xe);var pe=ae.palette_offset,ge=ae.transparent_index;ge===null&&(ge=256);var Ce=ae.width,je=t-Ce,Y=Ce,M=4*(ae.y*t+ae.x),G=4*((ae.y+ae.height)*t+ae.x),W=M,ne=4*je;ae.interlaced===!0&&(ne+=4*t*7);for(var ce=8,ve=0,ke=te.length;ve<ke;++ve){var Re=te[ve];if(Y===0&&(Y=Ce,(W+=ne)>=G&&(ne=4*je+4*t*(ce-1),W=M+(Ce+je)*(ce<<1),ce>>=1)),Re===ge)W+=4;else{var he=n[pe+3*Re],Oe=n[pe+3*Re+1],et=n[pe+3*Re+2];ie[W++]=he,ie[W++]=Oe,ie[W++]=et,ie[W++]=255}--Y}}}function Tv(n,e,t,i){for(var s=n[e++],a=1<<s,l=a+1,c=l+1,f=s+1,d=(1<<f)-1,p=0,_=0,S=0,b=n[e++],N=new Int32Array(4096),C=null;;){for(;p<16&&b!==0;)_|=n[e++]<<p,p+=8,b===1?b=n[e++]:--b;if(p<f)break;var I=_&d;if(_>>=f,p-=f,I!==a){if(I===l)break;for(var k=I<c?I:C,j=0,O=k;O>a;)O=N[O]>>8,++j;var U=O;if(S+j+(k!==I?1:0)>i)return void Vn.log("Warning, gif stream longer than expected.");t[S++]=U;var ee=S+=j;for(k!==I&&(t[S++]=U),O=k;j--;)O=N[O],t[--ee]=255&O,O>>=8;C!==null&&c<4096&&(N[c++]=C<<8|U,c>=d+1&&f<12&&(++f,d=d<<1|1)),C=I}else c=l+1,d=(1<<(f=s+1))-1,C=null}return S!==i&&Vn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vm(n){var e,t,i,s,a,l=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),_=new Array(65535),S=new Array(65535),b=new Array(64),N=new Array(64),C=[],I=0,k=7,j=new Array(64),O=new Array(64),U=new Array(64),ee=new Array(256),oe=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(M,G){for(var W=0,ne=0,ce=new Array,ve=1;ve<=16;ve++){for(var ke=1;ke<=M[ve];ke++)ce[G[ne]]=[],ce[G[ne]][0]=W,ce[G[ne]][1]=ve,ne++,W++;W*=2}return ce}function pe(M){for(var G=M[0],W=M[1]-1;W>=0;)G&1<<W&&(I|=1<<k),W--,--k<0&&(I==255?(ge(255),ge(0)):ge(I),k=7,I=0)}function ge(M){C.push(M)}function Ce(M){ge(M>>8&255),ge(255&M)}function je(M,G,W,ne,ce){for(var ve,ke=ce[0],Re=ce[240],he=(function(Ve,St){var it,Et,_t,jt,Kt,Ot,Xt,Ht,pt,Ut,mt=0;for(pt=0;pt<8;++pt){it=Ve[mt],Et=Ve[mt+1],_t=Ve[mt+2],jt=Ve[mt+3],Kt=Ve[mt+4],Ot=Ve[mt+5],Xt=Ve[mt+6];var Jn=it+(Ht=Ve[mt+7]),Yt=it-Ht,Nt=Et+Xt,Mt=Et-Xt,Zt=_t+Ot,xt=_t-Ot,Tn=jt+Kt,de=jt-Kt,Je=Jn+Tn,Me=Jn-Tn,at=Nt+Zt,Ze=Nt-Zt;Ve[mt]=Je+at,Ve[mt+4]=Je-at;var Ye=.707106781*(Ze+Me);Ve[mt+2]=Me+Ye,Ve[mt+6]=Me-Ye;var tt=.382683433*((Je=de+xt)-(Ze=Mt+Yt)),Mn=.5411961*Je+tt,Pi=1.306562965*Ze+tt,Qi=.707106781*(at=xt+Mt),gt=Yt+Qi,jr=Yt-Qi;Ve[mt+5]=jr+Mn,Ve[mt+3]=jr-Mn,Ve[mt+1]=gt+Pi,Ve[mt+7]=gt-Pi,mt+=8}for(mt=0,pt=0;pt<8;++pt){it=Ve[mt],Et=Ve[mt+8],_t=Ve[mt+16],jt=Ve[mt+24],Kt=Ve[mt+32],Ot=Ve[mt+40],Xt=Ve[mt+48];var kr=it+(Ht=Ve[mt+56]),Di=it-Ht,li=Et+Xt,Nn=Et-Xt,Yn=_t+Ot,ui=_t-Ot,Lr=jt+Kt,Oi=jt-Kt,Sn=kr+Lr,jn=kr-Lr,Ti=li+Yn,gr=li-Yn;Ve[mt]=Sn+Ti,Ve[mt+32]=Sn-Ti;var yr=.707106781*(gr+jn);Ve[mt+16]=jn+yr,Ve[mt+48]=jn-yr;var Aa=.382683433*((Sn=Oi+ui)-(gr=Nn+Di)),Ir=.5411961*Sn+Aa,vr=1.306562965*gr+Aa,an=.707106781*(Ti=ui+Nn),ni=Di+an,vn=Di-an;Ve[mt+40]=vn+Ir,Ve[mt+24]=vn-Ir,Ve[mt+8]=ni+vr,Ve[mt+56]=ni-vr,mt++}for(pt=0;pt<64;++pt)Ut=Ve[pt]*St[pt],b[pt]=Ut>0?Ut+.5|0:Ut-.5|0;return b})(M,G),Oe=0;Oe<64;++Oe)N[re[Oe]]=he[Oe];var et=N[0]-W;W=N[0],et==0?pe(ne[0]):(pe(ne[S[ve=32767+et]]),pe(_[ve]));for(var Qe=63;Qe>0&&N[Qe]==0;)Qe--;if(Qe==0)return pe(ke),W;for(var ot,K=1;K<=Qe;){for(var Xe=K;N[K]==0&&K<=Qe;)++K;var qt=K-Xe;if(qt>=16){ot=qt>>4;for(var At=1;At<=ot;++At)pe(Re);qt&=15}ve=32767+N[K],pe(ce[(qt<<4)+S[ve]]),pe(_[ve]),K++}return Qe!=63&&pe(ke),W}function Y(M){M=Math.min(Math.max(M,1),100),a!=M&&((function(G){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ce=l((W[ne]*G+50)/100);ce=Math.min(Math.max(ce,1),255),c[re[ne]]=ce}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var Re=l((ve[ke]*G+50)/100);Re=Math.min(Math.max(Re,1),255),f[re[ke]]=Re}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,et=0;et<8;et++)for(var Qe=0;Qe<8;Qe++)d[Oe]=1/(c[re[Oe]]*he[et]*he[Qe]*8),p[Oe]=1/(f[re[Oe]]*he[et]*he[Qe]*8),Oe++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),a=M)}this.encode=function(M,G){G&&Y(G),C=new Array,I=0,k=7,Ce(65496),Ce(65504),Ce(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),Ce(1),Ce(1),ge(0),ge(0),(function(){Ce(65499),Ce(132),ge(0);for(var Et=0;Et<64;Et++)ge(c[Et]);ge(1);for(var _t=0;_t<64;_t++)ge(f[_t])})(),(function(Et,_t){Ce(65472),Ce(17),ge(8),Ce(_t),Ce(Et),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)})(M.width,M.height),(function(){Ce(65476),Ce(418),ge(0);for(var Et=0;Et<16;Et++)ge(se[Et+1]);for(var _t=0;_t<=11;_t++)ge(H[_t]);ge(16);for(var jt=0;jt<16;jt++)ge(le[jt+1]);for(var Kt=0;Kt<=161;Kt++)ge(F[Kt]);ge(1);for(var Ot=0;Ot<16;Ot++)ge($[Ot+1]);for(var Xt=0;Xt<=11;Xt++)ge(ie[Xt]);ge(17);for(var Ht=0;Ht<16;Ht++)ge(ae[Ht+1]);for(var pt=0;pt<=161;pt++)ge(xe[pt])})(),Ce(65498),Ce(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var W=0,ne=0,ce=0;I=0,k=7,this.encode.displayName="_encode_";for(var ve,ke,Re,he,Oe,et,Qe,ot,K,Xe=M.data,qt=M.width,At=M.height,Ve=4*qt,St=0;St<At;){for(ve=0;ve<Ve;){for(Oe=Ve*St+ve,Qe=-1,ot=0,K=0;K<64;K++)et=Oe+(ot=K>>3)*Ve+(Qe=4*(7&K)),St+ot>=At&&(et-=Ve*(St+1+ot-At)),ve+Qe>=Ve&&(et-=ve+Qe-Ve+4),ke=Xe[et++],Re=Xe[et++],he=Xe[et++],j[K]=(oe[ke]+oe[Re+256|0]+oe[he+512|0]>>16)-128,O[K]=(oe[ke+768|0]+oe[Re+1024|0]+oe[he+1280|0]>>16)-128,U[K]=(oe[ke+1280|0]+oe[Re+1536|0]+oe[he+1792|0]>>16)-128;W=je(j,d,W,e,i),ne=je(O,p,ne,t,s),ce=je(U,p,ce,t,s),ve+=32}St+=8}if(k>=0){var it=[];it[1]=k+1,it[0]=(1<<k+1)-1,pe(it)}return Ce(65497),new Uint8Array(C)},n=n||50,(function(){for(var M=String.fromCharCode,G=0;G<256;G++)ee[G]=M(G)})(),e=te(se,H),t=te($,ie),i=te(le,F),s=te(ae,xe),(function(){for(var M=1,G=2,W=1;W<=15;W++){for(var ne=M;ne<G;ne++)S[32767+ne]=W,_[32767+ne]=[],_[32767+ne][1]=W,_[32767+ne][0]=ne;for(var ce=-(G-1);ce<=-M;ce++)S[32767+ce]=W,_[32767+ce]=[],_[32767+ce][1]=W,_[32767+ce][0]=G-1+ce;M<<=1,G<<=1}})(),(function(){for(var M=0;M<256;M++)oe[M]=19595*M,oe[M+256|0]=38470*M,oe[M+512|0]=7471*M+32768,oe[M+768|0]=-11059*M,oe[M+1024|0]=-21709*M,oe[M+1280|0]=32768*M+8421375,oe[M+1536|0]=-27439*M,oe[M+1792|0]=-5329*M})(),Y(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ga(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Nv(n){function e(H){if(!H)throw Error("assert :P")}function t(H,le,F){for(var $=0;4>$;$++)if(H[le+$]!=F.charCodeAt($))return!0;return!1}function i(H,le,F,$,ie){for(var ae=0;ae<ie;ae++)H[le+ae]=F[$+ae]}function s(H,le,F,$){for(var ie=0;ie<$;ie++)H[le+ie]=F}function a(H){return new Int32Array(H)}function l(H,le){for(var F=[],$=0;$<H;$++)F.push(new le);return F}function c(H,le){var F=[];return(function $(ie,ae,xe){for(var te=xe[ae],pe=0;pe<te&&(ie.push(xe.length>ae+1?[]:new le),!(xe.length<ae+1));pe++)$(ie[pe],ae+1,xe)})(F,0,H),F}var f=function(){var H=this;function le(g,w){for(var E=1<<w-1>>>0;g&E;)E>>>=1;return E?(g&E-1)+E:g}function F(g,w,E,R,D){e(!(R%E));do g[w+(R-=E)]=D;while(0<R)}function $(g,w,E,R,D){if(e(2328>=D),512>=D)var B=a(512);else if((B=a(D))==null)return 0;return(function(q,V,J,Z,me,Ee){var X,be,Se=V,De=1<<J,Ae=a(16),Pe=a(16);for(e(me!=0),e(Z!=null),e(q!=null),e(0<J),be=0;be<me;++be){if(15<Z[be])return 0;++Ae[Z[be]]}if(Ae[0]==me)return 0;for(Pe[1]=0,X=1;15>X;++X){if(Ae[X]>1<<X)return 0;Pe[X+1]=Pe[X]+Ae[X]}for(be=0;be<me;++be)X=Z[be],0<Z[be]&&(Ee[Pe[X]++]=be);if(Pe[15]==1)return(Z=new ie).g=0,Z.value=Ee[0],F(q,Se,1,De,Z),De;var Fe,$e=-1,ze=De-1,dt=0,rt=1,Bt=1,lt=1<<J;for(be=0,X=1,me=2;X<=J;++X,me<<=1){if(rt+=Bt<<=1,0>(Bt-=Ae[X]))return 0;for(;0<Ae[X];--Ae[X])(Z=new ie).g=X,Z.value=Ee[be++],F(q,Se+dt,me,lt,Z),dt=le(dt,X)}for(X=J+1,me=2;15>=X;++X,me<<=1){if(rt+=Bt<<=1,0>(Bt-=Ae[X]))return 0;for(;0<Ae[X];--Ae[X]){if(Z=new ie,(dt&ze)!=$e){for(Se+=lt,Fe=1<<($e=X)-J;15>$e&&!(0>=(Fe-=Ae[$e]));)++$e,Fe<<=1;De+=lt=1<<(Fe=$e-J),q[V+($e=dt&ze)].g=Fe+J,q[V+$e].value=Se-V-$e}Z.g=X-J,Z.value=Ee[be++],F(q,Se+(dt>>J),me,lt,Z),dt=le(dt,X)}}return rt!=2*Pe[15]-1?0:De})(g,w,E,R,D,B)}function ie(){this.value=this.g=0}function ae(){this.value=this.g=0}function xe(){this.G=l(5,ie),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ra,ae)}function te(g,w,E,R){e(g!=null),e(w!=null),e(2147483648>R),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=E,g.Jd=w,g.Yc=E+R,g.Zc=4<=R?E+R-4+1:E,ke(g)}function pe(g,w){for(var E=0;0<w--;)E|=he(g,128)<<w;return E}function ge(g,w){var E=pe(g,w);return Re(g)?-E:E}function Ce(g,w,E,R){var D,B=0;for(e(g!=null),e(w!=null),e(4294967288>R),g.Sb=R,g.Ra=0,g.u=0,g.h=0,4<R&&(R=4),D=0;D<R;++D)B+=w[E+D]<<8*D;g.Ra=B,g.bb=R,g.oa=w,g.pa=E}function je(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ks-8>>>0,++g.bb,g.u-=8;ne(g)&&(g.h=1,g.u=0)}function Y(g,w){if(e(0<=w),!g.h&&w<=cr){var E=W(g)&_r[w];return g.u+=w,je(g),E}return g.h=1,g.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(g){return g.Ra>>>(g.u&ks-1)>>>0}function ne(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ks}function ce(g,w){g.u=w,g.h=ne(g)}function ve(g){g.u>=Ls&&(e(g.u>=Ls),je(g))}function ke(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Re(g){return pe(g,1)}function he(g,w){var E=g.Ca;0>g.b&&ke(g);var R=g.b,D=E*w>>>8,B=(g.I>>>R>D)+0;for(B?(E-=D,g.I-=D+1<<R>>>0):E=D+1,R=E,D=0;256<=R;)D+=8,R>>=8;return R=7^D+ia[R],g.b-=R,g.Ca=(E<<R)-1,B}function Oe(g,w,E){g[w+0]=E>>24&255,g[w+1]=E>>16&255,g[w+2]=E>>8&255,g[w+3]=255&E}function et(g,w){return g[w+0]|g[w+1]<<8}function Qe(g,w){return et(g,w)|g[w+2]<<16}function ot(g,w){return et(g,w)|et(g,w+2)<<16}function K(g,w){var E=1<<w;return e(g!=null),e(0<w),g.X=a(E),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Xe(g,w){e(g!=null),e(w!=null),e(g.Xa==w.Xa),i(w.X,0,g.X,0,1<<w.Xa)}function qt(){this.X=[],this.Xa=this.Mb=0}function At(g,w,E,R){e(E!=null),e(R!=null);var D=E[0],B=R[0];return D==0&&(D=(g*B+w/2)/w),B==0&&(B=(w*D+g/2)/g),0>=D||0>=B?0:(E[0]=D,R[0]=B,1)}function Ve(g,w){return g+(1<<w)-1>>>w}function St(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function it(g,w){H[w]=function(E,R,D,B,q,V,J){var Z;for(Z=0;Z<q;++Z){var me=H[g](V[J+Z-1],D,B+Z);V[J+Z]=St(E[R+Z],me)}}}function Et(){this.ud=this.hd=this.jd=0}function _t(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function jt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Kt(g,w){return jt(g+(g-w+.5>>1))}function Ot(g,w,E){return Math.abs(w-E)-Math.abs(g-E)}function Xt(g,w,E,R,D,B,q){for(R=B[q-1],E=0;E<D;++E)B[q+E]=R=St(g[w+E],R)}function Ht(g,w,E,R,D){var B;for(B=0;B<E;++B){var q=g[w+B],V=q>>8&255,J=16711935&(J=(J=16711935&q)+((V<<16)+V));R[D+B]=(4278255360&q)+J>>>0}}function pt(g,w){w.jd=255&g,w.hd=g>>8&255,w.ud=g>>16&255}function Ut(g,w,E,R,D,B){var q;for(q=0;q<R;++q){var V=w[E+q],J=V>>>8,Z=V,me=255&(me=(me=V>>>16)+((g.jd<<24>>24)*(J<<24>>24)>>>5));Z=255&(Z=(Z+=(g.hd<<24>>24)*(J<<24>>24)>>>5)+((g.ud<<24>>24)*(me<<24>>24)>>>5)),D[B+q]=(4278255360&V)+(me<<16)+Z}}function mt(g,w,E,R,D){H[w]=function(B,q,V,J,Z,me,Ee,X,be){for(J=Ee;J<X;++J)for(Ee=0;Ee<be;++Ee)Z[me++]=D(V[R(B[q++])])},H[g]=function(B,q,V,J,Z,me,Ee){var X=8>>B.b,be=B.Ea,Se=B.K[0],De=B.w;if(8>X)for(B=(1<<B.b)-1,De=(1<<X)-1;q<V;++q){var Ae,Pe=0;for(Ae=0;Ae<be;++Ae)Ae&B||(Pe=R(J[Z++])),me[Ee++]=D(Se[Pe&De]),Pe>>=X}else H["VP8LMapColor"+E](J,Z,Se,De,me,Ee,q,V,be)}}function Jn(g,w,E,R,D){for(E=w+E;w<E;){var B=g[w++];R[D++]=B>>16&255,R[D++]=B>>8&255,R[D++]=255&B}}function Yt(g,w,E,R,D){for(E=w+E;w<E;){var B=g[w++];R[D++]=B>>16&255,R[D++]=B>>8&255,R[D++]=255&B,R[D++]=B>>24&255}}function Nt(g,w,E,R,D){for(E=w+E;w<E;){var B=(q=g[w++])>>16&240|q>>12&15,q=240&q|q>>28&15;R[D++]=B,R[D++]=q}}function Mt(g,w,E,R,D){for(E=w+E;w<E;){var B=(q=g[w++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;R[D++]=B,R[D++]=q}}function Zt(g,w,E,R,D){for(E=w+E;w<E;){var B=g[w++];R[D++]=255&B,R[D++]=B>>8&255,R[D++]=B>>16&255}}function xt(g,w,E,R,D,B){if(B==0)for(E=w+E;w<E;)Oe(R,((B=g[w++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),D+=32;else i(R,D,g,w,E)}function Tn(g,w){H[w][0]=H[g+"0"],H[w][1]=H[g+"1"],H[w][2]=H[g+"2"],H[w][3]=H[g+"3"],H[w][4]=H[g+"4"],H[w][5]=H[g+"5"],H[w][6]=H[g+"6"],H[w][7]=H[g+"7"],H[w][8]=H[g+"8"],H[w][9]=H[g+"9"],H[w][10]=H[g+"10"],H[w][11]=H[g+"11"],H[w][12]=H[g+"12"],H[w][13]=H[g+"13"],H[w][14]=H[g+"0"],H[w][15]=H[g+"0"]}function de(g){return g==jl||g==Cu||g==Ho||g==Ru}function Je(){this.eb=[],this.size=this.A=this.fb=0}function Me(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new Me,this.sd=null}function Ze(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ye(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Mn(g,w){var E=g.T,R=w.ba.f.RGBA,D=R.eb,B=R.fb+g.ka*R.A,q=Yi[w.ba.S],V=g.y,J=g.O,Z=g.f,me=g.N,Ee=g.ea,X=g.W,be=w.cc,Se=w.dc,De=w.Mc,Ae=w.Nc,Pe=g.ka,Fe=g.ka+g.T,$e=g.U,ze=$e+1>>1;for(Pe==0?q(V,J,null,null,Z,me,Ee,X,Z,me,Ee,X,D,B,null,null,$e):(q(w.ec,w.fc,V,J,be,Se,De,Ae,Z,me,Ee,X,D,B-R.A,D,B,$e),++E);Pe+2<Fe;Pe+=2)be=Z,Se=me,De=Ee,Ae=X,me+=g.Rc,X+=g.Rc,B+=2*R.A,q(V,(J+=2*g.fa)-g.fa,V,J,be,Se,De,Ae,Z,me,Ee,X,D,B-R.A,D,B,$e);return J+=g.fa,g.j+Fe<g.o?(i(w.ec,w.fc,V,J,$e),i(w.cc,w.dc,Z,me,ze),i(w.Mc,w.Nc,Ee,X,ze),E--):1&Fe||q(V,J,null,null,Z,me,Ee,X,Z,me,Ee,X,D,B+R.A,null,null,$e),E}function Pi(g,w,E){var R=g.F,D=[g.J];if(R!=null){var B=g.U,q=w.ba.S,V=q==ql||q==Ho;w=w.ba.f.RGBA;var J=[0],Z=g.ka;J[0]=g.T,g.Kb&&(Z==0?--J[0]:(--Z,D[0]-=g.width),g.j+g.ka+g.T==g.o&&(J[0]=g.o-g.j-Z));var me=w.eb;Z=w.fb+Z*w.A,g=Ol(R,D[0],g.width,B,J,me,Z+(V?0:3),w.A),e(E==J),g&&de(q)&&io(me,Z,V,B,J,w.A)}return 0}function Qi(g){var w=g.ma,E=w.ba.S,R=11>E,D=E==nr||E==$r||E==ql||E==jo||E==12||de(E);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!na(w.Oa,g,D?11:12))return 0;if(D&&de(E)&&Il(),g.da)alert("todo:use_scaling");else{if(R){if(w.Ib=tt,g.Kb){if(E=g.U+1>>1,w.memory=a(g.U+2*E),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+E,w.Ib=Mn,Il()}}else alert("todo:EmitYUV");D&&(w.Jb=Pi,R&&cs())}if(R&&!Oa){for(g=0;256>g;++g)Wi[g]=89858*(g-128)+Vo>>Zr,Ih[g]=-22014*(g-128)+Vo,zf[g]=-45773*(g-128),Pu[g]=113618*(g-128)+Vo>>Zr;for(g=oo;g<Da;++g)w=76283*(g-16)+Vo>>Zr,Mh[g-oo]=Pr(w,255),Ph[g-oo]=Pr(w+8>>4,15);Oa=1}return 1}function gt(g){var w=g.ma,E=g.U,R=g.T;return e(!(1&g.ka)),0>=E||0>=R?0:(E=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,E),w.Dc+=E,1)}function jr(g){g.ma.memory=null}function kr(g,w,E,R){return Y(g,8)!=47?0:(w[0]=Y(g,14)+1,E[0]=Y(g,14)+1,R[0]=Y(g,1),Y(g,3)!=0?0:!g.h)}function Di(g,w){if(4>g)return g+1;var E=g-2>>1;return(2+(1&g)<<E)+Y(w,E)+1}function li(g,w){return 120<w?w-120:1<=(E=((E=Yr[w-1])>>4)*g+(8-(15&E)))?E:1;var E}function Nn(g,w,E){var R=W(E),D=g[w+=255&R].g-8;return 0<D&&(ce(E,E.u+8),R=W(E),w+=g[w].value,w+=R&(1<<D)-1),ce(E,E.u+g[w].g),g[w].value}function Yn(g,w,E){return E.g+=g.g,E.value+=g.value<<w>>>0,e(8>=E.g),g.g}function ui(g,w,E){var R=g.xc;return e((w=R==0?0:g.vc[g.md*(E>>R)+(w>>R)])<g.Wb),g.Ya[w]}function Lr(g,w,E,R){var D=g.ab,B=g.c*w,q=g.C;w=q+w;var V=E,J=R;for(R=g.Ta,E=g.Ua;0<D--;){var Z=g.gc[D],me=q,Ee=w,X=V,be=J,Se=(J=R,V=E,Z.Ea);switch(e(me<Ee),e(Ee<=Z.nc),Z.hc){case 2:di(X,be,(Ee-me)*Se,J,V);break;case 0:var De=me,Ae=Ee,Pe=J,Fe=V,$e=(lt=Z).Ea;De==0&&(Uo(X,be,null,null,1,Pe,Fe),Xt(X,be+1,0,0,$e-1,Pe,Fe+1),be+=$e,Fe+=$e,++De);for(var ze=1<<lt.b,dt=ze-1,rt=Ve($e,lt.b),Bt=lt.K,lt=lt.w+(De>>lt.b)*rt;De<Ae;){var tn=Bt,zn=lt,Gt=1;for(Bo(X,be,Pe,Fe-$e,1,Pe,Fe);Gt<$e;){var st=(Gt&~dt)+ze;st>$e&&(st=$e),(0,ra[tn[zn++]>>8&15])(X,be+ +Gt,Pe,Fe+Gt-$e,st-Gt,Pe,Fe+Gt),Gt=st}be+=$e,Fe+=$e,++De&dt||(lt+=rt)}Ee!=Z.nc&&i(J,V-Se,J,V+(Ee-me-1)*Se,Se);break;case 1:for(Se=X,Ae=be,$e=(X=Z.Ea)-(Fe=X&~(Pe=(be=1<<Z.b)-1)),De=Ve(X,Z.b),ze=Z.K,Z=Z.w+(me>>Z.b)*De;me<Ee;){for(dt=ze,rt=Z,Bt=new Et,lt=Ae+Fe,tn=Ae+X;Ae<lt;)pt(dt[rt++],Bt),Fo(Bt,Se,Ae,be,J,V),Ae+=be,V+=be;Ae<tn&&(pt(dt[rt++],Bt),Fo(Bt,Se,Ae,$e,J,V),Ae+=$e,V+=$e),++me&Pe||(Z+=De)}break;case 3:if(X==J&&be==V&&0<Z.b){for(Ae=J,X=Se=V+(Ee-me)*Se-(Fe=(Ee-me)*Ve(Z.Ea,Z.b)),be=J,Pe=V,De=[],Fe=($e=Fe)-1;0<=Fe;--Fe)De[Fe]=be[Pe+Fe];for(Fe=$e-1;0<=Fe;--Fe)Ae[X+Fe]=De[Fe];xu(Z,me,Ee,J,Se,J,V)}else xu(Z,me,Ee,X,be,J,V)}V=R,J=E}J!=E&&i(R,E,V,J,B)}function Oi(g,w){var E=g.V,R=g.Ba+g.c*g.C,D=w-g.C;if(e(w<=g.l.o),e(16>=D),0<D){var B=g.l,q=g.Ta,V=g.Ua,J=B.width;if(Lr(g,D,E,R),D=V=[V],e((E=g.C)<(R=w)),e(B.v<B.va),R>B.o&&(R=B.o),E<B.j){var Z=B.j-E;E=B.j,D[0]+=Z*J}if(E>=R?E=0:(D[0]+=4*B.v,B.ka=E-B.j,B.U=B.va-B.v,B.T=R-E,E=1),E){if(V=V[0],11>(E=g.ca).S){var me=E.f.RGBA,Ee=(R=E.S,D=B.U,B=B.T,Z=me.eb,me.A),X=B;for(me=me.fb+g.Ma*me.A;0<X--;){var be=q,Se=V,De=D,Ae=Z,Pe=me;switch(R){case Tu:qo(be,Se,De,Ae,Pe);break;case nr:sa(be,Se,De,Ae,Pe);break;case jl:sa(be,Se,De,Ae,Pe),io(Ae,Pe,0,De,1,0);break;case Nu:to(be,Se,De,Ae,Pe);break;case $r:xt(be,Se,De,Ae,Pe,1);break;case Cu:xt(be,Se,De,Ae,Pe,1),io(Ae,Pe,0,De,1,0);break;case ql:xt(be,Se,De,Ae,Pe,0);break;case Ho:xt(be,Se,De,Ae,Pe,0),io(Ae,Pe,1,De,1,0);break;case jo:aa(be,Se,De,Ae,Pe);break;case Ru:aa(be,Se,De,Ae,Pe),Vr(Ae,Pe,De,1,0);break;case ka:Ps(be,Se,De,Ae,Pe);break;default:e(0)}V+=J,me+=Ee}g.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=E.height)}}g.C=w,e(g.C<=g.i)}function Sn(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var E=g.Ya[w].G,R=g.Ya[w].H;if(0<E[1][R[1]+0].g||0<E[2][R[2]+0].g||0<E[3][R[3]+0].g)return 0}return 1}function jn(g,w,E,R,D,B){if(g.Z!=0){var q=g.qd,V=g.rd;for(e(ua[g.Z]!=null);w<E;++w)ua[g.Z](q,V,R,D,R,D,B),q=R,V=D,D+=B;g.qd=q,g.rd=V}}function Ti(g,w){var E=g.l.ma,R=E.Z==0||E.Z==1?g.l.j:g.C;if(R=g.C<R?R:g.C,e(w<=g.l.o),w>R){var D=g.l.width,B=E.ca,q=E.tb+D*R,V=g.V,J=g.Ba+g.c*R,Z=g.gc;e(g.ab==1),e(Z[0].hc==3),Ms(Z[0],R,w,V,J,B,q),jn(E,R,w,B,q,D)}g.C=g.Ma=w}function gr(g,w,E,R,D,B,q){var V=g.$/R,J=g.$%R,Z=g.m,me=g.s,Ee=E+g.$,X=Ee;D=E+R*D;var be=E+R*B,Se=280+me.ua,De=g.Pb?V:16777216,Ae=0<me.ua?me.Wa:null,Pe=me.wc,Fe=Ee<be?ui(me,J,V):null;e(g.C<B),e(be<=D);var $e=!1;e:for(;;){for(;$e||Ee<be;){var ze=0;if(V>=De){var dt=Ee-E;e((De=g).Pb),De.wd=De.m,De.xd=dt,0<De.s.ua&&Xe(De.s.Wa,De.s.vb),De=V+La}if(J&Pe||(Fe=ui(me,J,V)),e(Fe!=null),Fe.Qb&&(w[Ee]=Fe.qb,$e=!0),!$e)if(ve(Z),Fe.jc){ze=Z,dt=w;var rt=Ee,Bt=Fe.pd[W(ze)&Ra-1];e(Fe.jc),256>Bt.g?(ce(ze,ze.u+Bt.g),dt[rt]=Bt.value,ze=0):(ce(ze,ze.u+Bt.g-256),e(256<=Bt.value),ze=Bt.value),ze==0&&($e=!0)}else ze=Nn(Fe.G[0],Fe.H[0],Z);if(Z.h)break;if($e||256>ze){if(!$e)if(Fe.nd)w[Ee]=(Fe.qb|ze<<8)>>>0;else{if(ve(Z),$e=Nn(Fe.G[1],Fe.H[1],Z),ve(Z),dt=Nn(Fe.G[2],Fe.H[2],Z),rt=Nn(Fe.G[3],Fe.H[3],Z),Z.h)break;w[Ee]=(rt<<24|$e<<16|ze<<8|dt)>>>0}if($e=!1,++Ee,++J>=R&&(J=0,++V,q!=null&&V<=B&&!(V%16)&&q(g,V),Ae!=null))for(;X<Ee;)ze=w[X++],Ae.X[(506832829*ze&4294967295)>>>Ae.Mb]=ze}else if(280>ze){if(ze=Di(ze-256,Z),dt=Nn(Fe.G[4],Fe.H[4],Z),ve(Z),dt=li(R,dt=Di(dt,Z)),Z.h)break;if(Ee-E<dt||D-Ee<ze)break e;for(rt=0;rt<ze;++rt)w[Ee+rt]=w[Ee+rt-dt];for(Ee+=ze,J+=ze;J>=R;)J-=R,++V,q!=null&&V<=B&&!(V%16)&&q(g,V);if(e(Ee<=D),J&Pe&&(Fe=ui(me,J,V)),Ae!=null)for(;X<Ee;)ze=w[X++],Ae.X[(506832829*ze&4294967295)>>>Ae.Mb]=ze}else{if(!(ze<Se))break e;for($e=ze-280,e(Ae!=null);X<Ee;)ze=w[X++],Ae.X[(506832829*ze&4294967295)>>>Ae.Mb]=ze;ze=Ee,e(!($e>>>(dt=Ae).Xa)),w[ze]=dt.X[$e],$e=!0}$e||e(Z.h==ne(Z))}if(g.Pb&&Z.h&&Ee<D)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Xe(g.s.vb,g.s.Wa);else{if(Z.h)break e;q!=null&&q(g,V>B?B:V),g.a=0,g.$=Ee-E}return 1}return g.a=3,0}function yr(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,e(g!=null)}function Aa(){var g=new Pt;return g==null?null:(g.a=0,g.xb=Fc,Tn("Predictor","VP8LPredictors"),Tn("Predictor","VP8LPredictors_C"),Tn("PredictorAdd","VP8LPredictorsAdd"),Tn("PredictorAdd","VP8LPredictorsAdd_C"),di=Ht,Fo=Ut,qo=Jn,sa=Yt,aa=Nt,Ps=Mt,to=Zt,H.VP8LMapColor32b=Is,H.VP8LMapColor8b=Vi,g)}function Ir(g,w,E,R,D){var B=1,q=[g],V=[w],J=R.m,Z=R.s,me=null,Ee=0;e:for(;;){if(E)for(;B&&Y(J,1);){var X=q,be=V,Se=R,De=1,Ae=Se.m,Pe=Se.gc[Se.ab],Fe=Y(Ae,2);if(Se.Oc&1<<Fe)B=0;else{switch(Se.Oc|=1<<Fe,Pe.hc=Fe,Pe.Ea=X[0],Pe.nc=be[0],Pe.K=[null],++Se.ab,e(4>=Se.ab),Fe){case 0:case 1:Pe.b=Y(Ae,3)+2,De=Ir(Ve(Pe.Ea,Pe.b),Ve(Pe.nc,Pe.b),0,Se,Pe.K),Pe.K=Pe.K[0];break;case 3:var $e,ze=Y(Ae,8)+1,dt=16<ze?0:4<ze?1:2<ze?2:3;if(X[0]=Ve(Pe.Ea,dt),Pe.b=dt,$e=De=Ir(ze,1,0,Se,Pe.K)){var rt,Bt=ze,lt=Pe,tn=1<<(8>>lt.b),zn=a(tn);if(zn==null)$e=0;else{var Gt=lt.K[0],st=lt.w;for(zn[0]=lt.K[0][0],rt=1;rt<1*Bt;++rt)zn[rt]=St(Gt[st+rt],zn[rt-1]);for(;rt<4*tn;++rt)zn[rt]=0;lt.K[0]=null,lt.K[0]=zn,$e=1}}De=$e;break;case 2:break;default:e(0)}B=De}}if(q=q[0],V=V[0],B&&Y(J,1)&&!(B=1<=(Ee=Y(J,4))&&11>=Ee)){R.a=3;break e}var Ke;if(Ke=B)t:{var Kn,Lt,Jt,xn=R,Ri=q,Ki=V,On=Ee,bi=E,ir=xn.m,_i=xn.s,Qt=[null],dn=1,Xn=0,yn=Wr[On];n:for(;;){if(bi&&Y(ir,1)){var ki=Y(ir,3)+2,Zn=Ve(Ri,ki),hn=Ve(Ki,ki),mi=Zn*hn;if(!Ir(Zn,hn,0,xn,Qt))break n;for(Qt=Qt[0],_i.xc=ki,Kn=0;Kn<mi;++Kn){var An=Qt[Kn]>>8&65535;Qt[Kn]=An,An>=dn&&(dn=An+1)}}if(ir.h)break n;for(Lt=0;5>Lt;++Lt){var wi=so[Lt];!Lt&&0<On&&(wi+=1<<On),Xn<wi&&(Xn=wi)}var Si=l(dn*yn,ie),Cn=dn,fn=l(Cn,xe);if(fn==null)var rr=null;else e(65536>=Cn),rr=fn;var ri=a(Xn);if(rr==null||ri==null||Si==null){xn.a=1;break n}var Tt=Si;for(Kn=Jt=0;Kn<dn;++Kn){var Ct=rr[Kn],pn=Ct.G,wr=Ct.H,Qr=0,dr=1,xi=0;for(Lt=0;5>Lt;++Lt){wi=so[Lt],pn[Lt]=Tt,wr[Lt]=Jt,!Lt&&0<On&&(wi+=1<<On);r:{var Ua,Ba=wi,Ou=xn,Un=ri,jc=Tt,Hc=Jt,Uu=0,ca=Ou.m,Dh=Y(ca,1);if(s(Un,0,0,Ba),Dh){var zc=Y(ca,1)+1,Gc=Y(ca,1),Bu=Y(ca,Gc==0?1:8);Un[Bu]=1,zc==2&&(Un[Bu=Y(ca,8)]=1);var Fi=1}else{var si=a(19),Vl=Y(ca,4)+4;if(19<Vl){Ou.a=3;var Fa=0;break r}for(Ua=0;Ua<Vl;++Ua)si[Hl[Ua]]=Y(ca,3);var Jo=void 0,lo=void 0,Us=Ou,Fu=si,Yo=Ba,qu=Un,ju=0,fa=Us.m,Vc=8,$c=l(128,ie);i:for(;$($c,0,7,Fu,19);){if(Y(fa,1)){var Gf=2+2*Y(fa,3);if((Jo=2+Y(fa,Gf))>Yo)break i}else Jo=Yo;for(lo=0;lo<Yo&&Jo--;){ve(fa);var Jc=$c[0+(127&W(fa))];ce(fa,fa.u+Jc.g);var qa=Jc.value;if(16>qa)qu[lo++]=qa,qa!=0&&(Vc=qa);else{var Vf=qa==16,$f=qa-16,Jf=zo[$f],Yc=Y(fa,Jr[$f])+Jf;if(lo+Yc>Yo)break i;for(var Yf=Vf?Vc:0;0<Yc--;)qu[lo++]=Yf}}ju=1;break i}ju||(Us.a=3),Fi=ju}(Fi=Fi&&!ca.h)&&(Uu=$(jc,Hc,8,Un,Ba)),Fi&&Uu!=0?Fa=Uu:(Ou.a=3,Fa=0)}if(Fa==0)break n;if(dr&&ku[Lt]==1&&(dr=Tt[Jt].g==0),Qr+=Tt[Jt].g,Jt+=Fa,3>=Lt){var uo,Hu=ri[0];for(uo=1;uo<wi;++uo)ri[uo]>Hu&&(Hu=ri[uo]);xi+=Hu}}if(Ct.nd=dr,Ct.Qb=0,dr&&(Ct.qb=(pn[3][wr[3]+0].value<<24|pn[1][wr[1]+0].value<<16|pn[2][wr[2]+0].value)>>>0,Qr==0&&256>pn[0][wr[0]+0].value&&(Ct.Qb=1,Ct.qb+=pn[0][wr[0]+0].value<<8)),Ct.jc=!Ct.Qb&&6>xi,Ct.jc){var $l,Bs=Ct;for($l=0;$l<Ra;++$l){var da=$l,ha=Bs.pd[da],zu=Bs.G[0][Bs.H[0]+da];256<=zu.value?(ha.g=zu.g+256,ha.value=zu.value):(ha.g=0,ha.value=0,da>>=Yn(zu,8,ha),da>>=Yn(Bs.G[1][Bs.H[1]+da],16,ha),da>>=Yn(Bs.G[2][Bs.H[2]+da],0,ha),Yn(Bs.G[3][Bs.H[3]+da],24,ha))}}}_i.vc=Qt,_i.Wb=dn,_i.Ya=rr,_i.yc=Si,Ke=1;break t}Ke=0}if(!(B=Ke)){R.a=3;break e}if(0<Ee){if(Z.ua=1<<Ee,!K(Z.Wa,Ee)){R.a=1,B=0;break e}}else Z.ua=0;var Gu=R,co=q,Wf=V,Wo=Gu.s,Ko=Wo.xc;if(Gu.c=co,Gu.i=Wf,Wo.md=Ve(co,Ko),Wo.wc=Ko==0?-1:(1<<Ko)-1,E){R.xb=Ia;break e}if((me=a(q*V))==null){R.a=1,B=0;break e}B=(B=gr(R,me,0,q,V,V,null))&&!J.h;break e}return B?(D!=null?D[0]=me:(e(me==null),e(E)),R.$=0,E||yr(Z)):yr(Z),B}function vr(g,w){var E=g.c*g.i,R=E+w+16*w;return e(g.c<=w),g.V=a(R),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+E+w,1)}function an(g,w){var E=g.C,R=w-E,D=g.V,B=g.Ba+g.c*E;for(e(w<=g.l.o);0<R;){var q=16<R?16:R,V=g.l.ma,J=g.l.width,Z=J*q,me=V.ca,Ee=V.tb+J*E,X=g.Ta,be=g.Ua;Lr(g,q,D,B),Fr(X,be,me,Ee,Z),jn(V,E,E+q,me,Ee,J),R-=q,D+=q*g.c,E+=q}e(E==w),g.C=g.Ma=w}function ni(){this.ub=this.yd=this.td=this.Rb=0}function vn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function As(){this.Yb=(function(){var g=[];return(function w(E,R,D){for(var B=D[R],q=0;q<B&&(E.push(D.length>R+1?[]:0),!(D.length<R+1));q++)w(E[q],R+1,D)})(g,0,[3,11]),g})()}function ci(){this.jb=a(3),this.Wc=c([4,8],As),this.Xc=c([4,17],As)}function vl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Mr(){this.ld=this.La=this.dd=this.tc=0}function as(){this.Na=this.la=0}function zs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _l(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mr),this.Y=0,this.ya=Array(new bl),this.aa=0,this.l=new Gs}function wl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function hu(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new ni,this.Kc=new vn,this.ed=new vl,this.Qa=new Ja,this.Ic=this.$c=this.Aa=0,this.D=new _l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,M),this.ia=0,this.pb=l(4,zs),this.Pa=new ci,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wl),this.Hd=0,this.rb=Array(new as),this.sb=0,this.wa=Array(new Mr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bl),this.L=this.aa=0,this.gd=c([4,2],Mr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pr(g,w){return 0>g?0:g>w?w:g}function Gs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function os(){var g=new hu;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,qr||(qr=Ea)),g}function mn(g,w,E){return g.a==0&&(g.a=w,g.sc=E,g.cb=0),0}function Sl(g,w,E){return 3<=E&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function Es(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return mn(g,2,"null VP8Io passed to VP8GetHeaders()");var E=w.data,R=w.w,D=w.ha;if(4>D)return mn(g,7,"Truncated header.");var B=E[R+0]|E[R+1]<<8|E[R+2]<<16,q=g.Od;if(q.Rb=!(1&B),q.td=B>>1&7,q.yd=B>>4&1,q.ub=B>>5,3<q.td)return mn(g,3,"Incorrect keyframe parameters.");if(!q.yd)return mn(g,4,"Frame not displayable.");R+=3,D-=3;var V=g.Kc;if(q.Rb){if(7>D)return mn(g,7,"cannot parse picture header");if(!Sl(E,R,D))return mn(g,3,"Bad code word");V.c=16383&(E[R+4]<<8|E[R+3]),V.Td=E[R+4]>>6,V.i=16383&(E[R+6]<<8|E[R+5]),V.Ud=E[R+6]>>6,R+=7,D-=7,g.za=V.c+15>>4,g.Ub=V.i+15>>4,w.width=V.c,w.height=V.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((B=g.Pa).jb,0,255,B.jb.length),e((B=g.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,s(B.Zb,0,0,B.Zb.length),s(B.Lb,0,0,B.Lb)}if(q.ub>D)return mn(g,7,"bad partition length");te(B=g.m,E,R,q.ub),R+=q.ub,D-=q.ub,q.Rb&&(V.Ld=Re(B),V.Kd=Re(B)),V=g.Qa;var J,Z=g.Pa;if(e(B!=null),e(V!=null),V.Cb=Re(B),V.Cb){if(V.Bb=Re(B),Re(B)){for(V.Fb=Re(B),J=0;4>J;++J)V.Zb[J]=Re(B)?ge(B,7):0;for(J=0;4>J;++J)V.Lb[J]=Re(B)?ge(B,6):0}if(V.Bb)for(J=0;3>J;++J)Z.jb[J]=Re(B)?pe(B,8):255}else V.Bb=0;if(B.Ka)return mn(g,3,"cannot parse segment header");if((V=g.ed).zd=Re(B),V.Tb=pe(B,6),V.wb=pe(B,3),V.Pc=Re(B),V.Pc&&Re(B)){for(Z=0;4>Z;++Z)Re(B)&&(V.vd[Z]=ge(B,6));for(Z=0;4>Z;++Z)Re(B)&&(V.od[Z]=ge(B,6))}if(g.L=V.Tb==0?0:V.zd?1:2,B.Ka)return mn(g,3,"cannot parse filter header");var me=D;if(D=J=R,R=J+me,V=me,g.Xb=(1<<pe(g.m,2))-1,me<3*(Z=g.Xb))E=7;else{for(J+=3*Z,V-=3*Z,me=0;me<Z;++me){var Ee=E[D+0]|E[D+1]<<8|E[D+2]<<16;Ee>V&&(Ee=V),te(g.Jc[+me],E,J,Ee),J+=Ee,V-=Ee,D+=3}te(g.Jc[+Z],E,J,V),E=J<R?0:5}if(E!=0)return mn(g,E,"cannot parse partitions");for(E=pe(J=g.m,7),D=Re(J)?ge(J,4):0,R=Re(J)?ge(J,4):0,V=Re(J)?ge(J,4):0,Z=Re(J)?ge(J,4):0,J=Re(J)?ge(J,4):0,me=g.Qa,Ee=0;4>Ee;++Ee){if(me.Cb){var X=me.Zb[Ee];me.Fb||(X+=E)}else{if(0<Ee){g.pb[Ee]=g.pb[0];continue}X=E}var be=g.pb[Ee];be.Sc[0]=Kr[Pr(X+D,127)],be.Sc[1]=Xr[Pr(X+0,127)],be.Eb[0]=2*Kr[Pr(X+R,127)],be.Eb[1]=101581*Xr[Pr(X+V,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=Kr[Pr(X+Z,117)],be.Qc[1]=Xr[Pr(X+J,127)],be.lc=X+J}if(!q.Rb)return mn(g,4,"Not a key frame.");for(Re(B),q=g.Pa,E=0;4>E;++E){for(D=0;8>D;++D)for(R=0;3>R;++R)for(V=0;11>V;++V)Z=he(B,Hn[E][D][R][V])?pe(B,8):Hf[E][D][R][V],q.Wc[E][D].Yb[R][V]=Z;for(D=0;17>D;++D)q.Xc[E][D]=q.Wc[E][nn[D]]}return g.kc=Re(B),g.kc&&(g.Bd=pe(B,8)),g.cb=1}function Ea(g,w,E,R,D,B,q){var V=w[D].Yb[E];for(E=0;16>D;++D){if(!he(g,V[E+0]))return D;for(;!he(g,V[E+1]);)if(V=w[++D].Yb[0],E=0,D==16)return 16;var J=w[D+1].Yb;if(he(g,V[E+2])){var Z=g,me=0;if(he(Z,(X=V)[(Ee=E)+3]))if(he(Z,X[Ee+6])){for(V=0,Ee=2*(me=he(Z,X[Ee+8]))+(X=he(Z,X[Ee+9+me])),me=0,X=jf[Ee];X[V];++V)me+=me+he(Z,X[V]);me+=3+(8<<Ee)}else he(Z,X[Ee+7])?(me=7+2*he(Z,165),me+=he(Z,145)):me=5+he(Z,159);else me=he(Z,X[Ee+4])?3+he(Z,X[Ee+5]):2;V=J[2]}else me=1,V=J[1];J=q+Bc[D],0>(Z=g).b&&ke(Z);var Ee,X=Z.b,be=(Ee=Z.Ca>>1)-(Z.I>>X)>>31;--Z.b,Z.Ca+=be,Z.Ca|=1,Z.I-=(Ee+1&be)<<X,B[J]=((me^be)-be)*R[(0<D)+0]}return 16}function xl(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function or(g,w,E,R,D){D=g[w+E+32*R]+(D>>3),g[w+E+32*R]=-256&D?0>D?0:255:D}function Ni(g,w,E,R,D,B){or(g,w,0,E,R+D),or(g,w,1,E,R+B),or(g,w,2,E,R-B),or(g,w,3,E,R-D)}function yi(g){return(20091*g>>16)+g}function ko(g,w,E,R){var D,B=0,q=a(16);for(D=0;4>D;++D){var V=g[w+0]+g[w+8],J=g[w+0]-g[w+8],Z=(35468*g[w+4]>>16)-yi(g[w+12]),me=yi(g[w+4])+(35468*g[w+12]>>16);q[B+0]=V+me,q[B+1]=J+Z,q[B+2]=J-Z,q[B+3]=V-me,B+=4,w++}for(D=B=0;4>D;++D)V=(g=q[B+0]+4)+q[B+8],J=g-q[B+8],Z=(35468*q[B+4]>>16)-yi(q[B+12]),or(E,R,0,0,V+(me=yi(q[B+4])+(35468*q[B+12]>>16))),or(E,R,1,0,J+Z),or(E,R,2,0,J-Z),or(E,R,3,0,V-me),B++,R+=32}function pu(g,w,E,R){var D=g[w+0]+4,B=35468*g[w+4]>>16,q=yi(g[w+4]),V=35468*g[w+1]>>16;Ni(E,R,0,D+q,g=yi(g[w+1]),V),Ni(E,R,1,D+B,g,V),Ni(E,R,2,D-B,g,V),Ni(E,R,3,D-q,g,V)}function Al(g,w,E,R,D){ko(g,w,E,R),D&&ko(g,w+16,E,R+4)}function lr(g,w,E,R){oa(g,w+0,E,R,1),oa(g,w+32,E,R+128,1)}function El(g,w,E,R){var D;for(g=g[w+0]+4,D=0;4>D;++D)for(w=0;4>w;++w)or(E,R,w,D,g)}function Tl(g,w,E,R){g[w+0]&&gn(g,w+0,E,R),g[w+16]&&gn(g,w+16,E,R+4),g[w+32]&&gn(g,w+32,E,R+128),g[w+48]&&gn(g,w+48,E,R+128+4)}function ls(g,w,E,R){var D,B=a(16);for(D=0;4>D;++D){var q=g[w+0+D]+g[w+12+D],V=g[w+4+D]+g[w+8+D],J=g[w+4+D]-g[w+8+D],Z=g[w+0+D]-g[w+12+D];B[0+D]=q+V,B[8+D]=q-V,B[4+D]=Z+J,B[12+D]=Z-J}for(D=0;4>D;++D)q=(g=B[0+4*D]+3)+B[3+4*D],V=B[1+4*D]+B[2+4*D],J=B[1+4*D]-B[2+4*D],Z=g-B[3+4*D],E[R+0]=q+V>>3,E[R+16]=Z+J>>3,E[R+32]=q-V>>3,E[R+48]=Z-J>>3,R+=64}function Ya(g,w,E){var R,D=w-32,B=tr,q=255-g[D-1];for(R=0;R<E;++R){var V,J=B,Z=q+g[w-1];for(V=0;V<E;++V)g[w+V]=J[Z+g[D+V]];w+=32}}function mu(g,w){Ya(g,w,4)}function gu(g,w){Ya(g,w,8)}function Nl(g,w){Ya(g,w,16)}function Cl(g,w){var E;for(E=0;16>E;++E)i(g,w+32*E,g,w-32,16)}function yu(g,w){var E;for(E=16;0<E;--E)s(g,w,g[w-1],16),w+=32}function br(g,w,E){var R;for(R=0;16>R;++R)s(w,E+32*R,g,16)}function us(g,w){var E,R=16;for(E=0;16>E;++E)R+=g[w-1+32*E]+g[w+E-32];br(R>>5,g,w)}function Vs(g,w){var E,R=8;for(E=0;16>E;++E)R+=g[w-1+32*E];br(R>>4,g,w)}function Wa(g,w){var E,R=8;for(E=0;16>E;++E)R+=g[w+E-32];br(R>>4,g,w)}function Ta(g,w){br(128,g,w)}function kt(g,w,E){return g+2*w+E+2>>2}function vu(g,w){var E,R=w-32;for(R=new Uint8Array([kt(g[R-1],g[R+0],g[R+1]),kt(g[R+0],g[R+1],g[R+2]),kt(g[R+1],g[R+2],g[R+3]),kt(g[R+2],g[R+3],g[R+4])]),E=0;4>E;++E)i(g,w+32*E,R,0,R.length)}function Rl(g,w){var E=g[w-1],R=g[w-1+32],D=g[w-1+64],B=g[w-1+96];Oe(g,w+0,16843009*kt(g[w-1-32],E,R)),Oe(g,w+32,16843009*kt(E,R,D)),Oe(g,w+64,16843009*kt(R,D,B)),Oe(g,w+96,16843009*kt(D,B,B))}function bu(g,w){var E,R=4;for(E=0;4>E;++E)R+=g[w+E-32]+g[w-1+32*E];for(R>>=3,E=0;4>E;++E)s(g,w+32*E,R,4)}function Dr(g,w){var E=g[w-1+0],R=g[w-1+32],D=g[w-1+64],B=g[w-1-32],q=g[w+0-32],V=g[w+1-32],J=g[w+2-32],Z=g[w+3-32];g[w+0+96]=kt(R,D,g[w-1+96]),g[w+1+96]=g[w+0+64]=kt(E,R,D),g[w+2+96]=g[w+1+64]=g[w+0+32]=kt(B,E,R),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=kt(q,B,E),g[w+3+64]=g[w+2+32]=g[w+1+0]=kt(V,q,B),g[w+3+32]=g[w+2+0]=kt(J,V,q),g[w+3+0]=kt(Z,J,V)}function zi(g,w){var E=g[w+1-32],R=g[w+2-32],D=g[w+3-32],B=g[w+4-32],q=g[w+5-32],V=g[w+6-32],J=g[w+7-32];g[w+0+0]=kt(g[w+0-32],E,R),g[w+1+0]=g[w+0+32]=kt(E,R,D),g[w+2+0]=g[w+1+32]=g[w+0+64]=kt(R,D,B),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=kt(D,B,q),g[w+3+32]=g[w+2+64]=g[w+1+96]=kt(B,q,V),g[w+3+64]=g[w+2+96]=kt(q,V,J),g[w+3+96]=kt(V,J,J)}function kl(g,w){var E=g[w-1+0],R=g[w-1+32],D=g[w-1+64],B=g[w-1-32],q=g[w+0-32],V=g[w+1-32],J=g[w+2-32],Z=g[w+3-32];g[w+0+0]=g[w+1+64]=B+q+1>>1,g[w+1+0]=g[w+2+64]=q+V+1>>1,g[w+2+0]=g[w+3+64]=V+J+1>>1,g[w+3+0]=J+Z+1>>1,g[w+0+96]=kt(D,R,E),g[w+0+64]=kt(R,E,B),g[w+0+32]=g[w+1+96]=kt(E,B,q),g[w+1+32]=g[w+2+96]=kt(B,q,V),g[w+2+32]=g[w+3+96]=kt(q,V,J),g[w+3+32]=kt(V,J,Z)}function Ka(g,w){var E=g[w+0-32],R=g[w+1-32],D=g[w+2-32],B=g[w+3-32],q=g[w+4-32],V=g[w+5-32],J=g[w+6-32],Z=g[w+7-32];g[w+0+0]=E+R+1>>1,g[w+1+0]=g[w+0+64]=R+D+1>>1,g[w+2+0]=g[w+1+64]=D+B+1>>1,g[w+3+0]=g[w+2+64]=B+q+1>>1,g[w+0+32]=kt(E,R,D),g[w+1+32]=g[w+0+96]=kt(R,D,B),g[w+2+32]=g[w+1+96]=kt(D,B,q),g[w+3+32]=g[w+2+96]=kt(B,q,V),g[w+3+64]=kt(q,V,J),g[w+3+96]=kt(V,J,Z)}function Or(g,w){var E=g[w-1+0],R=g[w-1+32],D=g[w-1+64],B=g[w-1+96];g[w+0+0]=E+R+1>>1,g[w+2+0]=g[w+0+32]=R+D+1>>1,g[w+2+32]=g[w+0+64]=D+B+1>>1,g[w+1+0]=kt(E,R,D),g[w+3+0]=g[w+1+32]=kt(R,D,B),g[w+3+32]=g[w+1+64]=kt(D,B,B),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=B}function Xa(g,w){var E=g[w-1+0],R=g[w-1+32],D=g[w-1+64],B=g[w-1+96],q=g[w-1-32],V=g[w+0-32],J=g[w+1-32],Z=g[w+2-32];g[w+0+0]=g[w+2+32]=E+q+1>>1,g[w+0+32]=g[w+2+64]=R+E+1>>1,g[w+0+64]=g[w+2+96]=D+R+1>>1,g[w+0+96]=B+D+1>>1,g[w+3+0]=kt(V,J,Z),g[w+2+0]=kt(q,V,J),g[w+1+0]=g[w+3+32]=kt(E,q,V),g[w+1+32]=g[w+3+64]=kt(R,E,q),g[w+1+64]=g[w+3+96]=kt(D,R,E),g[w+1+96]=kt(B,D,R)}function Ts(g,w){var E;for(E=0;8>E;++E)i(g,w+32*E,g,w-32,8)}function _u(g,w){var E;for(E=0;8>E;++E)s(g,w,g[w-1],8),w+=32}function Hr(g,w,E){var R;for(R=0;8>R;++R)s(w,E+32*R,g,8)}function Lo(g,w){var E,R=8;for(E=0;8>E;++E)R+=g[w+E-32]+g[w-1+32*E];Hr(R>>4,g,w)}function Io(g,w){var E,R=4;for(E=0;8>E;++E)R+=g[w+E-32];Hr(R>>3,g,w)}function Ui(g,w){var E,R=4;for(E=0;8>E;++E)R+=g[w-1+32*E];Hr(R>>3,g,w)}function Ns(g,w){Hr(128,g,w)}function zr(g,w,E){var R=g[w-E],D=g[w+0],B=3*(D-R)+la[1020+g[w-2*E]-g[w+E]],q=Fl[112+(B+4>>3)];g[w-E]=tr[255+R+Fl[112+(B+3>>3)]],g[w+0]=tr[255+D-q]}function $s(g,w,E,R){var D=g[w+0],B=g[w+E];return $i[255+g[w-2*E]-g[w-E]]>R||$i[255+B-D]>R}function Mo(g,w,E,R){return 4*$i[255+g[w-E]-g[w+0]]+$i[255+g[w-2*E]-g[w+E]]<=R}function Za(g,w,E,R,D){var B=g[w-3*E],q=g[w-2*E],V=g[w-E],J=g[w+0],Z=g[w+E],me=g[w+2*E],Ee=g[w+3*E];return 4*$i[255+V-J]+$i[255+q-Z]>R?0:$i[255+g[w-4*E]-B]<=D&&$i[255+B-q]<=D&&$i[255+q-V]<=D&&$i[255+Ee-me]<=D&&$i[255+me-Z]<=D&&$i[255+Z-J]<=D}function Js(g,w,E,R){var D=2*R+1;for(R=0;16>R;++R)Mo(g,w+R,E,D)&&zr(g,w+R,E)}function Ys(g,w,E,R){var D=2*R+1;for(R=0;16>R;++R)Mo(g,w+R*E,1,D)&&zr(g,w+R*E,1)}function Qa(g,w,E,R){var D;for(D=3;0<D;--D)Js(g,w+=4*E,E,R)}function Ll(g,w,E,R){var D;for(D=3;0<D;--D)Ys(g,w+=4,E,R)}function Ws(g,w,E,R,D,B,q,V){for(B=2*B+1;0<D--;){if(Za(g,w,E,B,q))if($s(g,w,E,V))zr(g,w,E);else{var J=g,Z=w,me=E,Ee=J[Z-2*me],X=J[Z-me],be=J[Z+0],Se=J[Z+me],De=J[Z+2*me],Ae=27*(Fe=la[1020+3*(be-X)+la[1020+Ee-Se]])+63>>7,Pe=18*Fe+63>>7,Fe=9*Fe+63>>7;J[Z-3*me]=tr[255+J[Z-3*me]+Fe],J[Z-2*me]=tr[255+Ee+Pe],J[Z-me]=tr[255+X+Ae],J[Z+0]=tr[255+be-Ae],J[Z+me]=tr[255+Se-Pe],J[Z+2*me]=tr[255+De-Fe]}w+=R}}function Ks(g,w,E,R,D,B,q,V){for(B=2*B+1;0<D--;){if(Za(g,w,E,B,q))if($s(g,w,E,V))zr(g,w,E);else{var J=g,Z=w,me=E,Ee=J[Z-me],X=J[Z+0],be=J[Z+me],Se=Fl[112+(4+(De=3*(X-Ee))>>3)],De=Fl[112+(De+3>>3)],Ae=Se+1>>1;J[Z-2*me]=tr[255+J[Z-2*me]+Ae],J[Z-me]=tr[255+Ee+De],J[Z+0]=tr[255+X-Se],J[Z+me]=tr[255+be-Ae]}w+=R}}function wu(g,w,E,R,D,B){Ws(g,w,E,1,16,R,D,B)}function Xs(g,w,E,R,D,B){Ws(g,w,1,E,16,R,D,B)}function Su(g,w,E,R,D,B){var q;for(q=3;0<q;--q)Ks(g,w+=4*E,E,1,16,R,D,B)}function A(g,w,E,R,D,B){var q;for(q=3;0<q;--q)Ks(g,w+=4,1,E,16,R,D,B)}function P(g,w,E,R,D,B,q,V){Ws(g,w,D,1,8,B,q,V),Ws(E,R,D,1,8,B,q,V)}function Q(g,w,E,R,D,B,q,V){Ws(g,w,1,D,8,B,q,V),Ws(E,R,1,D,8,B,q,V)}function fe(g,w,E,R,D,B,q,V){Ks(g,w+4*D,D,1,8,B,q,V),Ks(E,R+4*D,D,1,8,B,q,V)}function _e(g,w,E,R,D,B,q,V){Ks(g,w+4,1,D,8,B,q,V),Ks(E,R+4,1,D,8,B,q,V)}function Be(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ye,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yt(){this.ua=0,this.Wa=new qt,this.vb=new qt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new ie}function Pt(){this.xb=this.a=0,this.l=new Gs,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yt,this.ab=0,this.gc=l(4,ut),this.Oc=0}function zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(g,w,E,R,D,B,q){for(g=g==null?0:g[w+0],w=0;w<q;++w)D[B+w]=g+E[R+w]&255,g=D[B+w]}function Wn(g,w,E,R,D,B,q){var V;if(g==null)un(null,null,E,R,D,B,q);else for(V=0;V<q;++V)D[B+V]=g[w+V]+E[R+V]&255}function fi(g,w,E,R,D,B,q){if(g==null)un(null,null,E,R,D,B,q);else{var V,J=g[w+0],Z=J,me=J;for(V=0;V<q;++V)Z=me+(J=g[w+V])-Z,me=E[R+V]+(-256&Z?0>Z?0:255:Z)&255,Z=J,D[B+V]=me}}function Pn(g,w,E,R){var D=w.width,B=w.o;if(e(g!=null&&w!=null),0>E||0>=R||E+R>B)return null;if(!g.Cc){if(g.ga==null){var q;if(g.ga=new zt,(q=g.ga==null)||(q=w.width*w.o,e(g.Gb.length==0),g.Gb=a(q),g.Uc=0,g.Gb==null?q=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,q=1),q=!q),!q){q=g.ga;var V=g.Fa,J=g.P,Z=g.qc,me=g.mb,Ee=g.nb,X=J+1,be=Z-1,Se=q.l;if(e(V!=null&&me!=null&&w!=null),ua[0]=null,ua[1]=un,ua[2]=Wn,ua[3]=fi,q.ca=me,q.tb=Ee,q.c=w.width,q.i=w.height,e(0<q.c&&0<q.i),1>=Z)w=0;else if(q.$a=3&V[J+0],q.Z=V[J+0]>>2&3,q.Lc=V[J+0]>>4&3,J=V[J+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||J)w=0;else if(Se.put=gt,Se.ac=Qi,Se.bc=jr,Se.ma=q,Se.width=w.width,Se.height=w.height,Se.Da=w.Da,Se.v=w.v,Se.va=w.va,Se.j=w.j,Se.o=w.o,q.$a)e:{e(q.$a==1),w=Aa();t:for(;;){if(w==null){w=0;break e}if(e(q!=null),q.mc=w,w.c=q.c,w.i=q.i,w.l=q.l,w.l.ma=q,w.l.width=q.c,w.l.height=q.i,w.a=0,Ce(w.m,V,X,be),!Ir(q.c,q.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Sn(w.s)?(q.ic=1,V=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(V),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(q.ic=0,w=vr(w,q.c)),!w))break t;w=1;break e}q.mc=null,w=0}else w=be>=q.c*q.i;q=!w}if(q)return null;g.ga.Lc!=1?g.Ga=0:R=B-E}e(g.ga!=null),e(E+R<=B);e:{if(w=(V=g.ga).c,B=V.l.o,V.$a==0){if(X=g.rc,be=g.Vc,Se=g.Fa,J=g.P+1+E*w,Z=g.mb,me=g.nb+E*w,e(J<=g.P+g.qc),V.Z!=0)for(e(ua[V.Z]!=null),q=0;q<R;++q)ua[V.Z](X,be,Se,J,Z,me,w),X=Z,be=me,me+=w,J+=w;else for(q=0;q<R;++q)i(Z,me,Se,J,w),X=Z,be=me,me+=w,J+=w;g.rc=X,g.Vc=be}else{if(e(V.mc!=null),w=E+R,e((q=V.mc)!=null),e(w<=q.i),q.C>=w)w=1;else if(V.ic||cs(),V.ic){V=q.V,X=q.Ba,be=q.c;var De=q.i,Ae=(Se=1,J=q.$/be,Z=q.$%be,me=q.m,Ee=q.s,q.$),Pe=be*De,Fe=be*w,$e=Ee.wc,ze=Ae<Fe?ui(Ee,Z,J):null;e(Ae<=Pe),e(w<=De),e(Sn(Ee));t:for(;;){for(;!me.h&&Ae<Fe;){if(Z&$e||(ze=ui(Ee,Z,J)),e(ze!=null),ve(me),256>(De=Nn(ze.G[0],ze.H[0],me)))V[X+Ae]=De,++Ae,++Z>=be&&(Z=0,++J<=w&&!(J%16)&&Ti(q,J));else{if(!(280>De)){Se=0;break t}De=Di(De-256,me);var dt,rt=Nn(ze.G[4],ze.H[4],me);if(ve(me),!(Ae>=(rt=li(be,rt=Di(rt,me)))&&Pe-Ae>=De)){Se=0;break t}for(dt=0;dt<De;++dt)V[X+Ae+dt]=V[X+Ae+dt-rt];for(Ae+=De,Z+=De;Z>=be;)Z-=be,++J<=w&&!(J%16)&&Ti(q,J);Ae<Fe&&Z&$e&&(ze=ui(Ee,Z,J))}e(me.h==ne(me))}Ti(q,J>w?w:J);break t}!Se||me.h&&Ae<Pe?(Se=0,q.a=me.h?5:3):q.$=Ae,w=Se}else w=gr(q,q.V,q.Ba,q.c,q.i,w,an);if(!w){R=0;break e}}E+R>=B&&(g.Cc=1),R=1}if(!R)return null;if(g.Cc&&((R=g.ga)!=null&&(R.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+E*D}function Ci(g,w,E,R,D,B){for(;0<D--;){var q,V=g,J=w+(E?1:0),Z=g,me=w+(E?0:3);for(q=0;q<R;++q){var Ee=Z[me+4*q];Ee!=255&&(Ee*=32897,V[J+4*q+0]=V[J+4*q+0]*Ee>>23,V[J+4*q+1]=V[J+4*q+1]*Ee>>23,V[J+4*q+2]=V[J+4*q+2]*Ee>>23)}w+=B}}function vi(g,w,E,R,D){for(;0<R--;){var B;for(B=0;B<E;++B){var q=g[w+2*B+0],V=15&(Z=g[w+2*B+1]),J=4369*V,Z=(240&Z|Z>>4)*J>>16;g[w+2*B+0]=(240&q|q>>4)*J>>16&240|(15&q|q<<4)*J>>16>>4&15,g[w+2*B+1]=240&Z|V}w+=D}}function Gi(g,w,E,R,D,B,q,V){var J,Z,me=255;for(Z=0;Z<D;++Z){for(J=0;J<R;++J){var Ee=g[w+J];B[q+4*J]=Ee,me&=Ee}w+=E,q+=V}return me!=255}function Zs(g,w,E,R,D){var B;for(B=0;B<D;++B)E[R+B]=g[w+B]>>8}function cs(){io=Ci,Vr=vi,Ol=Gi,Fr=Zs}function Qs(g,w,E){H[g]=function(R,D,B,q,V,J,Z,me,Ee,X,be,Se,De,Ae,Pe,Fe,$e){var ze,dt=$e-1>>1,rt=V[J+0]|Z[me+0]<<16,Bt=Ee[X+0]|be[Se+0]<<16;e(R!=null);var lt=3*rt+Bt+131074>>2;for(w(R[D+0],255&lt,lt>>16,De,Ae),B!=null&&(lt=3*Bt+rt+131074>>2,w(B[q+0],255&lt,lt>>16,Pe,Fe)),ze=1;ze<=dt;++ze){var tn=V[J+ze]|Z[me+ze]<<16,zn=Ee[X+ze]|be[Se+ze]<<16,Gt=rt+tn+Bt+zn+524296,st=Gt+2*(tn+Bt)>>3;lt=st+rt>>1,rt=(Gt=Gt+2*(rt+zn)>>3)+tn>>1,w(R[D+2*ze-1],255&lt,lt>>16,De,Ae+(2*ze-1)*E),w(R[D+2*ze-0],255&rt,rt>>16,De,Ae+(2*ze-0)*E),B!=null&&(lt=Gt+Bt>>1,rt=st+zn>>1,w(B[q+2*ze-1],255&lt,lt>>16,Pe,Fe+(2*ze-1)*E),w(B[q+2*ze+0],255&rt,rt>>16,Pe,Fe+(2*ze+0)*E)),rt=tn,Bt=zn}1&$e||(lt=3*rt+Bt+131074>>2,w(R[D+$e-1],255&lt,lt>>16,De,Ae+($e-1)*E),B!=null&&(lt=3*Bt+rt+131074>>2,w(B[q+$e-1],255&lt,lt>>16,Pe,Fe+($e-1)*E)))}}function Il(){Yi[Tu]=ao,Yi[nr]=Go,Yi[Nu]=qc,Yi[$r]=Iu,Yi[ql]=Ma,Yi[jo]=Os,Yi[ka]=Pa,Yi[jl]=Go,Yi[Cu]=Iu,Yi[Ho]=Ma,Yi[Ru]=Os}function Po(g){return g&-16384?0>g?0:255:g>>Mu}function Cs(g,w){return Po((19077*g>>8)+(26149*w>>8)-14234)}function fs(g,w,E){return Po((19077*g>>8)-(6419*w>>8)-(13320*E>>8)+8708)}function eo(g,w){return Po((19077*g>>8)+(33050*w>>8)-17685)}function ea(g,w,E,R,D){R[D+0]=Cs(g,E),R[D+1]=fs(g,w,E),R[D+2]=eo(g,w)}function Bi(g,w,E,R,D){R[D+0]=eo(g,w),R[D+1]=fs(g,w,E),R[D+2]=Cs(g,E)}function Na(g,w,E,R,D){var B=fs(g,w,E);w=B<<3&224|eo(g,w)>>3,R[D+0]=248&Cs(g,E)|B>>5,R[D+1]=w}function Ca(g,w,E,R,D){var B=240&eo(g,w)|15;R[D+0]=240&Cs(g,E)|fs(g,w,E)>>4,R[D+1]=B}function Do(g,w,E,R,D){R[D+0]=255,ea(g,w,E,R,D+1)}function Rs(g,w,E,R,D){Bi(g,w,E,R,D),R[D+3]=255}function ur(g,w,E,R,D){ea(g,w,E,R,D),R[D+3]=255}function ta(g,w,E){H[g]=function(R,D,B,q,V,J,Z,me,Ee){for(var X=me+(-2&Ee)*E;me!=X;)w(R[D+0],B[q+0],V[J+0],Z,me),w(R[D+1],B[q+0],V[J+0],Z,me+E),D+=2,++q,++J,me+=2*E;1&Ee&&w(R[D+0],B[q+0],V[J+0],Z,me)}}function Oo(g,w,E){return E==0?g==0?w==0?6:5:w==0?4:0:E}function Ml(g,w,E,R,D){switch(g>>>30){case 3:oa(w,E,R,D,0);break;case 2:er(w,E,R,D);break;case 1:gn(w,E,R,D)}}function Ur(g,w){var E,R,D=w.M,B=w.Nb,q=g.oc,V=g.pc+40,J=g.oc,Z=g.pc+584,me=g.oc,Ee=g.pc+600;for(E=0;16>E;++E)q[V+32*E-1]=129;for(E=0;8>E;++E)J[Z+32*E-1]=129,me[Ee+32*E-1]=129;for(0<D?q[V-1-32]=J[Z-1-32]=me[Ee-1-32]=129:(s(q,V-32-1,127,21),s(J,Z-32-1,127,9),s(me,Ee-32-1,127,9)),R=0;R<g.za;++R){var X=w.ya[w.aa+R];if(0<R){for(E=-1;16>E;++E)i(q,V+32*E-4,q,V+32*E+12,4);for(E=-1;8>E;++E)i(J,Z+32*E-4,J,Z+32*E+4,4),i(me,Ee+32*E-4,me,Ee+32*E+4,4)}var be=g.Gd,Se=g.Hd+R,De=X.ad,Ae=X.Hc;if(0<D&&(i(q,V-32,be[Se].y,0,16),i(J,Z-32,be[Se].f,0,8),i(me,Ee-32,be[Se].ea,0,8)),X.Za){var Pe=q,Fe=V-32+16;for(0<D&&(R>=g.za-1?s(Pe,Fe,be[Se].y[15],4):i(Pe,Fe,be[Se+1].y,0,4)),E=0;4>E;E++)Pe[Fe+128+E]=Pe[Fe+256+E]=Pe[Fe+384+E]=Pe[Fe+0+E];for(E=0;16>E;++E,Ae<<=2)Pe=q,Fe=V+pi[E],ii[X.Ob[E]](Pe,Fe),Ml(Ae,De,16*+E,Pe,Fe)}else if(Pe=Oo(R,D,X.Ob[0]),fr[Pe](q,V),Ae!=0)for(E=0;16>E;++E,Ae<<=2)Ml(Ae,De,16*+E,q,V+pi[E]);for(E=X.Gc,Pe=Oo(R,D,X.Dd),ms[Pe](J,Z),ms[Pe](me,Ee),Ae=De,Pe=J,Fe=Z,255&(X=0|E)&&(170&X?Gr(Ae,256,Pe,Fe):cn(Ae,256,Pe,Fe)),X=me,Ae=Ee,255&(E>>=8)&&(170&E?Gr(De,320,X,Ae):cn(De,320,X,Ae)),D<g.Ub-1&&(i(be[Se].y,0,q,V+480,16),i(be[Se].f,0,J,Z+224,8),i(be[Se].ea,0,me,Ee+224,8)),E=8*B*g.B,be=g.sa,Se=g.ta+16*R+16*B*g.R,De=g.qa,X=g.ra+8*R+E,Ae=g.Ha,Pe=g.Ia+8*R+E,E=0;16>E;++E)i(be,Se+E*g.R,q,V+32*E,16);for(E=0;8>E;++E)i(De,X+E*g.B,J,Z+32*E,8),i(Ae,Pe+E*g.B,me,Ee+32*E,8)}}function ds(g,w,E,R,D,B,q,V,J){var Z=[0],me=[0],Ee=0,X=J!=null?J.kd:0,be=J??new Ge;if(g==null||12>E)return 7;be.data=g,be.w=w,be.ha=E,w=[w],E=[E],be.gb=[be.gb];e:{var Se=w,De=E,Ae=be.gb;if(e(g!=null),e(De!=null),e(Ae!=null),Ae[0]=0,12<=De[0]&&!t(g,Se[0],"RIFF")){if(t(g,Se[0]+8,"WEBP")){Ae=3;break e}var Pe=ot(g,Se[0]+4);if(12>Pe||4294967286<Pe){Ae=3;break e}if(X&&Pe>De[0]-8){Ae=7;break e}Ae[0]=Pe,Se[0]+=12,De[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Pe=0<be.gb[0],E=E[0];;){e:{var Fe=g;De=w,Ae=E;var $e=Z,ze=me,dt=Se=[0];if((lt=Ee=[Ee])[0]=0,8>Ae[0])Ae=7;else{if(!t(Fe,De[0],"VP8X")){if(ot(Fe,De[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var rt=ot(Fe,De[0]+8),Bt=1+Qe(Fe,De[0]+12);if(2147483648<=Bt*(Fe=1+Qe(Fe,De[0]+15))){Ae=3;break e}dt!=null&&(dt[0]=rt),$e!=null&&($e[0]=Bt),ze!=null&&(ze[0]=Fe),De[0]+=18,Ae[0]-=18,lt[0]=1}Ae=0}}if(Ee=Ee[0],Se=Se[0],Ae!=0)return Ae;if(De=!!(2&Se),!Pe&&Ee)return 3;if(B!=null&&(B[0]=!!(16&Se)),q!=null&&(q[0]=De),V!=null&&(V[0]=0),q=Z[0],Se=me[0],Ee&&De&&J==null){Ae=0;break}if(4>E){Ae=7;break}if(Pe&&Ee||!Pe&&!Ee&&!t(g,w[0],"ALPH")){E=[E],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{rt=g,Ae=w,Pe=E;var lt=be.gb;$e=be.na,ze=be.P,dt=be.Sa,Bt=22,e(rt!=null),e(Pe!=null),Fe=Ae[0];var tn=Pe[0];for(e($e!=null),e(dt!=null),$e[0]=null,ze[0]=null,dt[0]=0;;){if(Ae[0]=Fe,Pe[0]=tn,8>tn){Ae=7;break e}var zn=ot(rt,Fe+4);if(4294967286<zn){Ae=3;break e}var Gt=8+zn+1&-2;if(Bt+=Gt,0<lt&&Bt>lt){Ae=3;break e}if(!t(rt,Fe,"VP8 ")||!t(rt,Fe,"VP8L")){Ae=0;break e}if(tn[0]<Gt){Ae=7;break e}t(rt,Fe,"ALPH")||($e[0]=rt,ze[0]=Fe+8,dt[0]=zn),Fe+=Gt,tn-=Gt}}if(E=E[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ae!=0)break}E=[E],be.Ja=[be.Ja],be.xa=[be.xa];e:if(lt=g,Ae=w,Pe=E,$e=be.gb[0],ze=be.Ja,dt=be.xa,rt=Ae[0],Fe=!t(lt,rt,"VP8 "),Bt=!t(lt,rt,"VP8L"),e(lt!=null),e(Pe!=null),e(ze!=null),e(dt!=null),8>Pe[0])Ae=7;else{if(Fe||Bt){if(lt=ot(lt,rt+4),12<=$e&&lt>$e-12){Ae=3;break e}if(X&&lt>Pe[0]-8){Ae=7;break e}ze[0]=lt,Ae[0]+=8,Pe[0]-=8,dt[0]=Bt}else dt[0]=5<=Pe[0]&&lt[rt+0]==47&&!(lt[rt+4]>>5),ze[0]=Pe[0];Ae=0}if(E=E[0],be.Ja=be.Ja[0],be.xa=be.xa[0],w=w[0],Ae!=0)break;if(4294967286<be.Ja)return 3;if(V==null||De||(V[0]=be.xa?2:1),q=[q],Se=[Se],be.xa){if(5>E){Ae=7;break}V=q,X=Se,De=B,g==null||5>E?g=0:5<=E&&g[w+0]==47&&!(g[w+4]>>5)?(Pe=[0],lt=[0],$e=[0],Ce(ze=new G,g,w,E),kr(ze,Pe,lt,$e)?(V!=null&&(V[0]=Pe[0]),X!=null&&(X[0]=lt[0]),De!=null&&(De[0]=$e[0]),g=1):g=0):g=0}else{if(10>E){Ae=7;break}V=Se,g==null||10>E||!Sl(g,w+3,E-3)?g=0:(X=g[w+0]|g[w+1]<<8|g[w+2]<<16,De=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&X||3<(X>>1&7)||!(X>>4&1)||X>>5>=be.Ja||!De||!g?g=0:(q&&(q[0]=De),V&&(V[0]=g),g=1))}if(!g||(q=q[0],Se=Se[0],Ee&&(Z[0]!=q||me[0]!=Se)))return 3;J!=null&&(J[0]=be,J.offset=w-J.w,e(4294967286>w-J.w),e(J.offset==J.ha-E));break}return Ae==0||Ae==7&&Ee&&J==null?(B!=null&&(B[0]|=be.na!=null&&0<be.na.length),R!=null&&(R[0]=q),D!=null&&(D[0]=Se),0):Ae}function na(g,w,E){var R=w.width,D=w.height,B=0,q=0,V=R,J=D;if(w.Da=g!=null&&0<g.Da,w.Da&&(V=g.cd,J=g.bd,B=g.v,q=g.j,11>E||(B&=-2,q&=-2),0>B||0>q||0>=V||0>=J||B+V>R||q+J>D))return 0;if(w.v=B,w.j=q,w.va=B+V,w.o=q+J,w.U=V,w.T=J,w.da=g!=null&&0<g.da,w.da){if(!At(V,J,E=[g.ib],B=[g.hb]))return 0;w.ib=E[0],w.hb=B[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*R/4&&w.hb<3*D/4,w.Kb=0),1}function Pl(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function hs(g,w,E,R){if(R==null||0>=g||0>=w)return 2;if(E!=null){if(E.Da){var D=E.cd,B=E.bd,q=-2&E.v,V=-2&E.j;if(0>q||0>V||0>=D||0>=B||q+D>g||V+B>w)return 2;g=D,w=B}if(E.da){if(!At(g,w,D=[E.ib],B=[E.hb]))return 2;g=D[0],w=B[0]}}R.width=g,R.height=w;e:{var J=R.width,Z=R.height;if(g=R.S,0>=J||0>=Z||!(g>=Tu&&13>g))g=2;else{if(0>=R.Rd&&R.sd==null){q=B=D=w=0;var me=(V=J*Du[g])*Z;if(11>g||(B=(Z+1)/2*(w=(J+1)/2),g==12&&(q=(D=J)*Z)),(Z=a(me+2*B+q))==null){g=1;break e}R.sd=Z,11>g?((J=R.f.RGBA).eb=Z,J.fb=0,J.A=V,J.size=me):((J=R.f.kb).y=Z,J.O=0,J.fa=V,J.Fd=me,J.f=Z,J.N=0+me,J.Ab=w,J.Cd=B,J.ea=Z,J.W=0+me+B,J.Db=w,J.Ed=B,g==12&&(J.F=Z,J.J=0+me+2*B),J.Tc=q,J.lb=D)}if(w=1,D=R.S,B=R.width,q=R.height,D>=Tu&&13>D)if(11>D)g=R.f.RGBA,w&=(V=Math.abs(g.A))*(q-1)+B<=g.size,w&=V>=B*Du[D],w&=g.eb!=null;else{g=R.f.kb,V=(B+1)/2,me=(q+1)/2,J=Math.abs(g.fa),Z=Math.abs(g.Ab);var Ee=Math.abs(g.Db),X=Math.abs(g.lb),be=X*(q-1)+B;w&=J*(q-1)+B<=g.Fd,w&=Z*(me-1)+V<=g.Cd,w=(w&=Ee*(me-1)+V<=g.Ed)&J>=B&Z>=V&Ee>=V,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,D==12&&(w&=X>=B,w&=be<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||E!=null&&E.fd&&(g=Pl(R)),g}var Ra=64,_r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cr=24,ks=32,Ls=8,ia=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(g){return g},H.Predictor2=function(g,w,E){return w[E+0]},H.Predictor3=function(g,w,E){return w[E+1]},H.Predictor4=function(g,w,E){return w[E-1]},H.Predictor5=function(g,w,E){return _t(_t(g,w[E+1]),w[E+0])},H.Predictor6=function(g,w,E){return _t(g,w[E-1])},H.Predictor7=function(g,w,E){return _t(g,w[E+0])},H.Predictor8=function(g,w,E){return _t(w[E-1],w[E+0])},H.Predictor9=function(g,w,E){return _t(w[E+0],w[E+1])},H.Predictor10=function(g,w,E){return _t(_t(g,w[E-1]),_t(w[E+0],w[E+1]))},H.Predictor11=function(g,w,E){var R=w[E+0];return 0>=Ot(R>>24&255,g>>24&255,(w=w[E-1])>>24&255)+Ot(R>>16&255,g>>16&255,w>>16&255)+Ot(R>>8&255,g>>8&255,w>>8&255)+Ot(255&R,255&g,255&w)?R:g},H.Predictor12=function(g,w,E){var R=w[E+0];return(jt((g>>24&255)+(R>>24&255)-((w=w[E-1])>>24&255))<<24|jt((g>>16&255)+(R>>16&255)-(w>>16&255))<<16|jt((g>>8&255)+(R>>8&255)-(w>>8&255))<<8|jt((255&g)+(255&R)-(255&w)))>>>0},H.Predictor13=function(g,w,E){var R=w[E-1];return(Kt((g=_t(g,w[E+0]))>>24&255,R>>24&255)<<24|Kt(g>>16&255,R>>16&255)<<16|Kt(g>>8&255,R>>8&255)<<8|Kt(255&g,255&R))>>>0};var Uo=H.PredictorAdd0;H.PredictorAdd1=Xt,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Bo=H.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var di,xu=H.ColorIndexInverseTransform,Is=H.MapARGB,Ms=H.VP8LColorIndexInverseTransformAlpha,Vi=H.MapAlpha,ra=H.VP8LPredictorsAdd=[];ra.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var Fo,qo,sa,aa,Ps,to,Br,oa,er,Gr,gn,cn,Dn,hi,Ds,ps,no,Dl,Dc,Bf,Ff,qf,Oc,Uc,io,Vr,Ol,Fr,ro=a(511),Au=a(2041),Ul=a(225),Bl=a(767),Eu=0,la=Au,Fl=Ul,tr=Bl,$i=ro,Tu=0,nr=1,Nu=2,$r=3,ql=4,jo=5,ka=6,jl=7,Cu=8,Ho=9,Ru=10,Jr=[2,3,7],zo=[3,3,11],so=[280,256,256,256,40],ku=[0,1,1,1,0],Hl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],La=8,Kr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qr=null,jf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ji=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fr=[],ii=[],ms=[],Ia=1,Fc=2,ua=[],Yi=[];Qs("UpsampleRgbLinePair",ea,3),Qs("UpsampleBgrLinePair",Bi,3),Qs("UpsampleRgbaLinePair",ur,4),Qs("UpsampleBgraLinePair",Rs,4),Qs("UpsampleArgbLinePair",Do,4),Qs("UpsampleRgba4444LinePair",Ca,2),Qs("UpsampleRgb565LinePair",Na,2);var ao=H.UpsampleRgbLinePair,qc=H.UpsampleBgrLinePair,Go=H.UpsampleRgbaLinePair,Iu=H.UpsampleBgraLinePair,Ma=H.UpsampleArgbLinePair,Os=H.UpsampleRgba4444LinePair,Pa=H.UpsampleRgb565LinePair,Zr=16,Vo=1<<Zr-1,oo=-227,Da=482,Mu=6,Oa=0,Wi=a(256),Pu=a(256),zf=a(256),Ih=a(256),Mh=a(Da-oo),Ph=a(Da-oo);ta("YuvToRgbRow",ea,3),ta("YuvToBgrRow",Bi,3),ta("YuvToRgbaRow",ur,4),ta("YuvToBgraRow",Rs,4),ta("YuvToArgbRow",Do,4),ta("YuvToRgba4444Row",Ca,2),ta("YuvToRgb565Row",Na,2);var pi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$o=[0,2,8],zl=[8,7,6,4,4,2,2,2,1,1,1,1],Gl=1;this.WebPDecodeRGBA=function(g,w,E,R,D){var B=nr,q=new Be,V=new at;q.ba=V,V.S=B,V.width=[V.width],V.height=[V.height];var J=V.width,Z=V.height,me=new Ze;if(me==null||g==null)var Ee=2;else e(me!=null),Ee=ds(g,w,E,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ee!=0?J=0:(J!=null&&(J[0]=me.width[0]),Z!=null&&(Z[0]=me.height[0]),J=1),J){V.width=V.width[0],V.height=V.height[0],R!=null&&(R[0]=V.width),D!=null&&(D[0]=V.height);e:{if(R=new Gs,(D=new Ge).data=g,D.w=w,D.ha=E,D.kd=1,w=[0],e(D!=null),((g=ds(D.data,D.w,D.ha,null,null,null,w,null,D))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(e(q!=null),R.data=D.data,R.w=D.w+D.offset,R.ha=D.ha-D.offset,R.put=gt,R.ac=Qi,R.bc=jr,R.ma=q,D.xa){if((g=Aa())==null){q=1;break e}if((function(X,be){var Se=[0],De=[0],Ae=[0];t:for(;;){if(X==null)return 0;if(be==null)return X.a=2,0;if(X.l=be,X.a=0,Ce(X.m,be.data,be.w,be.ha),!kr(X.m,Se,De,Ae)){X.a=3;break t}if(X.xb=Fc,be.width=Se[0],be.height=De[0],!Ir(Se[0],De[0],1,X,null))break t;return 1}return e(X.a!=0),0})(g,R)){if(R=(w=hs(R.width,R.height,q.Oa,q.ba))==0){t:{R=g;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((E=R.l)!=null),e((D=E.ma)!=null),R.xb!=0){if(R.ca=D.ba,R.tb=D.tb,e(R.ca!=null),!na(D.Oa,E,$r)){R.a=2;break n}if(!vr(R,E.width)||E.da)break n;if((E.da||de(R.ca.S))&&cs(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&cs()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!K(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!gr(R,R.V,R.Ba,R.c,R.i,E.o,Oi))break n;D.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(w=g.a)}else w=g.a}else{if((g=new os)==null){q=1;break e}if(g.Fa=D.na,g.P=D.P,g.qc=D.Sa,Es(g,R)){if((w=hs(R.width,R.height,q.Oa,q.ba))==0){if(g.Aa=0,E=q.Oa,e((D=g)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(Z=me=0;4>Z;++Z)12>(Ee=D.pb[Z]).lc&&(Ee.ia=J*zl[0>Ee.lc?0:Ee.lc]>>3),me|=Ee.ia;me&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=E.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}(function(X,be){if(X==null)return 0;if(be==null)return mn(X,2,"NULL VP8Io parameter in VP8Decode().");if(!X.cb&&!Es(X,be))return 0;if(e(X.cb),be.ac==null||be.ac(be)){be.ob&&(X.L=0);var Se=$o[X.L];if(X.L==2?(X.yb=0,X.zb=0):(X.yb=be.v-Se>>4,X.zb=be.j-Se>>4,0>X.yb&&(X.yb=0),0>X.zb&&(X.zb=0)),X.Va=be.o+15+Se>>4,X.Hb=be.va+15+Se>>4,X.Hb>X.za&&(X.Hb=X.za),X.Va>X.Ub&&(X.Va=X.Ub),0<X.L){var De=X.ed;for(Se=0;4>Se;++Se){var Ae;if(X.Qa.Cb){var Pe=X.Qa.Lb[Se];X.Qa.Fb||(Pe+=De.Tb)}else Pe=De.Tb;for(Ae=0;1>=Ae;++Ae){var Fe=X.gd[Se][Ae],$e=Pe;if(De.Pc&&($e+=De.vd[0],Ae&&($e+=De.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var ze=$e;0<De.wb&&(ze=4<De.wb?ze>>2:ze>>1)>9-De.wb&&(ze=9-De.wb),1>ze&&(ze=1),Fe.dd=ze,Fe.tc=2*$e+ze,Fe.ld=40<=$e?2:15<=$e?1:0}else Fe.tc=0;Fe.La=Ae}}}Se=0}else mn(X,6,"Frame setup failed"),Se=X.a;if(Se=Se==0){if(Se){X.$c=0,0<X.Aa||(X.Ic=Gl);t:{Se=X.Ic,De=4*(ze=X.za);var dt=32*ze,rt=ze+1,Bt=0<X.L?ze*(0<X.Aa?2:1):0,lt=(X.Aa==2?2:1)*ze;if((Fe=De+832+(Ae=3*(16*Se+$o[X.L])/2*dt)+(Pe=X.Fa!=null&&0<X.Fa.length?X.Kc.c*X.Kc.i:0))!=Fe)Se=0;else{if(Fe>X.Vb){if(X.Vb=0,X.Ec=a(Fe),X.Fc=0,X.Ec==null){Se=mn(X,1,"no memory during frame initialization.");break t}X.Vb=Fe}Fe=X.Ec,$e=X.Fc,X.Ac=Fe,X.Bc=$e,$e+=De,X.Gd=l(dt,wl),X.Hd=0,X.rb=l(rt+1,as),X.sb=1,X.wa=Bt?l(Bt,Mr):null,X.Y=0,X.D.Nb=0,X.D.wa=X.wa,X.D.Y=X.Y,0<X.Aa&&(X.D.Y+=ze),e(!0),X.oc=Fe,X.pc=$e,$e+=832,X.ya=l(lt,bl),X.aa=0,X.D.ya=X.ya,X.D.aa=X.aa,X.Aa==2&&(X.D.aa+=ze),X.R=16*ze,X.B=8*ze,ze=(dt=$o[X.L])*X.R,dt=dt/2*X.B,X.sa=Fe,X.ta=$e+ze,X.qa=X.sa,X.ra=X.ta+16*Se*X.R+dt,X.Ha=X.qa,X.Ia=X.ra+8*Se*X.B+dt,X.$c=0,$e+=Ae,X.mb=Pe?Fe:null,X.nb=Pe?$e:null,e($e+Pe<=X.Fc+X.Vb),xl(X),s(X.Ac,X.Bc,0,De),Se=1}}if(Se){if(be.ka=0,be.y=X.sa,be.O=X.ta,be.f=X.qa,be.N=X.ra,be.ea=X.Ha,be.Vd=X.Ia,be.fa=X.R,be.Rc=X.B,be.F=null,be.J=0,!Eu){for(Se=-255;255>=Se;++Se)ro[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)Au[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)Ul[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)Bl[255+Se]=0>Se?0:255<Se?255:Se;Eu=1}Br=ls,oa=Al,Gr=lr,gn=El,cn=Tl,er=pu,Dn=wu,hi=Xs,Ds=P,ps=Q,no=Su,Dl=A,Dc=fe,Bf=_e,Ff=Js,qf=Ys,Oc=Qa,Uc=Ll,ii[0]=bu,ii[1]=mu,ii[2]=vu,ii[3]=Rl,ii[4]=Dr,ii[5]=kl,ii[6]=zi,ii[7]=Ka,ii[8]=Xa,ii[9]=Or,fr[0]=us,fr[1]=Nl,fr[2]=Cl,fr[3]=yu,fr[4]=Vs,fr[5]=Wa,fr[6]=Ta,ms[0]=Lo,ms[1]=gu,ms[2]=Ts,ms[3]=_u,ms[4]=Ui,ms[5]=Io,ms[6]=Ns,Se=1}else Se=0}Se&&(Se=(function(tn,zn){for(tn.M=0;tn.M<tn.Va;++tn.M){var Gt,st=tn.Jc[tn.M&tn.Xb],Ke=tn.m,Kn=tn;for(Gt=0;Gt<Kn.za;++Gt){var Lt=Ke,Jt=Kn,xn=Jt.Ac,Ri=Jt.Bc+4*Gt,Ki=Jt.zc,On=Jt.ya[Jt.aa+Gt];if(Jt.Qa.Bb?On.$b=he(Lt,Jt.Pa.jb[0])?2+he(Lt,Jt.Pa.jb[2]):he(Lt,Jt.Pa.jb[1]):On.$b=0,Jt.kc&&(On.Ad=he(Lt,Jt.Bd)),On.Za=!he(Lt,145)+0,On.Za){var bi=On.Ob,ir=0;for(Jt=0;4>Jt;++Jt){var _i,Qt=Ki[0+Jt];for(_i=0;4>_i;++_i){Qt=Ji[xn[Ri+_i]][Qt];for(var dn=Lu[he(Lt,Qt[0])];0<dn;)dn=Lu[2*dn+he(Lt,Qt[dn])];Qt=-dn,xn[Ri+_i]=Qt}i(bi,ir,xn,Ri,4),ir+=4,Ki[0+Jt]=Qt}}else Qt=he(Lt,156)?he(Lt,128)?1:3:he(Lt,163)?2:0,On.Ob[0]=Qt,s(xn,Ri,Qt,4),s(Ki,0,Qt,4);On.Dd=he(Lt,142)?he(Lt,114)?he(Lt,183)?1:3:2:0}if(Kn.m.Ka)return mn(tn,7,"Premature end-of-partition0 encountered.");for(;tn.ja<tn.za;++tn.ja){if(Kn=st,Lt=(Ke=tn).rb[Ke.sb-1],xn=Ke.rb[Ke.sb+Ke.ja],Gt=Ke.ya[Ke.aa+Ke.ja],Ri=Ke.kc?Gt.Ad:0)Lt.la=xn.la=0,Gt.Za||(Lt.Na=xn.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Xn,yn;if(Lt=xn,xn=Kn,Ri=Ke.Pa.Xc,Ki=Ke.ya[Ke.aa+Ke.ja],On=Ke.pb[Ki.$b],Jt=Ki.ad,bi=0,ir=Ke.rb[Ke.sb-1],Qt=_i=0,s(Jt,bi,0,384),Ki.Za)var ki=0,Zn=Ri[3];else{dn=a(16);var hn=Lt.Na+ir.Na;if(hn=qr(xn,Ri[1],hn,On.Eb,0,dn,0),Lt.Na=ir.Na=(0<hn)+0,1<hn)Br(dn,0,Jt,bi);else{var mi=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Jt[bi+dn]=mi}ki=1,Zn=Ri[0]}var An=15&Lt.la,wi=15&ir.la;for(dn=0;4>dn;++dn){var Si=1&wi;for(mi=yn=0;4>mi;++mi)An=An>>1|(Si=(hn=qr(xn,Zn,hn=Si+(1&An),On.Sc,ki,Jt,bi))>ki)<<7,yn=yn<<2|(3<hn?3:1<hn?2:Jt[bi+0]!=0),bi+=16;An>>=4,wi=wi>>1|Si<<7,_i=(_i<<8|yn)>>>0}for(Zn=An,ki=wi>>4,Xn=0;4>Xn;Xn+=2){for(yn=0,An=Lt.la>>4+Xn,wi=ir.la>>4+Xn,dn=0;2>dn;++dn){for(Si=1&wi,mi=0;2>mi;++mi)hn=Si+(1&An),An=An>>1|(Si=0<(hn=qr(xn,Ri[2],hn,On.Qc,0,Jt,bi)))<<3,yn=yn<<2|(3<hn?3:1<hn?2:Jt[bi+0]!=0),bi+=16;An>>=2,wi=wi>>1|Si<<5}Qt|=yn<<4*Xn,Zn|=An<<4<<Xn,ki|=(240&wi)<<Xn}Lt.la=Zn,ir.la=ki,Ki.Hc=_i,Ki.Gc=Qt,Ki.ia=43690&Qt?0:On.ia,Ri=!(_i|Qt)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[Gt.$b][Gt.Za],Ke.wa[Ke.Y+Ke.ja].La|=!Ri),Kn.Ka)return mn(tn,7,"Premature end-of-file encountered.")}if(xl(tn),Ke=zn,Kn=1,Gt=(st=tn).D,Lt=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Gt.M=st.M,Gt.uc=Lt,Ur(st,Gt),Kn=1,Gt=(yn=st.D).Nb,Lt=(Qt=$o[st.L])*st.R,xn=Qt/2*st.B,dn=16*Gt*st.R,mi=8*Gt*st.B,Ri=st.sa,Ki=st.ta-Lt+dn,On=st.qa,Jt=st.ra-xn+mi,bi=st.Ha,ir=st.Ia-xn+mi,wi=(An=yn.M)==0,_i=An>=st.Va-1,st.Aa==2&&Ur(st,yn),yn.uc)for(Si=(hn=st).D.M,e(hn.D.uc),yn=hn.yb;yn<hn.Hb;++yn){ki=yn,Zn=Si;var Cn=(fn=(xi=hn).D).Nb;Xn=xi.R;var fn=fn.wa[fn.Y+ki],rr=xi.sa,ri=xi.ta+16*Cn*Xn+16*ki,Tt=fn.dd,Ct=fn.tc;if(Ct!=0)if(e(3<=Ct),xi.L==1)0<ki&&qf(rr,ri,Xn,Ct+4),fn.La&&Uc(rr,ri,Xn,Ct),0<Zn&&Ff(rr,ri,Xn,Ct+4),fn.La&&Oc(rr,ri,Xn,Ct);else{var pn=xi.B,wr=xi.qa,Qr=xi.ra+8*Cn*pn+8*ki,dr=xi.Ha,xi=xi.Ia+8*Cn*pn+8*ki;Cn=fn.ld,0<ki&&(hi(rr,ri,Xn,Ct+4,Tt,Cn),ps(wr,Qr,dr,xi,pn,Ct+4,Tt,Cn)),fn.La&&(Dl(rr,ri,Xn,Ct,Tt,Cn),Bf(wr,Qr,dr,xi,pn,Ct,Tt,Cn)),0<Zn&&(Dn(rr,ri,Xn,Ct+4,Tt,Cn),Ds(wr,Qr,dr,xi,pn,Ct+4,Tt,Cn)),fn.La&&(no(rr,ri,Xn,Ct,Tt,Cn),Dc(wr,Qr,dr,xi,pn,Ct,Tt,Cn))}}if(st.ia&&alert("todo:DitherRow"),Ke.put!=null){if(yn=16*An,An=16*(An+1),wi?(Ke.y=st.sa,Ke.O=st.ta+dn,Ke.f=st.qa,Ke.N=st.ra+mi,Ke.ea=st.Ha,Ke.W=st.Ia+mi):(yn-=Qt,Ke.y=Ri,Ke.O=Ki,Ke.f=On,Ke.N=Jt,Ke.ea=bi,Ke.W=ir),_i||(An-=Qt),An>Ke.o&&(An=Ke.o),Ke.F=null,Ke.J=null,st.Fa!=null&&0<st.Fa.length&&yn<An&&(Ke.J=Pn(st,Ke,yn,An-yn),Ke.F=st.mb,Ke.F==null&&Ke.F.length==0)){Kn=mn(st,3,"Could not decode alpha data.");break t}yn<Ke.j&&(Qt=Ke.j-yn,yn=Ke.j,e(!(1&Qt)),Ke.O+=st.R*Qt,Ke.N+=st.B*(Qt>>1),Ke.W+=st.B*(Qt>>1),Ke.F!=null&&(Ke.J+=Ke.width*Qt)),yn<An&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=yn-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=An-yn,Kn=Ke.put(Ke))}Gt+1!=st.Ic||_i||(i(st.sa,st.ta-Lt,Ri,Ki+16*st.R,Lt),i(st.qa,st.ra-xn,On,Jt+8*st.B,xn),i(st.Ha,st.Ia-xn,bi,ir+8*st.B,xn))}if(!Kn)return mn(tn,6,"Output aborted.")}return 1})(X,be)),be.bc!=null&&be.bc(be),Se&=1}return Se?(X.cb=0,Se):0})(g,R)||(w=g.a)}}else w=g.a}w==0&&q.Oa!=null&&q.Oa.fd&&(w=Pl(q.ba))}q=w}B=q!=0?null:11>B?V.f.RGBA.eb:V.f.kb.y}else B=null;return B};var Du=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(H,le){for(var F="",$=0;$<4;$++)F+=String.fromCharCode(H[le++]);return F}function p(H,le){return H[le+0]|H[le+1]<<8}function _(H,le){return(H[le+0]|H[le+1]<<8|H[le+2]<<16)>>>0}function S(H,le){return(H[le+0]|H[le+1]<<8|H[le+2]<<16|H[le+3]<<24)>>>0}new f;var b=[0],N=[0],C=[],I=new f,k=n,j=(function(H,le){var F={},$=0,ie=!1,ae=0,xe=0;if(F.frames=[],!(function(M,G){for(var W=0;W<4;W++)if(M[G+W]!="RIFF".charCodeAt(W))return!0;return!1})(H,le)){for(S(H,le+=4),le+=8;le<H.length;){var te=d(H,le),pe=S(H,le+=4);le+=4;var ge=pe+(1&pe);switch(te){case"VP8 ":case"VP8L":F.frames[$]===void 0&&(F.frames[$]={}),(Y=F.frames[$]).src_off=ie?xe:le-8,Y.src_size=ae+pe+8,$++,ie&&(ie=!1,ae=0,xe=0);break;case"VP8X":(Y=F.header={}).feature_flags=H[le];var Ce=le+4;Y.canvas_width=1+_(H,Ce),Ce+=3,Y.canvas_height=1+_(H,Ce),Ce+=3;break;case"ALPH":ie=!0,ae=ge+8,xe=le-8;break;case"ANIM":(Y=F.header).bgcolor=S(H,le),Ce=le+4,Y.loop_count=p(H,Ce),Ce+=2;break;case"ANMF":var je,Y;(Y=F.frames[$]={}).offset_x=2*_(H,le),le+=3,Y.offset_y=2*_(H,le),le+=3,Y.width=1+_(H,le),le+=3,Y.height=1+_(H,le),le+=3,Y.duration=_(H,le),le+=3,je=H[le++],Y.dispose=1&je,Y.blend=je>>1&1}te!="ANMF"&&(le+=ge)}return F}})(k,0);j.response=k,j.rgbaoutput=!0,j.dataurl=!1;var O=j.header?j.header:null,U=j.frames?j.frames:null;if(O){O.loop_counter=O.loop_count,b=[O.canvas_height],N=[O.canvas_width];for(var ee=0;ee<U.length&&U[ee].blend!=0;ee++);}var oe=U[0],re=I.WebPDecodeRGBA(k,oe.src_off,oe.src_size,N,b);oe.rgba=re,oe.imgwidth=N[0],oe.imgheight=b[0];for(var se=0;se<N[0]*b[0]*4;se++)C[se]=re[se];return this.width=N,this.height=b,this.data=C,this}(function(n){var e,t,i,s,a,l,c,f,d,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new f,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new l,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new l,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var _=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=M;Object.defineProperty(this,"pdf",{get:function(){return G}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(K){W=!!K}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(K){ne=!!K}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(K){isNaN(K)||(ce=K)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(K){isNaN(K)||(ve=K)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(K){var Xe;typeof K=="number"?Xe=[K,K,K,K]:((Xe=new Array(4))[0]=K[0],Xe[1]=K.length>=2?K[1]:Xe[0],Xe[2]=K.length>=3?K[2]:Xe[0],Xe[3]=K.length>=4?K[3]:Xe[1]),d.margin=Xe}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(K){ke=K}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(K){Re=K}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(K){he=K}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(K){K instanceof p&&(d=K)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(K){d.path=K}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(K){Oe=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var Xe;Xe=S(K),this.ctx.fillStyle=Xe.style,this.ctx.isFillTransparent=Xe.a===0,this.ctx.fillOpacity=Xe.a,this.pdf.setFillColor(Xe.r,Xe.g,Xe.b,{a:Xe.a}),this.pdf.setTextColor(Xe.r,Xe.g,Xe.b,{a:Xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var Xe=S(K);this.ctx.strokeStyle=Xe.style,this.ctx.isStrokeTransparent=Xe.a===0,this.ctx.strokeOpacity=Xe.a,Xe.a===0?this.pdf.setDrawColor(255,255,255):(Xe.a,this.pdf.setDrawColor(Xe.r,Xe.g,Xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var et=null,Qe=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(K){et=null,Qe=null,ot=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var Xe;if(this.ctx.font=K,(Xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var qt=Xe[1];Xe[2];var At=Xe[3],Ve=Xe[4];Xe[5];var St=Xe[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(it==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var Et=(function(mt){var Jn,Yt,Nt=[],Mt=mt.trim();if(Mt==="")return gm;if(Mt in dv)return[dv[Mt]];for(;Mt!=="";){switch(Yt=null,Jn=(Mt=pv(Mt)).charAt(0)){case'"':case"'":Yt=ET(Mt.substring(1),Jn);break;default:Yt=TT(Mt)}if(Yt===null||(Nt.push(Yt[0]),(Mt=pv(Yt[1]))!==""&&Mt.charAt(0)!==","))return gm;Mt=Mt.replace(/^,/,"")}return Nt})(St);if(this.fontFaces){var _t=(function(mt,Jn){var Yt=mt.getFontList(),Nt=JSON.stringify(Yt);if(et===null||Qe!==Nt){var Mt=(function(Zt){var xt=[];return Object.keys(Zt).forEach(function(Tn){Zt[Tn].forEach(function(de){var Je=null;switch(de){case"bold":Je={family:Tn,weight:"bold"};break;case"italic":Je={family:Tn,style:"italic"};break;case"bolditalic":Je={family:Tn,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:Tn}}Je!==null&&(Je.ref={name:Tn,style:de},xt.push(Je))})}),xt})(Yt);et=(function(Zt){for(var xt={},Tn=0;Tn<Zt.length;++Tn){var de=mm(Zt[Tn]),Je=de.family,Me=de.stretch,at=de.style,Ze=de.weight;xt[Je]=xt[Je]||{},xt[Je][Me]=xt[Je][Me]||{},xt[Je][Me][at]=xt[Je][Me][at]||{},xt[Je][Me][at][Ze]=de}return xt})(Mt.concat(Jn)),Qe=Nt}return et})(this.pdf,this.fontFaces),jt=Et.map(function(mt){return{family:mt,stretch:"normal",weight:At,style:qt}}),Kt=(function(mt,Jn,Yt){for(var Nt=(Yt=Yt||{}).defaultFontFamily||"times",Mt=Object.assign({},AT,Yt.genericFontFamilies||{}),Zt=null,xt=null,Tn=0;Tn<Jn.length;++Tn)if(Mt[(Zt=mm(Jn[Tn])).family]&&(Zt.family=Mt[Zt.family]),mt.hasOwnProperty(Zt.family)){xt=mt[Zt.family];break}if(!(xt=xt||mt[Nt]))throw new Error("Could not find a font-family for the rule '"+hv(Zt)+"' and default family '"+Nt+"'.");if(xt=(function(de,Je){if(Je[de])return Je[de];var Me=Vm[de],at=Me<=Vm.normal?-1:1,Ze=fv(Je,Rb,Me,at);if(!Ze)throw new Error("Could not find a matching font-stretch value for "+de);return Ze})(Zt.stretch,xt),xt=(function(de,Je){if(Je[de])return Je[de];for(var Me=Cb[de],at=0;at<Me.length;++at)if(Je[Me[at]])return Je[Me[at]];throw new Error("Could not find a matching font-style for "+de)})(Zt.style,xt),!(xt=(function(de,Je){if(Je[de])return Je[de];if(de===400&&Je[500])return Je[500];if(de===500&&Je[400])return Je[400];var Me=xT[de],at=fv(Je,kb,Me,de<400?-1:1);if(!at)throw new Error("Could not find a matching font-weight for value "+de);return at})(Zt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+hv(Zt)+"'.");return xt})(_t,jt);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var Ot="";(At==="bold"||parseInt(At,10)>=700||qt==="bold")&&(Ot="bold"),qt==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var Xt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Et.length;pt++){if(this.pdf.internal.getFont(Et[pt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){Xt=Et[pt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(Et[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xt=Et[pt],Ot="bold";else if(this.pdf.internal.getFont(Et[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xt=Et[pt],Ot="normal";break}}if(Xt===""){for(var Ut=0;Ut<Et.length;Ut++)if(Ht[Et[Ut]]){Xt=Ht[Et[Ut]];break}}Xt=Xt===""?"Times":Xt,this.pdf.setFont(Xt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};_.prototype.setLineDash=function(M){this.lineDash=M},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){U.call(this,"fill",!1)},_.prototype.stroke=function(){U.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(M,G){if(isNaN(M)||isNaN(G))throw Vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new l(M,G)},_.prototype.closePath=function(){var M=new l(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&In(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){M=new l(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(M.x,M.y)},_.prototype.lineTo=function(M,G){if(isNaN(M)||isNaN(G))throw Vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new l(W.x,W.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},_.prototype.quadraticCurveTo=function(M,G,W,ne){if(isNaN(W)||isNaN(ne)||isNaN(M)||isNaN(G))throw Vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new l(W,ne)),ve=this.ctx.transform.applyToPoint(new l(M,G));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new l(ce.x,ce.y)},_.prototype.bezierCurveTo=function(M,G,W,ne,ce,ve){if(isNaN(ce)||isNaN(ve)||isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne))throw Vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new l(ce,ve)),Re=this.ctx.transform.applyToPoint(new l(M,G)),he=this.ctx.transform.applyToPoint(new l(W,ne));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:he.x,y2:he.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new l(ke.x,ke.y)},_.prototype.arc=function(M,G,W,ne,ce,ve){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne)||isNaN(ce))throw Vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new l(M,G));M=ke.x,G=ke.y;var Re=this.ctx.transform.applyToPoint(new l(0,W)),he=this.ctx.transform.applyToPoint(new l(0,0));W=Math.sqrt(Math.pow(Re.x-he.x,2)+Math.pow(Re.y-he.y,2))}Math.abs(ce-ne)>=2*Math.PI&&(ne=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:G,radius:W,startAngle:ne,endAngle:ce,counterclockwise:ve})},_.prototype.arcTo=function(M,G,W,ne,ce){throw new Error("arcTo not implemented.")},_.prototype.rect=function(M,G,W,ne){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne))throw Vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,G),this.lineTo(M+W,G),this.lineTo(M+W,G+ne),this.lineTo(M,G+ne),this.lineTo(M,G),this.lineTo(M+W,G),this.lineTo(M,G)},_.prototype.fillRect=function(M,G,W,ne){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne))throw Vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,G,W,ne),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},_.prototype.strokeRect=function(M,G,W,ne){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne))throw Vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(M,G,W,ne),this.stroke())},_.prototype.clearRect=function(M,G,W,ne){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne))throw Vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,G,W,ne))},_.prototype.save=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},_.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(G),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(M){var G,W,ne,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))G=0,W=0,ne=0,ce=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ve!==null)G=parseInt(ve[1]),W=parseInt(ve[2]),ne=parseInt(ve[3]),ce=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)G=parseInt(ve[1]),W=parseInt(ve[2]),ne=parseInt(ve[3]),ce=parseFloat(ve[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var ke=new wb(M);M=ke.ok?ke.toHex():"#000000"}M.length===4?(G=M.substring(1,2),G+=G,W=M.substring(2,3),W+=W,ne=M.substring(3,4),ne+=ne):(G=M.substring(1,3),W=M.substring(3,5),ne=M.substring(5,7)),G=parseInt(G,16),W=parseInt(W,16),ne=parseInt(ne,16)}}return{r:G,g:W,b:ne,a:ce,style:M}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(M,G,W,ne){if(isNaN(G)||isNaN(W)||typeof M!="string")throw Vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!b.call(this)){var ce=ge(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;$.call(this,{text:M,x:G,y:W,scale:ve,angle:ce,align:this.textAlign,maxWidth:ne})}},_.prototype.strokeText=function(M,G,W,ne){if(isNaN(G)||isNaN(W)||typeof M!="string")throw Vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ne=isNaN(ne)?void 0:ne;var ce=ge(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;$.call(this,{text:M,x:G,y:W,scale:ve,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ne})}},_.prototype.measureText=function(M){if(typeof M!="string")throw Vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,W=this.pdf.internal.scaleFactor,ne=G.internal.getFontSize(),ce=G.getStringUnitWidth(M)*ne/G.internal.scaleFactor;return new function(ve){var ke=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ce*=Math.round(96*W/72*1e4)/1e4})},_.prototype.scale=function(M,G){if(isNaN(M)||isNaN(G))throw Vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new f(M,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},_.prototype.rotate=function(M){if(isNaN(M))throw Vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new f(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},_.prototype.translate=function(M,G){if(isNaN(M)||isNaN(G))throw Vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new f(1,0,0,1,M,G);this.ctx.transform=this.ctx.transform.multiply(W)},_.prototype.transform=function(M,G,W,ne,ce,ve){if(isNaN(M)||isNaN(G)||isNaN(W)||isNaN(ne)||isNaN(ce)||isNaN(ve))throw Vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new f(M,G,W,ne,ce,ve);this.ctx.transform=this.ctx.transform.multiply(ke)},_.prototype.setTransform=function(M,G,W,ne,ce,ve){M=isNaN(M)?1:M,G=isNaN(G)?0:G,W=isNaN(W)?0:W,ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,ve=isNaN(ve)?0:ve,this.ctx.transform=new f(M,G,W,ne,ce,ve)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(M,G,W,ne,ce,ve,ke,Re,he){var Oe=this.pdf.getImageProperties(M),et=1,Qe=1,ot=1,K=1;ne!==void 0&&Re!==void 0&&(ot=Re/ne,K=he/ce,et=Oe.width/ne*Re/ne,Qe=Oe.height/ce*he/ce),ve===void 0&&(ve=G,ke=W,G=0,W=0),ne!==void 0&&Re===void 0&&(Re=ne,he=ce),ne===void 0&&Re===void 0&&(Re=Oe.width,he=Oe.height);var Xe=this.ctx.transform.decompose(),qt=ge(Xe.rotate.shx),At=new f,Ve=(At=(At=(At=At.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new c(ve-G*ot,ke-W*K,ne*et,ce*Qe));if(this.autoPaging){for(var St,it=I.call(this,Ve),Et=[],_t=0;_t<it.length;_t+=1)Et.indexOf(it[_t])===-1&&Et.push(it[_t]);O(Et);for(var jt=Et[0],Kt=Et[Et.length-1],Ot=jt;Ot<Kt+1;Ot++){this.pdf.setPage(Ot);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=Ot===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ot===1?0:pt+(Ot-2)*Ut;if(this.ctx.clip_path.length!==0){var Jn=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(St,this.posX+this.margin[3],-mt+Ht+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=Jn}var Yt=JSON.parse(JSON.stringify(Ve));Yt=j([Yt],this.posX+this.margin[3],-mt+Ht+this.ctx.prevPageLastElemOffset)[0];var Nt=(Ot>jt||Ot<Kt)&&C.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Ut,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,qt),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,qt)};var I=function(M,G,W){var ne=[];G=G||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ne.push(Math.floor((M.y+ce)/W)+1);break;case"arc":ne.push(Math.floor((M.y+ce-M.radius)/W)+1),ne.push(Math.floor((M.y+ce+M.radius)/W)+1);break;case"qct":var ve=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ne.push(Math.floor((ve.y+ce)/W)+1),ne.push(Math.floor((ve.y+ve.h+ce)/W)+1);break;case"bct":var ke=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ne.push(Math.floor((ke.y+ce)/W)+1),ne.push(Math.floor((ke.y+ke.h+ce)/W)+1);break;case"rect":ne.push(Math.floor((M.y+ce)/W)+1),ne.push(Math.floor((M.y+M.h+ce)/W)+1)}for(var Re=0;Re<ne.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Re];)k.call(this);return ne},k=function(){var M=this.fillStyle,G=this.strokeStyle,W=this.font,ne=this.lineCap,ce=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=G,this.font=W,this.lineCap=ne,this.lineWidth=ce,this.lineJoin=ve},j=function(M,G,W){for(var ne=0;ne<M.length;ne++)switch(M[ne].type){case"bct":M[ne].x2+=G,M[ne].y2+=W;case"qct":M[ne].x1+=G,M[ne].y1+=W;default:M[ne].x+=G,M[ne].y+=W}return M},O=function(M){return M.sort(function(G,W){return G-W})},U=function(M,G){var W=this.fillStyle,ne=this.strokeStyle,ce=this.lineCap,ve=this.lineWidth,ke=Math.abs(ve*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var he,Oe,et=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),ot=[],K=0;K<Qe.length;K++)if(Qe[K].x!==void 0)for(var Xe=I.call(this,Qe[K]),qt=0;qt<Xe.length;qt+=1)ot.indexOf(Xe[qt])===-1&&ot.push(Xe[qt]);for(var At=0;At<ot.length;At++)for(;this.pdf.internal.getNumberOfPages()<ot[At];)k.call(this);O(ot);for(var Ve=ot[0],St=ot[ot.length-1],it=Ve;it<St+1;it++){this.pdf.setPage(it),this.fillStyle=W,this.strokeStyle=ne,this.lineCap=ce,this.lineWidth=ke,this.lineJoin=Re;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=it===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=it===1?0:jt+(it-2)*Kt;if(this.ctx.clip_path.length!==0){var Xt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(he,this.posX+this.margin[3],-Ot+_t+this.ctx.prevPageLastElemOffset),ee.call(this,M,!0),this.path=Xt}if(Oe=JSON.parse(JSON.stringify(et)),this.path=j(Oe,this.posX+this.margin[3],-Ot+_t+this.ctx.prevPageLastElemOffset),G===!1||it===0){var Ht=(it>Ve||it<St)&&C.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Kt,null).clip().discardPath()),ee.call(this,M,G),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=et}else this.lineWidth=ke,ee.call(this,M,G),this.lineWidth=ve},ee=function(M,G){if((M!=="stroke"||G||!N.call(this))&&(M==="stroke"||G||!b.call(this))){for(var W,ne,ce=[],ve=this.path,ke=0;ke<ve.length;ke++){var Re=ve[ke];switch(Re.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Re,deltas:[],abs:[]});break;case"lt":var he=ce.length;if(ve[ke-1]&&!isNaN(ve[ke-1].x)&&(W=[Re.x-ve[ke-1].x,Re.y-ve[ke-1].y],he>0)){for(;he>=0;he--)if(ce[he-1].close!==!0&&ce[he-1].begin!==!0){ce[he-1].deltas.push(W),ce[he-1].abs.push(Re);break}}break;case"bct":W=[Re.x1-ve[ke-1].x,Re.y1-ve[ke-1].y,Re.x2-ve[ke-1].x,Re.y2-ve[ke-1].y,Re.x-ve[ke-1].x,Re.y-ve[ke-1].y],ce[ce.length-1].deltas.push(W);break;case"qct":var Oe=ve[ke-1].x+2/3*(Re.x1-ve[ke-1].x),et=ve[ke-1].y+2/3*(Re.y1-ve[ke-1].y),Qe=Re.x+2/3*(Re.x1-Re.x),ot=Re.y+2/3*(Re.y1-Re.y),K=Re.x,Xe=Re.y;W=[Oe-ve[ke-1].x,et-ve[ke-1].y,Qe-ve[ke-1].x,ot-ve[ke-1].y,K-ve[ke-1].x,Xe-ve[ke-1].y],ce[ce.length-1].deltas.push(W);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Re)}}ne=G?null:M==="stroke"?"stroke":"fill";for(var qt=!1,At=0;At<ce.length;At++)if(ce[At].arc)for(var Ve=ce[At].abs,St=0;St<Ve.length;St++){var it=Ve[St];it.type==="arc"?se.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,G,!qt):ie.call(this,it.x,it.y),qt=!0}else if(ce[At].close===!0)this.pdf.internal.out("h"),qt=!1;else if(ce[At].begin!==!0){var Et=ce[At].start.x,_t=ce[At].start.y;ae.call(this,ce[At].deltas,Et,_t),qt=!0}ne&&H.call(this,ne),G&&le.call(this)}},oe=function(M){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-W;case"top":return M+G-W;case"hanging":return M+G-2*W;case"middle":return M+G/2-W;default:return M}},re=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(G,W){this.colorStops.push([G,W])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(M,G,W,ne,ce,ve,ke,Re,he){for(var Oe=te.call(this,W,ne,ce,ve),et=0;et<Oe.length;et++){var Qe=Oe[et];et===0&&(he?F.call(this,Qe.x1+M,Qe.y1+G):ie.call(this,Qe.x1+M,Qe.y1+G)),xe.call(this,M,G,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}Re?le.call(this):H.call(this,ke)},H=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(M,G){this.pdf.internal.out(t(M)+" "+i(G)+" m")},$=function(M){var G;switch(M.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var W,ne,ce,ve=this.pdf.getTextDimensions(M.text),ke=oe.call(this,M.y),Re=re.call(this,ke)-ve.h,he=this.ctx.transform.applyToPoint(new l(M.x,ke));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),et=new f;et=(et=(et=et.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var Qe=this.ctx.transform.applyToRectangle(new c(M.x,ke,ve.w,ve.h)),ot=et.applyToRectangle(new c(M.x,Re,ve.w,ve.h)),K=I.call(this,ot),Xe=[],qt=0;qt<K.length;qt+=1)Xe.indexOf(K[qt])===-1&&Xe.push(K[qt]);O(Xe);for(var At=Xe[0],Ve=Xe[Xe.length-1],St=At;St<Ve+1;St++){this.pdf.setPage(St);var it=St===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],jt=_t-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],Ot=Kt-this.margin[3],Xt=St===1?0:Et+(St-2)*jt;if(this.ctx.clip_path.length!==0){var Ht=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(W,this.posX+this.margin[3],-1*Xt+it),ee.call(this,"fill",!0),this.path=Ht}var pt=j([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-Xt+it+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale);var Ut=this.autoPaging!=="text";if(Ut||pt.y+pt.h<=_t){if(Ut||pt.y>=it&&pt.x<=Kt){var mt=Ut?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Kt-pt.x)[0],Jn=j([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Xt+it+this.ctx.prevPageLastElemOffset)[0],Yt=Ut&&(St>At||St<Ve)&&C.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,jt,null).clip().discardPath()),this.pdf.text(mt,Jn.x,Jn.y,{angle:M.angle,align:G,renderingMode:M.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else pt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-pt.y);M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ce)}}else M.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:G,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ce)},ie=function(M,G,W,ne){W=W||0,ne=ne||0,this.pdf.internal.out(t(M+W)+" "+i(G+ne)+" l")},ae=function(M,G,W){return this.pdf.lines(M,G,W,null,null)},xe=function(M,G,W,ne,ce,ve,ke,Re){this.pdf.internal.out([e(s(W+M)),e(a(ne+G)),e(s(ce+M)),e(a(ve+G)),e(s(ke+M)),e(a(Re+G)),"c"].join(" "))},te=function(M,G,W,ne){for(var ce=2*Math.PI,ve=Math.PI/2;G>W;)G-=ce;var ke=Math.abs(W-G);ke<ce&&ne&&(ke=ce-ke);for(var Re=[],he=ne?-1:1,Oe=G;ke>1e-5;){var et=Oe+he*Math.min(ke,ve);Re.push(pe.call(this,M,Oe,et)),ke-=Math.abs(et-Oe),Oe=et}return Re},pe=function(M,G,W){var ne=(W-G)/2,ce=M*Math.cos(ne),ve=M*Math.sin(ne),ke=ce,Re=-ve,he=ke*ke+Re*Re,Oe=he+ke*ce+Re*ve,et=4/3*(Math.sqrt(2*he*Oe)-Oe)/(ke*ve-Re*ce),Qe=ke-et*Re,ot=Re+et*ke,K=Qe,Xe=-ot,qt=ne+G,At=Math.cos(qt),Ve=Math.sin(qt);return{x1:M*Math.cos(G),y1:M*Math.sin(G),x2:Qe*At-ot*Ve,y2:Qe*Ve+ot*At,x3:K*At-Xe*Ve,y3:K*Ve+Xe*At,x4:M*Math.cos(W),y4:M*Math.sin(W)}},ge=function(M){return 180*M/Math.PI},Ce=function(M,G,W,ne,ce,ve){var ke=M+.5*(W-M),Re=G+.5*(ne-G),he=ce+.5*(W-ce),Oe=ve+.5*(ne-ve),et=Math.min(M,ce,ke,he),Qe=Math.max(M,ce,ke,he),ot=Math.min(G,ve,Re,Oe),K=Math.max(G,ve,Re,Oe);return new c(et,ot,Qe-et,K-ot)},je=function(M,G,W,ne,ce,ve,ke,Re){var he,Oe,et,Qe,ot,K,Xe,qt,At,Ve,St,it,Et,_t,jt=W-M,Kt=ne-G,Ot=ce-W,Xt=ve-ne,Ht=ke-ce,pt=Re-ve;for(Oe=0;Oe<41;Oe++)At=(Xe=(et=M+(he=Oe/40)*jt)+he*((ot=W+he*Ot)-et))+he*(ot+he*(ce+he*Ht-ot)-Xe),Ve=(qt=(Qe=G+he*Kt)+he*((K=ne+he*Xt)-Qe))+he*(K+he*(ve+he*pt-K)-qt),Oe==0?(St=At,it=Ve,Et=At,_t=Ve):(St=Math.min(St,At),it=Math.min(it,Ve),Et=Math.max(Et,At),_t=Math.max(_t,Ve));return new c(Math.round(St),Math.round(it),Math.round(Et-St),Math.round(_t-it))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,G,W=(M=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:G}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(bt.API),(function(n){var e=function(l){var c,f,d,p,_,S,b,N,C,I;for(f=[],d=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>d;d+=4)(_=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(S=(_=((_=((_=((_=(_-(I=_%85))/85)-(C=_%85))/85)-(N=_%85))/85)-(b=_%85))/85)%85,f.push(S+33,b+33,N+33,C+33,I+33)):f.push(122);return(function(k,j){for(var O=j;O>0;O--)k.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(l){var c,f,d,p,_,S=String,b="length",N=255,C="charCodeAt",I="slice",k="replace";for(l[I](-2),l=l[I](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],p=0,_=(l+=c="uuuuu"[I](l[b]%5||5))[b];_>p;p+=5)f=52200625*(l[C](p)-33)+614125*(l[C](p+1)-33)+7225*(l[C](p+2)-33)+85*(l[C](p+3)-33)+(l[C](p+4)-33),d.push(N&f>>24,N&f>>16,N&f>>8,N&f);return(function(j,O){for(var U=O;U>0;U--)j.pop()})(d,c[b]),S.fromCharCode.apply(S,d)},i=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var f="",d=0;d<l.length;d+=2)f+=String.fromCharCode("0x"+(l[d]+l[d+1]));return f},a=function(l){for(var c=new Uint8Array(l.length),f=l.length;f--;)c[f]=l.charCodeAt(f);return(c=Bm(c)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};n.processDataByFilters=function(l,c){var f=0,d=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(bt.API),(function(n){n.loadFile=function(e,t,i){return(function(s,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(f,d,p){var _=new XMLHttpRequest,S=0,b=function(N){var C=N.length,I=[],k=String.fromCharCode;for(S=0;S<C;S+=1)I.push(k(255&N.charCodeAt(S)));return I.join("")};if(_.open("GET",f,!d),_.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(_.onload=function(){_.status===200?p(b(this.responseText)):p(void 0)}),_.send(null),d&&_.status===200)return b(_.responseText)})(s,a,l)}catch{}return c})(e,t,i)},n.loadImageFile=n.loadFile})(bt.API),(function(n){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):Xp(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):Xp(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=In(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},a=function c(f,d){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||p.appendChild(c(_,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},l=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return(p=p.setProgress(1,c,1,[c])).set(f)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,f){return c.__proto__=f||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var N=p[b],C=N.src.find(function(I){return I.format==="truetype"});C&&d.addFont(C.url,N.ref.name,N.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,d.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},l.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},l.prototype.get=function(c,f){return this.then(function(){var d=c in l.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},l.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(c=c||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(p,_){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(S){return d.updateProgress(null,p),S}).then(p,_).then(function(S){return d.updateProgress(1),S})})},l.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),S=d.call(_,c,f);return l.convert(S,p.__proto__)},l.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},l.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},l.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return l.convert(f,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,bt.getPageSize=function(c,f,d){if(In(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var _,S=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+f}var N,C=0,I=0;if(b.hasOwnProperty(S))C=b[S][1]/_,I=b[S][0]/_;else try{C=d[1],I=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",I>C&&(N=I,I=C,C=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",C>I&&(N=I,I=C,C=N)}return{width:I,height:C,unit:f,k:_,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(mm):null;var d=new l(f);return f.worker?d:d.from(c).doCallback()}})(bt.API),bt.API.addJS=function(n){return gv=n,this.internal.events.subscribe("postPutResources",function(){Ud=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ud+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ud!==void 0&&mv!==void 0&&this.internal.out("/Names <</JavaScript "+Ud+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),a=0;a<s.length;a++){var l=s[a],c=i.exec(l);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(a=0;a<d;a++){var _=t.internal.newObject();p.push(_);var S=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<p.length;a++)t.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,a){var l={title:s,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var f=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var a=0;a<s.children.length;a++)i.count++,this.count_r(i,s.children[a]);return i.count}}])})(bt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,s,a,l,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(_){for(var S,b=256*_.charCodeAt(4)+_.charCodeAt(5),N=_.length,C={width:0,height:0,numcomponents:1},I=4;I<N;I+=2){if(I+=b,e.indexOf(_.charCodeAt(I+1))!==-1){S=256*_.charCodeAt(I+5)+_.charCodeAt(I+6),C={width:256*_.charCodeAt(I+7)+_.charCodeAt(I+8),height:S,numcomponents:_.charCodeAt(I+9)};break}b=256*_.charCodeAt(I+2)+_.charCodeAt(I+3)}return C})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:i,alias:s}}return p}})(bt.API),bt.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,a=uT(n,{checkCrc:!0}),l=a.width,c=a.height,f=a.channels,d=a.palette,p=a.depth;s=d&&f===1?(function(se){for(var H=se.width,le=se.height,F=se.data,$=se.palette,ie=se.depth,ae=!1,xe=[],te=[],pe=void 0,ge=!1,Ce=0,je=0;je<$.length;je++){var Y=_y($[je],4),M=Y[0],G=Y[1],W=Y[2],ne=Y[3];xe.push(M,G,W),ne!=null&&(ne===0?(Ce++,te.length<1&&te.push(je)):ne<255&&(ge=!0))}if(ge||Ce>1){ae=!0,te=void 0;var ce=H*le;pe=new Uint8Array(ce);for(var ve=new DataView(F.buffer),ke=0;ke<ce;ke++){var Re=ym(ve,ke,ie),he=_y($[Re],4)[3];pe[ke]=he}}else Ce===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:F,alphaBytes:pe,needSMask:ae,palette:xe,mask:te}})(a):f===2||f===4?(function(se){for(var H=se.data,le=se.width,F=se.height,$=se.channels,ie=se.depth,ae=$===2?"DeviceGray":"DeviceRGB",xe=$-1,te=le*F,pe=xe,ge=te*pe,Ce=1*te,je=Math.ceil(ge*ie/8),Y=Math.ceil(Ce*ie/8),M=new Uint8Array(je),G=new Uint8Array(Y),W=new DataView(H.buffer),ne=new DataView(M.buffer),ce=new DataView(G.buffer),ve=!1,ke=0;ke<te;ke++){for(var Re=ke*$,he=0;he<pe;he++)Ev(ne,ym(W,Re+he,ie),ke*pe+he,ie);var Oe=ym(W,Re+pe,ie);Oe<(1<<ie)-1&&(ve=!0),Ev(ce,Oe,1*ke,ie)}return{colorSpace:ae,colorsPerPixel:xe,sMaskBitsPerComponent:ve?ie:void 0,colorBytes:M,alphaBytes:G,needSMask:ve}})(a):(function(se){var H=se.data,le=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:le,colorsPerPixel:le==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(F){for(var $=F.length,ie=new Uint8Array(2*$),ae=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),xe=0;xe<$;xe++)ae.setUint16(2*xe,F[xe],!1);return ie})(H):H,needSMask:!1}})(a);var _,S,b,N=s,C=N.colorSpace,I=N.colorsPerPixel,k=N.sMaskBitsPerComponent,j=N.colorBytes,O=N.alphaBytes,U=N.needSMask,ee=N.palette,oe=N.mask,re=null;return i!==bt.API.image_compression.NONE&&typeof Bm=="function"?(re=(function(se){var H;switch(se){case bt.API.image_compression.FAST:H=11;break;case bt.API.image_compression.MEDIUM:H=13;break;case bt.API.image_compression.SLOW:H=14;break;default:H=12}return H})(i),_=this.decode.FLATE_DECODE,S="/Predictor ".concat(re," /Colors ").concat(I," /BitsPerComponent ").concat(p," /Columns ").concat(l),n=_v(j,Math.ceil(l*I*p/8),I,p,i),U&&(b=_v(O,Math.ceil(l*k/8),1,k,i))):(_=void 0,S=void 0,n=j,U&&(b=O)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:_,decodeParameters:S,transparency:oe,palette:ee,sMask:b,predictor:re,width:l,height:c,bitsPerComponent:p,sMaskBitsPerComponent:k,colorSpace:C}}},(function(n){n.processGIF89A=function(e,t,i,s){var a=new kT(e),l=a.width,c=a.height,f=[];a.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:l,height:c},p=new vm(100).encode(d,100);return n.processJPEG.call(this,p,t,i,s)},n.processGIF87A=n.processGIF89A})(bt.API),ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ga.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Vn.log("bit decode error:"+t)}},ga.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[a>>7-c&1];this.data[l+4*c]=f.blue,this.data[l+4*c+1]=f.green,this.data[l+4*c+2]=f.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},ga.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*s*4,c=a>>4,f=15&a,d=this.palette[c];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},ga.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*i;if(s<this.palette.length){var l=this.palette[s];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},ga.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,f=(a>>10&e)/e*255|0,d=a>>15?255:0,p=i*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=d}this.pos+=n}},ga.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,f=(l>>5&t)/t*255|0,d=(l>>11)/e*255|0,p=s*this.width*4+4*a;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},ga.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},ga.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=a,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=l}},ga.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,i,s){var a=new ga(e,!1),l=a.width,c=a.height,f={data:a.getData(),width:l,height:c},d=new vm(100).encode(f,100);return n.processJPEG.call(this,d,t,i,s)}})(bt.API),Nv.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,i,s){var a=new Nv(e),l=a.width,c=a.height,f={data:a.getData(),width:l,height:c},d=new vm(100).encode(f,100);return n.processJPEG.call(this,d,t,i,s)}})(bt.API),bt.API.processRGBA=function(n,e,t){for(var i=n.data,s=i.length,a=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var p=i[d],_=i[d+1],S=i[d+2],b=i[d+3];a[c++]=p,a[c++]=_,a[c++]=S,l[f++]=b}var N=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sc=bt.API,Bd=sc.getCharWidthsArray=function(n,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=d.fof?d.fof:1,_=e.doKerning!==!1,S=0,b=n.length,N=0,C=c[0]||f,I=[];for(t=0;t<b;t++)i=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?I.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(S=_&&In(d[i])==="object"&&!isNaN(parseInt(d[i][N],10))?d[i][N]/p:0,I.push((c[i]||C)/f+S)),N=i;return I},yv=sc.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return sc.processArabic&&(n=sc.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,s)/t:Bd.apply(this,arguments).reduce(function(a,l){return a+l},0)},vv=function(n,e,t,i){for(var s=[],a=0,l=n.length,c=0;a!==l&&c+e[a]<t;)c+=e[a],a++;s.push(n.slice(0,a));var f=a;for(c=0;a!==l;)c+e[a]>i&&(s.push(n.slice(f,a)),c=0,f=a),c+=e[a],a++;return f!==a&&s.push(n.slice(f,a)),s},bv=function(n,e,t){t||(t={});var i,s,a,l,c,f,d,p=[],_=[p],S=t.textIndent||0,b=0,N=0,C=n.split(" "),I=Bd.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?C[0].length+2:t.lineIndent||0){var k=Array(f).join(" "),j=[];C.map(function(U){(U=U.split(/\s*\n/)).length>1?j=j.concat(U.map(function(ee,oe){return(oe&&ee.length?`
`:"")+ee})):j.push(U[0])}),C=j,f=yv.apply(this,[k,t])}for(a=0,l=C.length;a<l;a++){var O=0;if(i=C[a],f&&i[0]==`
`&&(i=i.substr(1),O=1),S+b+(N=(s=Bd.apply(this,[i,t])).reduce(function(U,ee){return U+ee},0))>e||O){if(N>e){for(c=vv.apply(this,[i,s,e-(S+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)_.push([c.shift()]);N=s.slice(i.length-(p[0]?p[0].length:0)).reduce(function(U,ee){return U+ee},0)}else p=[i];_.push(p),S=N+f,b=I}else p.push(i),S+=b+N,b=I}return d=f?function(U,ee){return(ee?k:"")+U.join(" ")}:function(U){return U.join(" ")},_.map(d)},sc.splitTextToSize=function(n,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var _=this.internal.getFont(p.fontName,p.fontStyle),S="Unicode";return _.metadata[S]?{widths:_.metadata[S].widths||{0:1},kerning:_.metadata[S].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=i.length;c<f;c++)d=d.concat(bv.apply(this,[i[c],l,a]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},s={},a=0;a<16;a++)i[t[a]]=e[a],s[e[a]]=t[a];var l=function(S){return"0x"+parseInt(S,10).toString(16)},c=n.__fontmetrics__.compress=function(S){var b,N,C,I,k=["{"];for(var j in S){if(b=S[j],isNaN(parseInt(j,10))?N="'"+j+"'":(j=parseInt(j,10),N=(N=l(j).slice(2)).slice(0,-1)+s[N.slice(-1)]),typeof b=="number")b<0?(C=l(b).slice(3),I="-"):(C=l(b).slice(2),I=""),C=I+C.slice(0,-1)+s[C.slice(-1)];else{if(In(b)!=="object")throw new Error("Don't know what to do with value type "+In(b)+".");C=c(b)}k.push(N+C)}return k.push("}"),k.join("")},f=n.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,N,C,I,k={},j=1,O=k,U=[],ee="",oe="",re=S.length-1,se=1;se<re;se+=1)(I=S[se])=="'"?b?(C=b.join(""),b=void 0):b=[]:b?b.push(I):I=="{"?(U.push([O,C]),O={},C=void 0):I=="}"?((N=U.pop())[0][N[1]]=O,C=void 0,O=N[0]):I=="-"?j=-1:C===void 0?i.hasOwnProperty(I)?(ee+=i[I],C=parseInt(ee,16)*j,j=1,ee=""):ee+=I:i.hasOwnProperty(I)?(oe+=i[I],O[C]=parseInt(oe,16)*j,j=1,C=void 0,oe=""):oe+=I;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},_={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(S){var b=S.font,N=_.Unicode[b.postScriptName];N&&(b.metadata.Unicode={},b.metadata.Unicode.widths=N.widths,b.metadata.Unicode.kerning=N.kerning);var C=p.Unicode[b.postScriptName];C&&(b.metadata.Unicode.encoding=C,b.encoding=C.codePages[0])}])})(bt.API),(function(n){var e=function(t){for(var i=t.length,s=new Uint8Array(i),a=0;a<i;a++)s[a]=t.charCodeAt(a);return s};n.API.events.push(["addFont",function(t){var i=void 0,s=t.font,a=t.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Xd(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,i)}}])})(bt),bt.API.addSvgAsImage=function(n,e,t,i,s,a,l,c){if(isNaN(e)||isNaN(t))throw Vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Ft.canvg?Promise.resolve(Ft.canvg):Xp(()=>import("./index.es-y_iac0-1.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(p)}).then(function(){_.addImage(f.toDataURL("image/jpeg",1),e,t,i,s,l,c)})},bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,s,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),f=[],d=0,p=0,_=0;function S(N,C){var I,k=!1;for(I=0;I<N.length;I+=1)N[I]===C&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(_=0;_<b;_+=1)t[c[_]].value=t[c[_]].defaultValue,t[c[_]].explicitSet=!1}if(In(n)==="object"){for(s in n)if(a=n[s],S(c,s)&&a!==void 0){if(t[s].type==="boolean"&&typeof a=="boolean")t[s].value=a;else if(t[s].type==="name"&&S(t[s].valueSet,a))t[s].value=a;else if(t[s].type==="integer"&&Number.isInteger(a))t[s].value=a;else if(t[s].type==="array"){for(d=0;d<a.length;d+=1)if(i=!0,a[d].length===1&&typeof a[d][0]=="number")f.push(String(a[d]-1));else if(a[d].length>1){for(p=0;p<a[d].length;p+=1)typeof a[d][p]!="number"&&(i=!1);i===!0&&f.push([a[d][0]-1,a[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,C=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?C.push("/"+N+" /"+t[N].value):C.push("/"+N+" "+t[N].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+l.length+c.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+a+l+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(bt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,l){for(var c,f=l.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],_=0,S=a.length;_<S;++_){if(c=l.metadata.characterToGlyph(a.charCodeAt(_)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(_),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},i=function(a){var l,c,f,d,p,_,S;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],_=0,S=(c=Object.keys(a).sort(function(b,N){return b-N})).length;_<S;_++)l=c[_],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(d=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),f.push("<"+l+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,f=l.out,d=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var _=c.metadata.Unicode.widths,S=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",N=0;N<S.length;N++)b+=String.fromCharCode(S[N]);var C=d();p({data:b,addLength1:!0,objectId:C}),f("endobj");var I=d();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:I}),f("endobj");var k=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+hc(c.fontName)),f("/FontFile2 "+C+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var j=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+hc(c.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+n.API.PDFObject.convert(_)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+I+" 0 R"),f("/BaseFont /"+hc(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+j+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,f=l.out,d=l.newObject,p=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var _=c.metadata.rawData,S="",b=0;b<_.length;b++)S+=String.fromCharCode(_[b]);var N=d();p({data:S,addLength1:!0,objectId:N}),f("endobj");var C=d();p({data:i(c.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var I=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+hc(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var k=0;k<c.metadata.hmtx.widths.length;k++)c.metadata.hmtx.widths[k]=parseInt(c.metadata.hmtx.widths[k]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+hc(c.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(a)}]);var s=function(a){var l,c=a.text||"",f=a.x,d=a.y,p=a.options||{},_=a.mutex||{},S=_.pdfEscape,b=_.activeFontKey,N=_.fonts,C=b,I="",k=0,j="",O=N[C].encoding;if(N[C].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:_};for(j=c,C=b,Array.isArray(c)&&(j=c[0]),k=0;k<j.length;k+=1)N[C].metadata.hasOwnProperty("cmap")&&(l=N[C].metadata.cmap.unicode.codeMap[j[k].charCodeAt(0)]),l||j[k].charCodeAt(0)<256&&N[C].metadata.hasOwnProperty("Unicode")?I+=j[k]:I+="";var U="";return parseInt(C.slice(1))<14||O==="WinAnsiEncoding"?U=S(I,C).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(U=t(I,N[C])),_.isHex=!0,{text:U,x:f,y:d,options:p,mutex:_}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],f={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?c.push([s(Object.assign({},f,{text:l[d][0]})).text,l[d][1],l[d][2]]):c.push(s(Object.assign({},f,{text:l[d]})).text);a.text=c}else a.text=s(Object.assign({},f,{text:l})).text}])})(bt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(bt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var s,a,l,c,f,d,p,_=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,O=0;this.__bidiEngine__={};var U=function(F){var $=F.charCodeAt(),ie=$>>8,ae=C[ie];return ae!==void 0?_[256*ae+(255&$)]:ie===252||ie===253?"AL":k.test(ie)?"L":ie===8?"R":"N"},ee=function(F){for(var $,ie=0;ie<F.length;ie++){if(($=U(F.charAt(ie)))==="L")return!1;if($==="R")return!0}return!1},oe=function(F,$,ie,ae){var xe,te,pe,ge,Ce=$[ae];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Ce="AN");break;case"AL":j=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":ae<1||ae+1>=$.length||(xe=ie[ae-1])!=="EN"&&xe!=="AN"||(te=$[ae+1])!=="EN"&&te!=="AN"?Ce="N":j&&(te="AN"),Ce=te===xe?te:"N";break;case"ES":Ce=(xe=ae>0?ie[ae-1]:"B")==="EN"&&ae+1<$.length&&$[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&ie[ae-1]==="EN"){Ce="EN";break}if(j){Ce="N";break}for(pe=ae+1,ge=$.length;pe<ge&&$[pe]==="ET";)pe++;Ce=pe<ge&&$[pe]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ge=$.length,pe=ae+1;pe<ge&&$[pe]==="NSM";)pe++;if(pe<ge){var je=F[ae],Y=je>=1425&&je<=2303||je===64286;if(xe=$[pe],Y&&(xe==="R"||xe==="AL")){Ce="R";break}}}Ce=ae<1||(xe=$[ae-1])==="B"?"N":ie[ae-1];break;case"B":j=!1,s=!0,Ce=O;break;case"S":a=!0,Ce="N"}return Ce},re=function(F,$,ie){var ae=F.split("");return ie&&se(ae,ie,{hiLevel:O}),ae.reverse(),$&&$.reverse(),ae.join("")},se=function(F,$,ie){var ae,xe,te,pe,ge,Ce=-1,je=F.length,Y=0,M=[],G=O?b:S,W=[];for(j=!1,s=!1,a=!1,xe=0;xe<je;xe++)W[xe]=U(F[xe]);for(te=0;te<je;te++){if(ge=Y,M[te]=oe(F,W,M,te),ae=240&(Y=G[ge][N[M[te]]]),Y&=15,$[te]=pe=G[Y][5],ae>0)if(ae===16){for(xe=Ce;xe<te;xe++)$[xe]=1;Ce=-1}else Ce=-1;if(G[Y][6])Ce===-1&&(Ce=te);else if(Ce>-1){for(xe=Ce;xe<te;xe++)$[xe]=pe;Ce=-1}W[te]==="B"&&($[te]=0),ie.hiLevel|=pe}a&&(function(ne,ce,ve){for(var ke=0;ke<ve;ke++)if(ne[ke]==="S"){ce[ke]=O;for(var Re=ke-1;Re>=0&&ne[Re]==="WS";Re--)ce[Re]=O}})(W,$,je)},H=function(F,$,ie,ae,xe){if(!(xe.hiLevel<F)){if(F===1&&O===1&&!s)return $.reverse(),void(ie&&ie.reverse());for(var te,pe,ge,Ce,je=$.length,Y=0;Y<je;){if(ae[Y]>=F){for(ge=Y+1;ge<je&&ae[ge]>=F;)ge++;for(Ce=Y,pe=ge-1;Ce<pe;Ce++,pe--)te=$[Ce],$[Ce]=$[pe],$[pe]=te,ie&&(te=ie[Ce],ie[Ce]=ie[pe],ie[pe]=te);Y=ge}Y++}}},le=function(F,$,ie){var ae=F.split(""),xe={hiLevel:O};return ie||(ie=[]),se(ae,ie,xe),(function(te,pe,ge){if(ge.hiLevel!==0&&p)for(var Ce,je=0;je<te.length;je++)pe[je]===1&&(Ce=I.indexOf(te[je]))>=0&&(te[je]=I[Ce+1])})(ae,ie,xe),H(2,ae,$,ie,xe),H(1,ae,$,ie,xe),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(F,$,ie){if((function(xe,te){if(te)for(var pe=0;pe<xe.length;pe++)te[pe]=pe;c===void 0&&(c=ee(xe)),d===void 0&&(d=ee(xe))})(F,$),l||!f||d)if(l&&f&&c^d)O=c?1:0,F=re(F,$,ie);else if(!l&&f&&d)O=c?1:0,F=le(F,$,ie),F=re(F,$);else if(!l||c||f||d){if(l&&!f&&c^d)F=re(F,$),c?(O=0,F=le(F,$,ie)):(O=1,F=le(F,$,ie),F=re(F,$));else if(l&&c&&!f&&d)O=1,F=le(F,$,ie),F=re(F,$);else if(!l&&!f&&c^d){var ae=p;c?(O=1,F=le(F,$,ie),O=0,p=!1,F=le(F,$,ie),p=ae):(O=0,F=le(F,$,ie),F=re(F,$),O=1,p=!1,F=le(F,$,ie),p=ae,F=re(F,$))}}else O=0,F=le(F,$,ie);else O=c?1:0,F=le(F,$,ie);return F},this.__bidiEngine__.setOptions=function(F){F&&(l=F.isInputVisual,f=F.isOutputVisual,c=F.isInputRtl,d=F.isOutputRtl,p=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([t.doBidiReorder(s[c])]);i.text=l}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(bt),bt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ml(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new VT(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new LT(this.contents),this.head=new MT(this),this.name=new BT(this),this.cmap=new Ib(this),this.toUnicode={},this.hhea=new PT(this),this.maxp=new FT(this),this.hmtx=new qT(this),this.post=new OT(this),this.os2=new DT(this),this.loca=new GT(this),this.glyf=new jT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,f,d;for(d=[],l=0,c=(f=this.bbox).length;l<c;l++)e=f[l],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var s,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)s=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n})();var Sa,ml=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,s,a,l,c,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*a+65536*l+256*c+f},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,s,a;for(a=[],i=0,s=e.length;i<s;i++)t=e[i],a.push(this.writeByte(t));return a},n})(),LT=(function(){var n;function e(t){var i,s,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,a,l,c,f,d,p,_,S,b,N,C;for(C in b=Object.keys(t).length,f=Math.log(2),_=16*Math.floor(Math.log(b)/f),l=Math.floor(_/f),p=16*b-_,(s=new ml).writeInt(this.scalarType),s.writeShort(b),s.writeShort(_),s.writeShort(l),s.writeShort(p),a=16*b,d=s.pos+a,c=null,N=[],t)for(S=t[C],s.writeString(C),s.writeInt(n(S)),s.writeInt(d),s.writeInt(S.length),N=N.concat(S),C==="head"&&(c=d),d+=S.length;d%4;)N.push(0),d++;return s.write(N),i=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(i),s.data},n=function(t){var i,s,a,l;for(t=Mb.call(t);t.length%4;)t.push(0);for(a=new ml(t),s=0,i=0,l=t.length;i<l;i=i+=4)s+=a.readUInt32();return 4294967295&s},e})(),IT={}.hasOwnProperty,$a=function(n,e){for(var t in e)IT.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};Sa=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var MT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new ml).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Cv=(function(){function n(e,t){var i,s,a,l,c,f,d,p,_,S,b,N,C,I,k,j,O;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),S=b/2,e.pos+=6,a=(function(){var U,ee;for(ee=[],f=U=0;0<=S?U<S:U>S;f=0<=S?++U:--U)ee.push(e.readUInt16());return ee})(),e.pos+=2,C=(function(){var U,ee;for(ee=[],f=U=0;0<=S?U<S:U>S;f=0<=S?++U:--U)ee.push(e.readUInt16());return ee})(),d=(function(){var U,ee;for(ee=[],f=U=0;0<=S?U<S:U>S;f=0<=S?++U:--U)ee.push(e.readUInt16());return ee})(),p=(function(){var U,ee;for(ee=[],f=U=0;0<=S?U<S:U>S;f=0<=S?++U:--U)ee.push(e.readUInt16());return ee})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var U,ee;for(ee=[],f=U=0;0<=s?U<s:U>s;f=0<=s?++U:--U)ee.push(e.readUInt16());return ee})(),f=k=0,O=a.length;k<O;f=++k)for(I=a[f],i=j=N=C[f];N<=I?j<=I:j>=I;i=N<=I?++j:--j)p[f]===0?l=i+d[f]:(l=c[p[f]/2+(i-N)-(S-f)]||0)!==0&&(l+=d[f]),this.codeMap[i]=65535&l}e.pos=_}return n.encode=function(e,t){var i,s,a,l,c,f,d,p,_,S,b,N,C,I,k,j,O,U,ee,oe,re,se,H,le,F,$,ie,ae,xe,te,pe,ge,Ce,je,Y,M,G,W,ne,ce,ve,ke,Re,he,Oe,et;switch(ae=new ml,l=Object.keys(e).sort(function(Qe,ot){return Qe-ot}),t){case"macroman":for(C=0,I=(function(){var Qe=[];for(N=0;N<256;++N)Qe.push(0);return Qe})(),j={0:0},a={},xe=0,Ce=l.length;xe<Ce;xe++)j[Re=e[s=l[xe]]]==null&&(j[Re]=++C),a[s]={old:e[s],new:j[e[s]]},I[s]=j[e[s]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(I),{charMap:a,subtable:ae.data,maxGlyphID:C+1};case"unicode":for($=[],_=[],O=0,j={},i={},k=d=null,te=0,je=l.length;te<je;te++)j[ee=e[s=l[te]]]==null&&(j[ee]=++O),i[s]={old:ee,new:j[ee]},c=j[ee]-s,k!=null&&c===d||(k&&_.push(k),$.push(s),d=c),k=s;for(k&&_.push(k),_.push(65535),$.push(65535),le=2*(H=$.length),se=2*Math.pow(Math.log(H)/Math.LN2,2),S=Math.log(se/2)/Math.LN2,re=2*H-se,f=[],oe=[],b=[],N=pe=0,Y=$.length;pe<Y;N=++pe){if(F=$[N],p=_[N],F===65535){f.push(0),oe.push(0);break}if(F-(ie=i[F].new)>=32768)for(f.push(0),oe.push(2*(b.length+H-N)),s=ge=F;F<=p?ge<=p:ge>=p;s=F<=p?++ge:--ge)b.push(i[s].new);else f.push(ie-F),oe.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*H+2*b.length),ae.writeUInt16(0),ae.writeUInt16(le),ae.writeUInt16(se),ae.writeUInt16(S),ae.writeUInt16(re),ve=0,M=_.length;ve<M;ve++)s=_[ve],ae.writeUInt16(s);for(ae.writeUInt16(0),ke=0,G=$.length;ke<G;ke++)s=$[ke],ae.writeUInt16(s);for(he=0,W=f.length;he<W;he++)c=f[he],ae.writeUInt16(c);for(Oe=0,ne=oe.length;Oe<ne;Oe++)U=oe[Oe],ae.writeUInt16(U);for(et=0,ce=b.length;et<ce;et++)C=b[et],ae.writeUInt16(C);return{charMap:i,subtable:ae.data,maxGlyphID:O+1}}},n})(),Ib=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)t=new Cv(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,s;return t==null&&(t="macroman"),i=Cv.encode(e,t),(s=new ml).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},n})(),PT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),DT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),OT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var l,c,f;for(f=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)f.push(e.readUInt32());return f}).call(this)}},n})(),UT=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},BT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,s,a,l,c,f,d,p,_,S;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},a=p=0,_=i.length;p<_;a=++p)s=i[a],e.pos=s.offset,d=e.readString(s.length),l=new UT(d,s),f[S=s.nameID]==null&&(f[S]=[]),f[s.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),FT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),qT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,s,a,l,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)p.push(e.readInt16());return p})(),this.widths=(function(){var d,p,_,S;for(S=[],d=0,p=(_=this.metrics).length;d<p;d++)a=_[d],S.push(a.advance);return S}).call(this),i=this.widths[this.widths.length-1],f=[],t=l=0;0<=s?l<s:l>s;t=0<=s?++l:--l)f.push(this.widths.push(i));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),Mb=[].slice,jT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,s,a,l,c,f,d,p,_;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,i=a.indexOf(e),(s=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,l=(c=new ml(t.read(s))).readShort(),d=c.readShort(),_=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[e]=l===-1?new zT(c,d,_,f,p):new HT(c,l,d,_,f,p),this.cache[e]))},n.prototype.encode=function(e,t,i){var s,a,l,c,f;for(l=[],a=[],c=0,f=t.length;c<f;c++)s=e[t[c]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},n})(),HT=(function(){function n(e,t,i,s,a,l){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),zT=(function(){function n(e,t,i,s,a){var l,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new ml(Mb.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),GT=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $a(n,Sa),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<t.length&&t[a]==l){++a,i[l]=s;var c=this.offsets[l],f=this.offsets[l+1]-c;f>0&&(s+=f)}for(var d=new Array(4*i.length),p=0;p<i.length;++p)d[4*p+3]=255&i[p],d[4*p+2]=(65280&i[p])>>8,d[4*p+1]=(16711680&i[p])>>16,d[4*p]=(4278190080&i[p])>>24;return d},n})(),VT=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s,a;for(t in s=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[t],e[t]=s[i];return e},n.prototype.glyphsFor=function(e){var t,i,s,a,l,c,f;for(s={},l=0,c=e.length;l<c;l++)s[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],s)(i=s[a])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(a in f=this.glyphsFor(t))i=f[a],s[a]=i;return s},n.prototype.encode=function(e,t){var i,s,a,l,c,f,d,p,_,S,b,N,C,I,k;for(s in i=Ib.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),b={0:0},k=i.charMap)b[(f=k[s]).old]=f.new;for(N in S=i.maxGlyphID,l)N in b||(b[N]=S++);return p=(function(j){var O,U;for(O in U={},j)U[j[O]]=O;return U})(b),_=Object.keys(p).sort(function(j,O){return j-O}),C=(function(){var j,O,U;for(U=[],j=0,O=_.length;j<O;j++)c=_[j],U.push(p[c]);return U})(),a=this.font.glyf.encode(l,C,b),d=this.font.loca.encode(a.offsets,C),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n})();bt.API.PDFObject=(function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,a,l;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)i=t[c],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in a=["<<"],t)l=t[s],a.push("/"+s+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();function Pb(n,e,t,i,s){i=i||{};var a=1.15,l=s.internal.scaleFactor,c=s.internal.getFontSize()/l,f=s.getLineHeightFactor?s.getLineHeightFactor():a,d=c*f,p=/\r\n|\r|\n/g,_="",S=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(_=typeof n=="string"?n.split(p):n,S=_.length||1),t+=c*(2-a),i.valign==="middle"?t-=S/2*d:i.valign==="bottom"&&(t-=S*d),i.halign==="center"||i.halign==="right"){var b=c;if(i.halign==="center"&&(b*=.5),_&&S>=1){for(var N=0;N<_.length;N++)s.text(_[N],e-s.getStringUnitWidth(_[N])*b,t),t+=d;return s}e-=s.getStringUnitWidth(n)*b}return i.halign==="justify"?s.text(n,e,t,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var Rv={},Sc=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Rv=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var i,s,a;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,f=l.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var p=n.unifyColor(e.fillColor);p&&(i=this.jsPDFDocument).setFillColor.apply(i,p),p=n.unifyColor(e.textColor),p&&(s=this.jsPDFDocument).setTextColor.apply(s,p),p=n.unifyColor(e.lineColor),p&&(a=this.jsPDFDocument).setDrawColor.apply(a,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,i){return this.jsPDFDocument.splitTextToSize(e,t,i)},n.prototype.rect=function(e,t,i,s,a){return this.jsPDFDocument.rect(e,t,i,s,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Rv||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),$m=function(n,e){return $m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},$m(n,e)};function Db(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$m(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ob=(function(n){Db(e,n);function e(t){var i=n.call(this)||this;return i._element=t,i}return e})(Array);function $T(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function JT(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function ch(n,e,t){t.applyStyles(e,!0);var i=Array.isArray(n)?n:[n],s=i.map(function(a){return t.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return s}function Ub(n,e,t,i){var s=e.settings.tableLineWidth,a=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:a});var l=Bb(s,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),i.y-t.y,l)}function Bb(n,e){var t=n>0,i=e||e===0;return t&&i?"DF":t?"S":i?"F":null}function Ah(n,e){var t,i,s,a;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(i=n.top)!==null&&i!==void 0?i:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(a=n.bottom)!==null&&a!==void 0?a:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function Fb(n,e){var t=Ah(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function YT(n,e,t,i,s){var a={},l=1.3333333333333333,c=bm(e,function(O){return s.getComputedStyle(O).backgroundColor});c!=null&&(a.fillColor=c);var f=bm(e,function(O){return s.getComputedStyle(O).color});f!=null&&(a.textColor=f);var d=KT(i,t);d&&(a.cellPadding=d);var p="borderTopColor",_=l*t,S=i.borderTopWidth;if(i.borderBottomWidth===S&&i.borderRightWidth===S&&i.borderLeftWidth===S){var b=(parseFloat(S)||0)/_;b&&(a.lineWidth=b)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/_,right:(parseFloat(i.borderRightWidth)||0)/_,bottom:(parseFloat(i.borderBottomWidth)||0)/_,left:(parseFloat(i.borderLeftWidth)||0)/_},a.lineWidth.top||(a.lineWidth.right?p="borderRightColor":a.lineWidth.bottom?p="borderBottomColor":a.lineWidth.left&&(p="borderLeftColor"));var N=bm(e,function(O){return s.getComputedStyle(O)[p]});N!=null&&(a.lineColor=N);var C=["left","right","center","justify"];C.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),C=["middle","bottom","top"],C.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var I=parseInt(i.fontSize||"");isNaN(I)||(a.fontSize=I/l);var k=WT(i);k&&(a.fontStyle=k);var j=(i.fontFamily||"").toLowerCase();return n.indexOf(j)!==-1&&(a.font=j),a}function WT(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function bm(n,e){var t=qb(n,e);if(!t)return null;var i=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function qb(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:qb(n.parentElement,e):t}function KT(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,a=t.map(function(c){return parseInt(c||"0")/i}),l=Ah(a,0);return s>l.top&&(l.top=s),s>l.bottom&&(l.bottom=s),l}function jb(n,e,t,i,s){var a,l;i===void 0&&(i=!1),s===void 0&&(s=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),p=[],_=[],S=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:p,body:_,foot:S};for(var b=0;b<c.rows.length;b++){var N=c.rows[b],C=(l=(a=N==null?void 0:N.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),I=XT(f,d,t,N,i,s);I&&(C==="thead"?p.push(I):C==="tfoot"?S.push(I):_.push(I))}return{head:p,body:_,foot:S}}function XT(n,e,t,i,s,a){for(var l=new Ob(i),c=0;c<i.cells.length;c++){var f=i.cells[c],d=t.getComputedStyle(f);if(s||d.display!=="none"){var p=void 0;a&&(p=YT(n,f,e,d,t)),l.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:p,_element:f,content:ZT(f)})}}var _=t.getComputedStyle(i);if(l.length>0&&(s||_.display!=="none"))return l}function ZT(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function QT(n,e,t){for(var i=0,s=[n,e,t];i<s.length;i++){var a=s[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Eo(n,e,t,i,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a}function Hb(n,e){var t=new Sc(n),i=t.getDocumentOptions(),s=t.getGlobalOptions();QT(s,i,e);var a=Eo({},s,i,e),l;typeof window<"u"&&(l=window);var c=e4(s,i,e),f=t4(s,i,e),d=n4(t,a),p=r4(t,a,l);return{id:e.tableId,content:p,hooks:f,styles:c,settings:d}}function e4(n,e,t){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var d=n[f],p=e[f],_=t[f];i.columnStyles=Eo({},d,p,_)}else{var S=[n,e,t],b=S.map(function(N){return N[f]||{}});i[f]=Eo({},b[0],b[1],b[2])}},a=0,l=Object.keys(i);a<l.length;a++){var c=l[a];s(c)}return i}function t4(n,e,t){for(var i=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=i;a<l.length;a++){var c=l[a];c.didParseCell&&s.didParseCell.push(c.didParseCell),c.willDrawCell&&s.willDrawCell.push(c.willDrawCell),c.didDrawCell&&s.didDrawCell.push(c.didDrawCell),c.willDrawPage&&s.willDrawPage.push(c.willDrawPage),c.didDrawPage&&s.didDrawPage.push(c.didDrawPage)}return s}function n4(n,e){var t,i,s,a,l,c,f,d,p,_,S,b,N=Ah(e.margin,40/n.scaleFactor()),C=(t=i4(n,e.startY))!==null&&t!==void 0?t:N.top,I;e.showFoot===!0?I="everyPage":e.showFoot===!1?I="never":I=(i=e.showFoot)!==null&&i!==void 0?i:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var j=(a=e.useCss)!==null&&a!==void 0?a:!1,O=e.theme||(j?"plain":"striped"),U=!!e.horizontalPageBreak,ee=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:j,theme:O,startY:C,margin:N,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:k,showFoot:I,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(S=e.tableLineColor)!==null&&S!==void 0?S:200,horizontalPageBreak:U,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function i4(n,e){var t=n.getLastAutoTable(),i=n.scaleFactor(),s=n.pageNumber(),a=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;a=l===s}return typeof e=="number"?e:(e==null||e===!1)&&a&&(t==null?void 0:t.finalY)!=null?t.finalY+20/i:null}function r4(n,e,t){var i=e.head||[],s=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var c=jb(n,e.html,t,l,e.useCss)||{};i=c.head||i,s=c.body||i,a=c.foot||i}else console.error("Cannot parse html in non browser environment")}var f=e.columns||s4(i,s,a);return{columns:f,head:i,body:s,foot:a}}function s4(n,e,t){var i=n[0]||e[0]||t[0]||[],s=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,c;Array.isArray(i)?c=i[parseInt(a)]:c=i[a],typeof c=="object"&&!Array.isArray(c)&&(l=(c==null?void 0:c.colSpan)||1);for(var f=0;f<l;f++){var d=void 0;Array.isArray(i)?d=s.length:d=a+(f>0?"_".concat(f):"");var p={dataKey:d};s.push(p)}}),s}var Jm=(function(){function n(e,t,i){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=i,this.doc=e.getDocument()}return n})(),a4=(function(n){Db(e,n);function e(t,i,s,a,l,c){var f=n.call(this,t,i,c)||this;return f.cell=s,f.row=a,f.column=l,f.section=a.section,f}return e})(Jm),o4=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,i){return t+i.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,i,s,a,l){for(var c=0,f=t;c<f.length;c++){var d=f[c],p=new a4(e,this,i,s,a,l),_=d(p)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],_)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var a=s[i];a(new Jm(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var a=s[i];a(new Jm(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return t}else{var i=this.settings.margin;return e-i.left-i.right}},n})(),zb=(function(){function n(e,t,i,s,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof Ob&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=i,this.cells=s,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(i,s){var a;return Math.max(i,((a=t.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(i){var s=t.cells[i.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var i=this;return e.reduce(function(s,a){var l=i.cells[a.index];if(!l)return 0;var c=t.getLineHeight(l.styles.fontSize),f=l.padding("vertical"),d=f+c;return d>s?d:s},0)},n})(),Gb=(function(){function n(e,t,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=i,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,a=i*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Ah(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),l4=(function(){function n(e,t,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=i}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,i=0,s=e.allRows();i<s.length;i++){var a=s[i],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n})();function u4(n,e){c4(n,e);var t=[],i=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,t.push(a)),i+=a.width});var s=e.getWidth(n.pageSize().width)-i;s&&(s=Ym(t,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=Ym(t,s,function(a){return a.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),d4(e),h4(e,n),f4(e)}function c4(n,e){var t=n.scaleFactor(),i=e.settings.horizontalPageBreak,s=Fb(n,e);e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var f=c[l],d=a.cells[f.index];if(d){var p=e.hooks.didParseCell;e.callCellHooks(n,p,d,a,f,null);var _=d.padding("horizontal");d.contentWidth=ch(d.text,d.styles,n)+_;var S=ch(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=S+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||i===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var b=10/t;d.minWidth=d.styles.minCellWidth||b,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var f=c[l],d=a.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var p=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},_=p.cellWidth||p.minCellWidth;_&&typeof _=="number"&&(f.minWidth=_,f.wrappedWidth=_)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function Ym(n,e,t){for(var i=e,s=n.reduce(function(b,N){return b+N.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],c=l.wrappedWidth/s,f=i*c,d=l.width+f,p=t(l),_=d<p?p:d;e-=_-l.width,l.width=_}if(e=Math.round(e*1e10)/1e10,e){var S=n.filter(function(b){return e<0?b.width>t(b):!0});S.length&&(e=Ym(S,e,t))}return e}function f4(n){for(var e={},t=1,i=n.allRows(),s=0;s<i.length;s++)for(var a=i[s],l=0,c=n.columns;l<c.length;l++){var f=c[l],d=e[f.index];if(t>1)t--,delete a.cells[f.index];else if(d)d.cell.height+=a.height,t=d.cell.colSpan,delete a.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var p=a.cells[f.index];if(!p)continue;if(p.height=a.height,p.rowSpan>1){var _=i.length-s,S=p.rowSpan>_?_:p.rowSpan;e[f.index]={cell:p,left:S,row:a}}}}}function d4(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var i=e[t],s=null,a=0,l=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(l-=1,l>1&&n.columns[c+1])a+=f.width,delete i.cells[f.index];else if(s){var d=s;delete i.cells[f.index],s=null,d.width=f.width+a}else{var d=i.cells[f.index];if(!d)continue;if(l=d.colSpan,a=0,d.colSpan>1){s=d,a+=f.width;continue}d.width=f.width+a}}}function h4(n,e){for(var t={count:0,height:0},i=0,s=n.allRows();i<s.length;i++){for(var a=s[i],l=0,c=n.columns;l<c.length;l++){var f=c[l],d=a.cells[f.index];if(d){e.applyStyles(d.styles,!0);var p=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,p+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=kv(d.text,p,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=kv(d.text,p,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var _=d.styles.overflow(d.text,p);typeof _=="string"?d.text=[_]:d.text=_}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var S=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<S*d.rowSpan?t={height:S,count:d.rowSpan}:t&&t.count>0&&t.height>S&&(S=t.height),S>a.height&&(a.height=S)}}t.count--}}function kv(n,e,t,i,s){return n.map(function(a){return p4(a,e,t,i,s)})}function p4(n,e,t,i,s){var a=1e4*i.scaleFactor();if(e=Math.ceil(e*a)/a,e>=ch(n,t,i))return n;for(;e<ch(n+s,t,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function Vb(n,e){var t=new Sc(n),i=m4(e,t.scaleFactor()),s=new o4(e,i);return u4(t,s),t.applyStyles(t.userStyles),s}function m4(n,e){var t=n.content,i=y4(t.columns);if(t.head.length===0){var s=Lv(i,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=Lv(i,"foot");s&&t.foot.push(s)}var a=n.settings.theme,l=n.styles;return{columns:i,head:_m("head",t.head,i,l,a,e),body:_m("body",t.body,i,l,a,e),foot:_m("foot",t.foot,i,l,a,e)}}function _m(n,e,t,i,s,a){var l={},c=e.map(function(f,d){for(var p=0,_={},S=0,b=0,N=0,C=t;N<C.length;N++){var I=C[N];if(l[I.index]==null||l[I.index].left===0)if(b===0){var k=void 0;Array.isArray(f)?k=f[I.index-S-p]:k=f[I.dataKey];var j={};typeof k=="object"&&!Array.isArray(k)&&(j=(k==null?void 0:k.styles)||{});var O=v4(n,I,d,s,i,a,j),U=new Gb(k,O,n);_[I.dataKey]=U,_[I.index]=U,b=U.colSpan-1,l[I.index]={left:U.rowSpan-1,times:b}}else b--,S++;else l[I.index].left--,b=l[I.index].times,p++}return new zb(f,d,n,_)});return c}function Lv(n,e){var t={};return n.forEach(function(i){if(i.raw!=null){var s=g4(e,i.raw);s!=null&&(t[i.dataKey]=s)}}),Object.keys(t).length>0?t:null}function g4(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function y4(n){return n.map(function(e,t){var i,s;return typeof e=="object"?s=(i=e.dataKey)!==null&&i!==void 0?i:t:s=t,new l4(s,e,t)})}function v4(n,e,t,i,s,a,l){var c=JT(i),f;n==="head"?f=s.headStyles:n==="body"?f=s.bodyStyles:n==="foot"&&(f=s.footStyles);var d=Eo({},c.table,c[n],s.styles,f),p=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},_=n==="body"?p:{},S=n==="body"&&t%2===0?Eo({},c.alternateRow,s.alternateRowStyles):{},b=$T(a),N=Eo({},b,d,S,_);return Eo(N,l)}function b4(n,e,t){var i;t===void 0&&(t={});var s=Fb(n,e),a=new Map,l=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(S){var b=e.columns.find(function(N){return N.dataKey===S||N.index===S});b&&!a.has(b.index)&&(a.set(b.index,!0),l.push(b.index),c.push(e.columns[b.index]),s-=b.wrappedWidth)});for(var d=!0,p=(i=t==null?void 0:t.start)!==null&&i!==void 0?i:0;p<e.columns.length;){if(a.has(p)){p++;continue}var _=e.columns[p].wrappedWidth;if(d||s>=_)d=!1,l.push(p),c.push(e.columns[p]),s-=_;else break;p++}return{colIndexes:l,columns:c,lastIndex:p-1}}function _4(n,e){for(var t=[],i=0;i<e.columns.length;i++){var s=b4(n,e,{start:i});s.columns.length&&(t.push(s),i=s.lastIndex)}return t}function $b(n,e){var t=e.settings,i=t.startY,s=t.margin,a={x:s.left,y:i},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=i+s.bottom+l;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(S,b){return S+b.height},0);c+=d}var p=new Sc(n);(t.pageBreak==="always"||t.startY!=null&&c>p.pageSize().height)&&(Yb(p),a.y=s.top),e.callWillDrawPageHooks(p,a);var _=Eo({},a);e.startPageNumber=p.pageNumber(),t.horizontalPageBreak?w4(p,e,_,a):(p.applyStyles(p.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(S){return To(p,e,S,a,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(S,b){var N=b===e.body.length-1;fh(p,e,S,N,_,a,e.columns)}),p.applyStyles(p.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(S){return To(p,e,S,a,e.columns)})),Ub(p,e,_,a),e.callEndPageHooks(p,a),e.finalY=a.y,n.lastAutoTable=e,p.applyStyles(p.userStyles)}function w4(n,e,t,i){var s=_4(n,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,p){n.applyStyles(n.userStyles),p>0?Ef(n,e,t,i,d.columns,!0):Iv(n,e,i,d.columns),S4(n,e,t,i,d.columns),wm(n,e,i,d.columns)});else for(var l=-1,c=s[0],f=function(){var d=l;if(c){n.applyStyles(n.userStyles);var p=c.columns;l>=0?Ef(n,e,t,i,p,!0):Iv(n,e,i,p),d=Mv(n,e,l+1,i,p),wm(n,e,i,p)}var _=d-l;s.slice(1).forEach(function(S){n.applyStyles(n.userStyles),Ef(n,e,t,i,S.columns,!0),Mv(n,e,l+1,i,S.columns,_),wm(n,e,i,S.columns)}),l=d};l<e.body.length-1;)f()}function Iv(n,e,t,i){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(a){return To(n,e,a,t,i)})}function S4(n,e,t,i,s){n.applyStyles(n.userStyles),e.body.forEach(function(a,l){var c=l===e.body.length-1;fh(n,e,a,c,t,i,s)})}function Mv(n,e,t,i,s,a){n.applyStyles(n.userStyles),a=a??e.body.length;var l=Math.min(t+a,e.body.length),c=-1;return e.body.slice(t,l).forEach(function(f,d){var p=t+d===e.body.length-1,_=Jb(n,e,p,i);f.canEntireRowFit(_,s)&&(To(n,e,f,i,s),c=t+d)}),c}function wm(n,e,t,i){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(a){return To(n,e,a,t,i)})}function x4(n,e,t){var i=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),a=Math.floor((e-s)/i);return Math.max(0,a)}function A4(n,e,t,i){var s={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,c=t.columns;l<c.length;l++){var f=c[l],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var p=new Gb(d.raw,d.styles,d.section);p=Eo(p,d),p.text=[];var _=x4(d,e,i);d.text.length>_&&(p.text=d.text.splice(_,d.text.length));var S=i.scaleFactor(),b=i.getLineHeightFactor();d.contentHeight=d.getContentHeight(S,b),d.contentHeight>=e&&(d.contentHeight=e,p.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),p.contentHeight=p.getContentHeight(S,b),p.contentHeight>a&&(a=p.contentHeight),s[f.index]=p}}var N=new zb(n.raw,-1,n.section,s,!0);N.height=a;for(var C=0,I=t.columns;C<I.length;C++){var f=I[C],p=N.cells[f.index];p&&(p.height=N.height);var d=n.cells[f.index];d&&(d.height=n.height)}return N}function E4(n,e,t,i){var s=n.pageSize().height,a=i.settings.margin,l=a.top+a.bottom,c=s-l;e.section==="body"&&(c-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var f=e.getMinimumRowHeight(i.columns,n),d=f<t;if(f>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var p=e.hasRowSpan(i.columns),_=e.getMaxCellHeight(i.columns)>c;return _?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||i.settings.rowPageBreak==="avoid")}function fh(n,e,t,i,s,a,l){var c=Jb(n,e,i,a);if(t.canEntireRowFit(c,l))To(n,e,t,a,l);else if(E4(n,t,c,e)){var f=A4(t,c,e,n);To(n,e,t,a,l),Ef(n,e,s,a,l),fh(n,e,f,i,s,a,l)}else Ef(n,e,s,a,l),fh(n,e,t,i,s,a,l)}function To(n,e,t,i,s){i.x=e.settings.margin.left;for(var a=0,l=s;a<l.length;a++){var c=l[a],f=t.cells[c.index];if(!f){i.x+=c.width;continue}n.applyStyles(f.styles),f.x=i.x,f.y=i.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,c,i);if(d===!1){i.x+=c.width;continue}T4(n,f,i);var p=f.getTextPos();Pb(f.text,p.x,p.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,c,i),i.x+=c.width}i.y+=t.height}function T4(n,e,t){var i=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=Bb(i.lineWidth,i.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),N4(n,e,t,i.lineWidth))}function N4(n,e,t,i){var s,a,l,c;i.top&&(s=t.x,a=t.y,l=t.x+e.width,c=t.y,i.right&&(l+=.5*i.right),i.left&&(s-=.5*i.left),f(i.top,s,a,l,c)),i.bottom&&(s=t.x,a=t.y+e.height,l=t.x+e.width,c=t.y+e.height,i.right&&(l+=.5*i.right),i.left&&(s-=.5*i.left),f(i.bottom,s,a,l,c)),i.left&&(s=t.x,a=t.y,l=t.x,c=t.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),f(i.left,s,a,l,c)),i.right&&(s=t.x+e.width,a=t.y,l=t.x+e.width,c=t.y+e.height,i.top&&(a-=.5*i.top),i.bottom&&(c+=.5*i.bottom),f(i.right,s,a,l,c));function f(d,p,_,S,b){n.getDocument().setLineWidth(d),n.getDocument().line(p,_,S,b,"S")}}function Jb(n,e,t,i){var s=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-i.y-s}function Ef(n,e,t,i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return To(n,e,c,i,s)}),e.callEndPageHooks(n,i);var l=e.settings.margin;Ub(n,e,t,i),Yb(n),e.pageNumber++,i.x=l.left,i.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,i),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return To(n,e,c,i,s)}),n.applyStyles(n.userStyles))}function Yb(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function C4(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],s=Hb(this,i),a=Vb(this,s);return $b(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,i,s){Pb(e,t,i,s,this)},n.API.autoTableSetDefaults=function(e){return Sc.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Sc.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var i;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Sc(this),a=jb(s,e,window,t,!1),l=a.head,c=a.body,f=((i=l[0])===null||i===void 0?void 0:i.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var Sm;function Wb(n,e){var t=Hb(n,e),i=Vb(n,t);$b(n,i)}try{if(typeof window<"u"&&window){var Pv=window,Dv=Pv.jsPDF||((Sm=Pv.jspdf)===null||Sm===void 0?void 0:Sm.jsPDF);Dv&&C4(Dv)}}catch(n){console.error("Could not apply autoTable plugin",n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R4,k4;function L4(){return{geminiUrl:R4,vertexUrl:k4}}function I4(n,e,t,i){var s,a;if(!(n!=null&&n.baseUrl)){const l=L4();return e?(s=l.vertexUrl)!==null&&s!==void 0?s:t:(a=l.geminiUrl)!==null&&a!==void 0?a:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co{}function nt(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function y(n,e,t){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in n))if(Array.isArray(t))n[c]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[c])){const f=n[c];if(Array.isArray(t))for(let d=0;d<f.length;d++){const p=f[d];y(p,e.slice(a+1),t[d])}else for(const d of f)y(d,e.slice(a+1),t)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in n||(n[c]=[{}]);const f=n[c];y(f[0],e.slice(a+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const i=e[e.length-1],s=n[i];if(s!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===s)return;if(typeof s=="object"&&typeof t=="object"&&s!==null&&t!==null)Object.assign(s,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function m(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in n){const l=n[a];return Array.isArray(l)?l.map(c=>m(c,e.slice(i+1),t)):t}else return t}else n=n[s]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function M4(n,e){for(const[t,i]of Object.entries(e)){const s=t.split("."),a=i.split("."),l=new Set;let c=-1;for(let f=0;f<s.length;f++)if(s[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Wm(n,s,a,0,l)}}function Wm(n,e,t,i,s){if(i>=e.length||typeof n!="object"||n===null)return;const a=e[i];if(a.endsWith("[]")){const l=a.slice(0,-2),c=n;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Wm(f,e,t,i+1,s)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!s.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,p]of Object.entries(f)){const _=[];for(const S of t.slice(i))S==="*"?_.push(d):_.push(S);y(l,_,p)}for(const d of c)delete l[d]}}else{const l=n;a in l&&Wm(l[a],e,t,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A0(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P4(n){const e={},t=m(n,["operationName"]);t!=null&&y(e,["operationName"],t);const i=m(n,["resourceName"]);return i!=null&&y(e,["_url","resourceName"],i),e}function D4(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],U4(l)),e}function O4(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response"]);return l!=null&&y(e,["response"],B4(l)),e}function U4(n){const e={},t=m(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(l=>F4(l))),y(e,["generatedVideos"],a)}const i=m(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=m(n,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function B4(n){const e={},t=m(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(l=>q4(l))),y(e,["generatedVideos"],a)}const i=m(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=m(n,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function F4(n){const e={},t=m(n,["video"]);return t!=null&&y(e,["video"],$4(t)),e}function q4(n){const e={},t=m(n,["_self"]);return t!=null&&y(e,["video"],J4(t)),e}function j4(n){const e={},t=m(n,["operationName"]);return t!=null&&y(e,["_url","operationName"],t),e}function H4(n){const e={},t=m(n,["operationName"]);return t!=null&&y(e,["_url","operationName"],t),e}function z4(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response"]);return l!=null&&y(e,["response"],G4(l)),e}function G4(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["parent"]);i!=null&&y(e,["parent"],i);const s=m(n,["documentName"]);return s!=null&&y(e,["documentName"],s),e}function Kb(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response"]);return l!=null&&y(e,["response"],V4(l)),e}function V4(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["parent"]);i!=null&&y(e,["parent"],i);const s=m(n,["documentName"]);return s!=null&&y(e,["documentName"],s),e}function $4(n){const e={},t=m(n,["uri"]);t!=null&&y(e,["uri"],t);const i=m(n,["encodedVideo"]);i!=null&&y(e,["videoBytes"],A0(i));const s=m(n,["encoding"]);return s!=null&&y(e,["mimeType"],s),e}function J4(n){const e={},t=m(n,["gcsUri"]);t!=null&&y(e,["uri"],t);const i=m(n,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],A0(i));const s=m(n,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ov;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ov||(Ov={}));var Uv;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Uv||(Uv={}));var Bv;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Bv||(Bv={}));var Cr;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Cr||(Cr={}));var Fv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Fv||(Fv={}));var qv;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qv||(qv={}));var jv;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(jv||(jv={}));var Hv;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Hv||(Hv={}));var zv;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zv||(zv={}));var Gv;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Gv||(Gv={}));var Vv;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Vv||(Vv={}));var $v;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})($v||($v={}));var Jv;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Jv||(Jv={}));var Yv;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Yv||(Yv={}));var Wv;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Wv||(Wv={}));var Kv;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kv||(Kv={}));var Xv;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xv||(Xv={}));var Zv;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Zv||(Zv={}));var Qv;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qv||(Qv={}));var dh;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(dh||(dh={}));var e2;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(e2||(e2={}));var t2;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(t2||(t2={}));var n2;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(n2||(n2={}));var Km;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Km||(Km={}));var i2;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(i2||(i2={}));var r2;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(r2||(r2={}));var s2;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(s2||(s2={}));var a2;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(a2||(a2={}));var o2;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(o2||(o2={}));var l2;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(l2||(l2={}));var u2;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(u2||(u2={}));var c2;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(c2||(c2={}));var f2;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(f2||(f2={}));var d2;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(d2||(d2={}));var h2;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(h2||(h2={}));var p2;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(p2||(p2={}));var m2;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(m2||(m2={}));var g2;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(g2||(g2={}));var y2;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(y2||(y2={}));var v2;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(v2||(v2={}));var b2;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(b2||(b2={}));var _2;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(_2||(_2={}));var w2;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(w2||(w2={}));var S2;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(S2||(S2={}));var x2;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(x2||(x2={}));var A2;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(A2||(A2={}));var E2;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(E2||(E2={}));var T2;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(T2||(T2={}));var N2;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(N2||(N2={}));var C2;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(C2||(C2={}));var R2;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(R2||(R2={}));var k2;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(k2||(k2={}));var L2;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(L2||(L2={}));var I2;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(I2||(I2={}));var yc;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(yc||(yc={}));class Xm{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class wf{get text(){var e,t,i,s,a,l,c,f;if(((s=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const _=[];for(const S of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[b,N]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&_.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;p=!0,d+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,t,i,s,a,l,c,f;if(((s=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const _ of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[S,b]of Object.entries(_))S!=="inlineData"&&(b!==null||b!==void 0)&&p.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(d+=atob(_.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,i,s,a,l,c,f;if(((s=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,i,s,a,l,c,f,d;if(((s=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,i,s,a,l,c,f,d;if(((s=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class M2{}class P2{}class Y4{}class W4{}class K4{}class X4{}class D2{}class O2{}class U2{}class Z4{}class hh{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new hh;let s;const a=e;return t?s=O4(a):s=D4(a),Object.assign(i,s),i}}class B2{}class F2{}class q2{}class Q4{}class e3{}class t3{}class E0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new E0,a=z4(e);return Object.assign(i,a),i}}class n3{}class i3{}class r3{}class j2{}class s3{get text(){var e,t,i;let s="",a=!1;const l=[];for(const c of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,s+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,t,i;let s="";const a=[];for(const l of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class a3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class T0{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new T0,a=Kb(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wn(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Xb(n,e){const t=wn(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Zb(n){return Array.isArray(n)?n.map(e=>ph(e)):[ph(n)]}function ph(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Qb(n){const e=ph(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function e_(n){const e=ph(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function H2(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function t_(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>H2(e)):[H2(n)]}function Zm(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function z2(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function G2(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Rr(n){if(n==null)throw new Error("ContentUnion is required");return Zm(n)?n:{role:"user",parts:t_(n)}}function N0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Rr(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Rr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Rr(t)):[Rr(e)]}function js(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(z2(n)||G2(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rr(n)]}const e=[],t=[],i=Zm(n[0]);for(const s of n){const a=Zm(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(z2(s)||G2(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(s)}}return i||e.push({role:"user",parts:t_(t)}),e}function o3(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Cr).includes(t[0].toUpperCase())?t[0].toUpperCase():Cr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Cr).includes(i.toUpperCase())?i.toUpperCase():Cr.TYPE_UNSPECIFIED})}}function xc(n){const e={},t=["items"],i=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&o3(n.type,e);for(const[l,c]of Object.entries(n))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Cr).includes(c.toUpperCase())?c.toUpperCase():Cr.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=xc(c);else if(i.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(xc(d))}e[l]=f}else if(s.includes(l)){const f={};for(const[d,p]of Object.entries(c))f[d]=xc(p);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function C0(n){return xc(n)}function R0(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function k0(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function kc(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xc(e.response));return n}function Lc(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function l3(n,e,t,i=1){const s=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:s?`${t}/${e}`:e}function Ro(n,e){if(typeof e!="string")throw new Error("name must be a string");return l3(n,e,"cachedContents")}function n_(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function gl(n){return A0(n)}function u3(n){return n!=null&&typeof n=="object"&&"name"in n}function c3(n){return n!=null&&typeof n=="object"&&"video"in n}function f3(n){return n!=null&&typeof n=="object"&&"uri"in n}function i_(n){var e;let t;if(u3(n)&&(t=n.name),!(f3(n)&&(t=n.uri,t===void 0))&&!(c3(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const s=t.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${t}`);t=s[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function r_(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function s_(n){for(const e of["models","tunedModels","publisherModels"])if(d3(n,e))return n[e];return[]}function d3(n,e){return n!==null&&typeof n=="object"&&e in n}function h3(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function p3(n,e={}){const t=[],i=new Set;for(const s of n){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=h3(s,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function a_(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,s=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function m3(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function o_(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const s=t.inlinedResponses;if(!Array.isArray(s)||s.length===0)return n;let a=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ic(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function l_(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g3(n){const e={},t=m(n,["responsesFile"]);t!=null&&y(e,["fileName"],t);const i=m(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>K3(l))),y(e,["inlinedResponses"],a)}const s=m(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["inlinedEmbedContentResponses"],a)}return e}function y3(n){const e={},t=m(n,["predictionsFormat"]);t!=null&&y(e,["format"],t);const i=m(n,["gcsDestination","outputUriPrefix"]);i!=null&&y(e,["gcsUri"],i);const s=m(n,["bigqueryDestination","outputUri"]);return s!=null&&y(e,["bigqueryUri"],s),e}function v3(n){const e={},t=m(n,["format"]);t!=null&&y(e,["predictionsFormat"],t);const i=m(n,["gcsUri"]);i!=null&&y(e,["gcsDestination","outputUriPrefix"],i);const s=m(n,["bigqueryUri"]);if(s!=null&&y(e,["bigqueryDestination","outputUri"],s),m(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function nh(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata","displayName"]);i!=null&&y(e,["displayName"],i);const s=m(n,["metadata","state"]);s!=null&&y(e,["state"],l_(s));const a=m(n,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const l=m(n,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const c=m(n,["metadata","updateTime"]);c!=null&&y(e,["updateTime"],c);const f=m(n,["metadata","model"]);f!=null&&y(e,["model"],f);const d=m(n,["metadata","output"]);return d!=null&&y(e,["dest"],g3(o_(d))),e}function Qm(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["displayName"]);i!=null&&y(e,["displayName"],i);const s=m(n,["state"]);s!=null&&y(e,["state"],l_(s));const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["createTime"]);l!=null&&y(e,["createTime"],l);const c=m(n,["startTime"]);c!=null&&y(e,["startTime"],c);const f=m(n,["endTime"]);f!=null&&y(e,["endTime"],f);const d=m(n,["updateTime"]);d!=null&&y(e,["updateTime"],d);const p=m(n,["model"]);p!=null&&y(e,["model"],p);const _=m(n,["inputConfig"]);_!=null&&y(e,["src"],b3(_));const S=m(n,["outputConfig"]);S!=null&&y(e,["dest"],y3(o_(S)));const b=m(n,["completionStats"]);return b!=null&&y(e,["completionStats"],b),e}function b3(n){const e={},t=m(n,["instancesFormat"]);t!=null&&y(e,["format"],t);const i=m(n,["gcsSource","uris"]);i!=null&&y(e,["gcsUri"],i);const s=m(n,["bigquerySource","inputUri"]);return s!=null&&y(e,["bigqueryUri"],s),e}function _3(n,e){const t={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=m(e,["fileName"]);i!=null&&y(t,["fileName"],i);const s=m(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>W3(n,l))),y(t,["requests","requests"],a)}return t}function w3(n){const e={},t=m(n,["format"]);t!=null&&y(e,["instancesFormat"],t);const i=m(n,["gcsUri"]);i!=null&&y(e,["gcsSource","uris"],i);const s=m(n,["bigqueryUri"]);if(s!=null&&y(e,["bigquerySource","inputUri"],s),m(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function S3(n){const e={},t=m(n,["data"]);if(t!=null&&y(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function x3(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ic(n,i)),t}function A3(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ic(n,i)),t}function E3(n){const e={},t=m(n,["content"]);t!=null&&y(e,["content"],t);const i=m(n,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],T3(i));const s=m(n,["tokenCount"]);s!=null&&y(e,["tokenCount"],s);const a=m(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const l=m(n,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=m(n,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const f=m(n,["index"]);f!=null&&y(e,["index"],f);const d=m(n,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const p=m(n,["safetyRatings"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(b=>b)),y(e,["safetyRatings"],S)}const _=m(n,["urlContextMetadata"]);return _!=null&&y(e,["urlContextMetadata"],_),e}function T3(n){const e={},t=m(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["citations"],i)}return e}function u_(n){const e={},t=m(n,["parts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>iN(a))),y(e,["parts"],s)}const i=m(n,["role"]);return i!=null&&y(e,["role"],i),e}function N3(n,e){const t={},i=m(n,["displayName"]);if(e!==void 0&&i!=null&&y(e,["batch","displayName"],i),m(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function C3(n,e){const t={},i=m(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const s=m(n,["dest"]);return e!==void 0&&s!=null&&y(e,["outputConfig"],v3(m3(s))),t}function V2(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["src"]);s!=null&&y(t,["batch","inputConfig"],_3(n,a_(n,s)));const a=m(e,["config"]);return a!=null&&N3(a,t),t}function R3(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["model"],wn(n,i));const s=m(e,["src"]);s!=null&&y(t,["inputConfig"],w3(a_(n,s)));const a=m(e,["config"]);return a!=null&&C3(a,t),t}function k3(n,e){const t={},i=m(n,["displayName"]);return e!==void 0&&i!=null&&y(e,["batch","displayName"],i),t}function L3(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["src"]);s!=null&&y(t,["batch","inputConfig"],B3(n,s));const a=m(e,["config"]);return a!=null&&k3(a,t),t}function I3(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ic(n,i)),t}function M3(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ic(n,i)),t}function P3(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["name"]);i!=null&&y(e,["name"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);return a!=null&&y(e,["error"],a),e}function D3(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["name"]);i!=null&&y(e,["name"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);return a!=null&&y(e,["error"],a),e}function O3(n,e){const t={},i=m(e,["contents"]);if(i!=null){let a=N0(n,i);Array.isArray(a)&&(a=a.map(l=>l)),y(t,["requests[]","request","content"],a)}const s=m(e,["config"]);return s!=null&&(y(t,["_self"],U3(s,t)),M4(t,{"requests[].*":"requests[].request.*"})),t}function U3(n,e){const t={},i=m(n,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const s=m(n,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);const a=m(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),m(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function B3(n,e){const t={},i=m(e,["fileName"]);i!=null&&y(t,["file_name"],i);const s=m(e,["inlinedRequests"]);return s!=null&&y(t,["requests"],O3(n,s)),t}function F3(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function q3(n){const e={},t=m(n,["id"]);t!=null&&y(e,["id"],t);const i=m(n,["args"]);i!=null&&y(e,["args"],i);const s=m(n,["name"]);if(s!=null&&y(e,["name"],s),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function j3(n){const e={},t=m(n,["mode"]);t!=null&&y(e,["mode"],t);const i=m(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function H3(n,e,t){const i={},s=m(e,["systemInstruction"]);t!==void 0&&s!=null&&y(t,["systemInstruction"],u_(Rr(s)));const a=m(e,["temperature"]);a!=null&&y(i,["temperature"],a);const l=m(e,["topP"]);l!=null&&y(i,["topP"],l);const c=m(e,["topK"]);c!=null&&y(i,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(i,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&y(i,["stopSequences"],p);const _=m(e,["responseLogprobs"]);_!=null&&y(i,["responseLogprobs"],_);const S=m(e,["logprobs"]);S!=null&&y(i,["logprobs"],S);const b=m(e,["presencePenalty"]);b!=null&&y(i,["presencePenalty"],b);const N=m(e,["frequencyPenalty"]);N!=null&&y(i,["frequencyPenalty"],N);const C=m(e,["seed"]);C!=null&&y(i,["seed"],C);const I=m(e,["responseMimeType"]);I!=null&&y(i,["responseMimeType"],I);const k=m(e,["responseSchema"]);k!=null&&y(i,["responseSchema"],C0(k));const j=m(e,["responseJsonSchema"]);if(j!=null&&y(i,["responseJsonSchema"],j),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=m(e,["safetySettings"]);if(t!==void 0&&O!=null){let $=O;Array.isArray($)&&($=$.map(ie=>rN(ie))),y(t,["safetySettings"],$)}const U=m(e,["tools"]);if(t!==void 0&&U!=null){let $=Lc(U);Array.isArray($)&&($=$.map(ie=>aN(kc(ie)))),y(t,["tools"],$)}const ee=m(e,["toolConfig"]);if(t!==void 0&&ee!=null&&y(t,["toolConfig"],sN(ee)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=m(e,["cachedContent"]);t!==void 0&&oe!=null&&y(t,["cachedContent"],Ro(n,oe));const re=m(e,["responseModalities"]);re!=null&&y(i,["responseModalities"],re);const se=m(e,["mediaResolution"]);se!=null&&y(i,["mediaResolution"],se);const H=m(e,["speechConfig"]);if(H!=null&&y(i,["speechConfig"],R0(H)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=m(e,["thinkingConfig"]);le!=null&&y(i,["thinkingConfig"],le);const F=m(e,["imageConfig"]);return F!=null&&y(i,["imageConfig"],Y3(F)),i}function z3(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>E3(d))),y(e,["candidates"],f)}const s=m(n,["modelVersion"]);s!=null&&y(e,["modelVersion"],s);const a=m(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const l=m(n,["responseId"]);l!=null&&y(e,["responseId"],l);const c=m(n,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function G3(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ic(n,i)),t}function V3(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ic(n,i)),t}function $3(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function J3(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function Y3(n){const e={},t=m(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=m(n,["imageSize"]);if(i!=null&&y(e,["imageSize"],i),m(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function W3(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["request","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let c=js(s);Array.isArray(c)&&(c=c.map(f=>u_(f))),y(t,["request","contents"],c)}const a=m(e,["metadata"]);a!=null&&y(t,["metadata"],a);const l=m(e,["config"]);return l!=null&&y(t,["request","generationConfig"],H3(n,l,m(t,["request"],{}))),t}function K3(n){const e={},t=m(n,["response"]);t!=null&&y(e,["response"],z3(t));const i=m(n,["error"]);return i!=null&&y(e,["error"],i),e}function X3(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);if(e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),m(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Z3(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);e!==void 0&&s!=null&&y(e,["_query","pageToken"],s);const a=m(n,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),t}function Q3(n){const e={},t=m(n,["config"]);return t!=null&&X3(t,e),e}function eN(n){const e={},t=m(n,["config"]);return t!=null&&Z3(t,e),e}function tN(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>nh(l))),y(e,["batchJobs"],a)}return e}function nN(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Qm(l))),y(e,["batchJobs"],a)}return e}function iN(n){const e={},t=m(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=m(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=m(n,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=m(n,["fileData"]);a!=null&&y(e,["fileData"],F3(a));const l=m(n,["functionCall"]);l!=null&&y(e,["functionCall"],q3(l));const c=m(n,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&y(e,["inlineData"],S3(f));const d=m(n,["text"]);d!=null&&y(e,["text"],d);const p=m(n,["thought"]);p!=null&&y(e,["thought"],p);const _=m(n,["thoughtSignature"]);_!=null&&y(e,["thoughtSignature"],_);const S=m(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function rN(n){const e={},t=m(n,["category"]);if(t!=null&&y(e,["category"],t),m(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(n,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function sN(n){const e={},t=m(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],j3(t));const i=m(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function aN(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(_=>_)),y(e,["functionDeclarations"],p)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=m(n,["computerUse"]);s!=null&&y(e,["computerUse"],s);const a=m(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=m(n,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&y(e,["googleMaps"],$3(c));const f=m(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],J3(f));const d=m(n,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var No;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(No||(No={}));class fu{constructor(e,t,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,s)}init(e,t,i){var s,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN extends Co{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new fu(No.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=V2(this.apiClient,e),i=t._url,s=nt("{model}:batchGenerateContent",i),c=t.batch.inputConfig.requests,f=c.requests,d=[];for(const p of f){const _=Object.assign({},p);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const b=_.request;b.systemInstruction=S,_.request=b}d.push(_)}return c.requests=d,delete t.config,delete t._url,delete t._query,{path:s,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(l)i.dest=`${l}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=R3(this.apiClient,e);return c=nt("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Qm(p))}else{const d=V2(this.apiClient,e);return c=nt("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>nh(p))}}async createEmbeddingsInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=L3(this.apiClient,e);return a=nt("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>nh(f))}}async get(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=V3(this.apiClient,e);return c=nt("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Qm(p))}else{const d=G3(this.apiClient,e);return c=nt("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>nh(p))}}async cancel(e){var t,i,s,a;let l="",c={};if(this.apiClient.isVertexAI()){const f=A3(this.apiClient,e);l=nt("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=x3(this.apiClient,e);l=nt("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=eN(e);return c=nt("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=nN(p),S=new j2;return Object.assign(S,_),S})}else{const d=Q3(e);return c=nt("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=tN(p),S=new j2;return Object.assign(S,_),S})}}async delete(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=M3(this.apiClient,e);return c=nt("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>D3(p))}else{const d=I3(this.apiClient,e);return c=nt("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>P3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lN(n){const e={},t=m(n,["data"]);if(t!=null&&y(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function $2(n){const e={},t=m(n,["parts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>LN(a))),y(e,["parts"],s)}const i=m(n,["role"]);return i!=null&&y(e,["role"],i),e}function uN(n,e){const t={},i=m(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=m(n,["expireTime"]);e!==void 0&&s!=null&&y(e,["expireTime"],s);const a=m(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=m(n,["contents"]);if(e!==void 0&&l!=null){let p=js(l);Array.isArray(p)&&(p=p.map(_=>$2(_))),y(e,["contents"],p)}const c=m(n,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],$2(Rr(c)));const f=m(n,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(_=>MN(_))),y(e,["tools"],p)}const d=m(n,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],IN(d)),m(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function cN(n,e){const t={},i=m(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=m(n,["expireTime"]);e!==void 0&&s!=null&&y(e,["expireTime"],s);const a=m(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=m(n,["contents"]);if(e!==void 0&&l!=null){let _=js(l);Array.isArray(_)&&(_=_.map(S=>S)),y(e,["contents"],_)}const c=m(n,["systemInstruction"]);e!==void 0&&c!=null&&y(e,["systemInstruction"],Rr(c));const f=m(n,["tools"]);if(e!==void 0&&f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>PN(S))),y(e,["tools"],_)}const d=m(n,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const p=m(n,["kmsKeyName"]);return e!==void 0&&p!=null&&y(e,["encryption_spec","kmsKeyName"],p),t}function fN(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["model"],Xb(n,i));const s=m(e,["config"]);return s!=null&&uN(s,t),t}function dN(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["model"],Xb(n,i));const s=m(e,["config"]);return s!=null&&cN(s,t),t}function hN(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ro(n,i)),t}function pN(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ro(n,i)),t}function mN(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function gN(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function yN(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function vN(n){const e={},t=m(n,["id"]);t!=null&&y(e,["id"],t);const i=m(n,["args"]);i!=null&&y(e,["args"],i);const s=m(n,["name"]);if(s!=null&&y(e,["name"],s),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bN(n){const e={},t=m(n,["mode"]);t!=null&&y(e,["mode"],t);const i=m(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _N(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=m(n,["description"]);t!=null&&y(e,["description"],t);const i=m(n,["name"]);i!=null&&y(e,["name"],i);const s=m(n,["parameters"]);s!=null&&y(e,["parameters"],s);const a=m(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=m(n,["response"]);l!=null&&y(e,["response"],l);const c=m(n,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function wN(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ro(n,i)),t}function SN(n,e){const t={},i=m(e,["name"]);return i!=null&&y(t,["_url","name"],Ro(n,i)),t}function xN(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function AN(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function EN(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),t}function TN(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),t}function NN(n){const e={},t=m(n,["config"]);return t!=null&&EN(t,e),e}function CN(n){const e={},t=m(n,["config"]);return t!=null&&TN(t,e),e}function RN(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["cachedContents"],a)}return e}function kN(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["cachedContents"],a)}return e}function LN(n){const e={},t=m(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=m(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=m(n,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=m(n,["fileData"]);a!=null&&y(e,["fileData"],yN(a));const l=m(n,["functionCall"]);l!=null&&y(e,["functionCall"],vN(l));const c=m(n,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&y(e,["inlineData"],lN(f));const d=m(n,["text"]);d!=null&&y(e,["text"],d);const p=m(n,["thought"]);p!=null&&y(e,["thought"],p);const _=m(n,["thoughtSignature"]);_!=null&&y(e,["thoughtSignature"],_);const S=m(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function IN(n){const e={},t=m(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],bN(t));const i=m(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function MN(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(_=>_)),y(e,["functionDeclarations"],p)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=m(n,["computerUse"]);s!=null&&y(e,["computerUse"],s);const a=m(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=m(n,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&y(e,["googleMaps"],xN(c));const f=m(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],AN(f));const d=m(n,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function PN(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(S=>_N(S))),y(e,["functionDeclarations"],_)}const i=m(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const s=m(n,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(n,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(n,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(n,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const p=m(n,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function DN(n,e){const t={},i=m(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=m(n,["expireTime"]);return e!==void 0&&s!=null&&y(e,["expireTime"],s),t}function ON(n,e){const t={},i=m(n,["ttl"]);e!==void 0&&i!=null&&y(e,["ttl"],i);const s=m(n,["expireTime"]);return e!==void 0&&s!=null&&y(e,["expireTime"],s),t}function UN(n,e){const t={},i=m(e,["name"]);i!=null&&y(t,["_url","name"],Ro(n,i));const s=m(e,["config"]);return s!=null&&DN(s,t),t}function BN(n,e){const t={},i=m(e,["name"]);i!=null&&y(t,["_url","name"],Ro(n,i));const s=m(e,["config"]);return s!=null&&ON(s,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FN extends Co{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new fu(No.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=dN(this.apiClient,e);return c=nt("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=fN(this.apiClient,e);return c=nt("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=SN(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=wN(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=pN(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=gN(p),S=new F2;return Object.assign(S,_),S})}else{const d=hN(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=mN(p),S=new F2;return Object.assign(S,_),S})}}async update(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=BN(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const d=UN(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=CN(e);return c=nt("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=kN(p),S=new q2;return Object.assign(S,_),S})}else{const d=NN(e);return c=nt("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=RN(p),S=new q2;return Object.assign(S,_),S})}}}function J2(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(n){return this instanceof ei?(this.v=n,this):new ei(n)}function Ac(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(b){return function(N){return Promise.resolve(N).then(b,_)}}function c(b,N){i[b]&&(s[b]=function(C){return new Promise(function(I,k){a.push([b,C,I,k])>1||f(b,C)})},N&&(s[b]=N(s[b])))}function f(b,N){try{d(i[b](N))}catch(C){S(a[0][3],C)}}function d(b){b.value instanceof ei?Promise.resolve(b.value.v).then(p,_):S(a[0][2],b)}function p(b){f("next",b)}function _(b){f("throw",b)}function S(b,N){b(N),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Tf(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof J2=="function"?J2(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(l){return new Promise(function(c,f){l=n[a](l),s(c,f,l.done,l.value)})}}function s(a,l,c,f){Promise.resolve(f).then(function(d){a({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:c_(t)}function c_(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function jN(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Y2(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const s=[];let a=!0;for(;i<t&&n[i].role==="model";)s.push(n[i]),a&&!c_(n[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class HN{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new zN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zN{constructor(e,t,i,s={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),jN(a)}async sendMessage(e){var t;await this.sendPromise;const i=Rr(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,l,c;const f=await s,d=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,p=f.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];p!=null&&(S=(c=p.slice(_))!==null&&c!==void 0?c:[]);const b=d?[d]:[];this.recordHistory(i,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var t;await this.sendPromise;const i=Rr(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const t=e?Y2(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,s;return Ac(this,arguments,function*(){var l,c,f,d;const p=[];try{for(var _=!0,S=Tf(e),b;b=yield ei(S.next()),l=b.done,!l;_=!0){d=b.value,_=!1;const N=d;if(qN(N)){const C=(s=(i=N.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;C!==void 0&&p.push(C)}yield yield ei(N)}}catch(N){c={error:N}}finally{try{!_&&!l&&(f=S.return)&&(yield ei(f.call(S)))}finally{if(c)throw c.error}}this.recordHistory(t,p)})}recordHistory(e,t,i){let s=[];t.length>0&&t.every(a=>a.role!==void 0)?s=t:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Y2(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Eh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GN(n){const e={},t=m(n,["file"]);return t!=null&&y(e,["file"],t),e}function VN(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function $N(n){const e={},t=m(n,["name"]);return t!=null&&y(e,["_url","file"],i_(t)),e}function JN(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function YN(n){const e={},t=m(n,["name"]);return t!=null&&y(e,["_url","file"],i_(t)),e}function WN(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),t}function KN(n){const e={},t=m(n,["config"]);return t!=null&&WN(t,e),e}function XN(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZN extends Co{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new fu(No.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KN(e);return a=nt("files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const d=XN(f),p=new n3;return Object.assign(p,d),p})}}async createInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=GN(e);return a=nt("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=VN(f),p=new i3;return Object.assign(p,d),p})}}async get(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YN(e);return a=nt("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$N(e);return a=nt("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const d=JN(f),p=new r3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ih(n){const e={},t=m(n,["data"]);if(t!=null&&y(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function QN(n){const e={},t=m(n,["parts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>mC(a))),y(e,["parts"],s)}const i=m(n,["role"]);return i!=null&&y(e,["role"],i),e}function eC(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function tC(n){const e={},t=m(n,["id"]);t!=null&&y(e,["id"],t);const i=m(n,["args"]);i!=null&&y(e,["args"],i);const s=m(n,["name"]);if(s!=null&&y(e,["name"],s),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nC(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=m(n,["description"]);t!=null&&y(e,["description"],t);const i=m(n,["name"]);i!=null&&y(e,["name"],i);const s=m(n,["parameters"]);s!=null&&y(e,["parameters"],s);const a=m(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=m(n,["response"]);l!=null&&y(e,["response"],l);const c=m(n,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function iC(n){const e={},t=m(n,["modelSelectionConfig"]);t!=null&&y(e,["modelConfig"],t);const i=m(n,["responseJsonSchema"]);i!=null&&y(e,["responseJsonSchema"],i);const s=m(n,["audioTimestamp"]);s!=null&&y(e,["audioTimestamp"],s);const a=m(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const l=m(n,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const c=m(n,["frequencyPenalty"]);c!=null&&y(e,["frequencyPenalty"],c);const f=m(n,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=m(n,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const p=m(n,["mediaResolution"]);p!=null&&y(e,["mediaResolution"],p);const _=m(n,["presencePenalty"]);_!=null&&y(e,["presencePenalty"],_);const S=m(n,["responseLogprobs"]);S!=null&&y(e,["responseLogprobs"],S);const b=m(n,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const N=m(n,["responseModalities"]);N!=null&&y(e,["responseModalities"],N);const C=m(n,["responseSchema"]);C!=null&&y(e,["responseSchema"],C);const I=m(n,["routingConfig"]);I!=null&&y(e,["routingConfig"],I);const k=m(n,["seed"]);k!=null&&y(e,["seed"],k);const j=m(n,["speechConfig"]);j!=null&&y(e,["speechConfig"],f_(j));const O=m(n,["stopSequences"]);O!=null&&y(e,["stopSequences"],O);const U=m(n,["temperature"]);U!=null&&y(e,["temperature"],U);const ee=m(n,["thinkingConfig"]);ee!=null&&y(e,["thinkingConfig"],ee);const oe=m(n,["topK"]);oe!=null&&y(e,["topK"],oe);const re=m(n,["topP"]);if(re!=null&&y(e,["topP"],re),m(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function rC(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function sC(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function aC(n,e){const t={},i=m(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const s=m(n,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const a=m(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=m(n,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(n,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(n,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(n,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const p=m(n,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const _=m(n,["speechConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","speechConfig"],k0(_));const S=m(n,["thinkingConfig"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","thinkingConfig"],S);const b=m(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=m(n,["systemInstruction"]);e!==void 0&&N!=null&&y(e,["setup","systemInstruction"],QN(Rr(N)));const C=m(n,["tools"]);if(e!==void 0&&C!=null){let oe=Lc(C);Array.isArray(oe)&&(oe=oe.map(re=>yC(kc(re)))),y(e,["setup","tools"],oe)}const I=m(n,["sessionResumption"]);e!==void 0&&I!=null&&y(e,["setup","sessionResumption"],gC(I));const k=m(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&y(e,["setup","inputAudioTranscription"],k);const j=m(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","outputAudioTranscription"],j);const O=m(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&y(e,["setup","realtimeInputConfig"],O);const U=m(n,["contextWindowCompression"]);e!==void 0&&U!=null&&y(e,["setup","contextWindowCompression"],U);const ee=m(n,["proactivity"]);return e!==void 0&&ee!=null&&y(e,["setup","proactivity"],ee),t}function oC(n,e){const t={},i=m(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],iC(i));const s=m(n,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const a=m(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=m(n,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(n,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(n,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(n,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const p=m(n,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const _=m(n,["speechConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","speechConfig"],f_(k0(_)));const S=m(n,["thinkingConfig"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","thinkingConfig"],S);const b=m(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=m(n,["systemInstruction"]);e!==void 0&&N!=null&&y(e,["setup","systemInstruction"],Rr(N));const C=m(n,["tools"]);if(e!==void 0&&C!=null){let oe=Lc(C);Array.isArray(oe)&&(oe=oe.map(re=>vC(kc(re)))),y(e,["setup","tools"],oe)}const I=m(n,["sessionResumption"]);e!==void 0&&I!=null&&y(e,["setup","sessionResumption"],I);const k=m(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&y(e,["setup","inputAudioTranscription"],k);const j=m(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","outputAudioTranscription"],j);const O=m(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&y(e,["setup","realtimeInputConfig"],O);const U=m(n,["contextWindowCompression"]);e!==void 0&&U!=null&&y(e,["setup","contextWindowCompression"],U);const ee=m(n,["proactivity"]);return e!==void 0&&ee!=null&&y(e,["setup","proactivity"],ee),t}function lC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["setup","model"],wn(n,i));const s=m(e,["config"]);return s!=null&&y(t,["config"],aC(s,t)),t}function uC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["setup","model"],wn(n,i));const s=m(e,["config"]);return s!=null&&y(t,["config"],oC(s,t)),t}function cC(n){const e={},t=m(n,["musicGenerationConfig"]);return t!=null&&y(e,["musicGenerationConfig"],t),e}function fC(n){const e={},t=m(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["weightedPrompts"],i)}return e}function dC(n){const e={},t=m(n,["media"]);if(t!=null){let d=Zb(t);Array.isArray(d)&&(d=d.map(p=>ih(p))),y(e,["mediaChunks"],d)}const i=m(n,["audio"]);i!=null&&y(e,["audio"],ih(e_(i)));const s=m(n,["audioStreamEnd"]);s!=null&&y(e,["audioStreamEnd"],s);const a=m(n,["video"]);a!=null&&y(e,["video"],ih(Qb(a)));const l=m(n,["text"]);l!=null&&y(e,["text"],l);const c=m(n,["activityStart"]);c!=null&&y(e,["activityStart"],c);const f=m(n,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function hC(n){const e={},t=m(n,["media"]);if(t!=null){let d=Zb(t);Array.isArray(d)&&(d=d.map(p=>p)),y(e,["mediaChunks"],d)}const i=m(n,["audio"]);i!=null&&y(e,["audio"],e_(i));const s=m(n,["audioStreamEnd"]);s!=null&&y(e,["audioStreamEnd"],s);const a=m(n,["video"]);a!=null&&y(e,["video"],Qb(a));const l=m(n,["text"]);l!=null&&y(e,["text"],l);const c=m(n,["activityStart"]);c!=null&&y(e,["activityStart"],c);const f=m(n,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function pC(n){const e={},t=m(n,["setupComplete"]);t!=null&&y(e,["setupComplete"],t);const i=m(n,["serverContent"]);i!=null&&y(e,["serverContent"],i);const s=m(n,["toolCall"]);s!=null&&y(e,["toolCall"],s);const a=m(n,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const l=m(n,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],bC(l));const c=m(n,["goAway"]);c!=null&&y(e,["goAway"],c);const f=m(n,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function mC(n){const e={},t=m(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=m(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=m(n,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=m(n,["fileData"]);a!=null&&y(e,["fileData"],eC(a));const l=m(n,["functionCall"]);l!=null&&y(e,["functionCall"],tC(l));const c=m(n,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&y(e,["inlineData"],ih(f));const d=m(n,["text"]);d!=null&&y(e,["text"],d);const p=m(n,["thought"]);p!=null&&y(e,["thought"],p);const _=m(n,["thoughtSignature"]);_!=null&&y(e,["thoughtSignature"],_);const S=m(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function gC(n){const e={},t=m(n,["handle"]);if(t!=null&&y(e,["handle"],t),m(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function f_(n){const e={},t=m(n,["languageCode"]);t!=null&&y(e,["languageCode"],t);const i=m(n,["voiceConfig"]);if(i!=null&&y(e,["voiceConfig"],i),m(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function yC(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(_=>_)),y(e,["functionDeclarations"],p)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=m(n,["computerUse"]);s!=null&&y(e,["computerUse"],s);const a=m(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=m(n,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&y(e,["googleMaps"],rC(c));const f=m(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],sC(f));const d=m(n,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function vC(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(S=>nC(S))),y(e,["functionDeclarations"],_)}const i=m(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const s=m(n,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(n,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(n,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(n,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const p=m(n,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function bC(n){const e={},t=m(n,["promptTokenCount"]);t!=null&&y(e,["promptTokenCount"],t);const i=m(n,["cachedContentTokenCount"]);i!=null&&y(e,["cachedContentTokenCount"],i);const s=m(n,["candidatesTokenCount"]);s!=null&&y(e,["responseTokenCount"],s);const a=m(n,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const l=m(n,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const c=m(n,["totalTokenCount"]);c!=null&&y(e,["totalTokenCount"],c);const f=m(n,["promptTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(N=>N)),y(e,["promptTokensDetails"],b)}const d=m(n,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(N=>N)),y(e,["cacheTokensDetails"],b)}const p=m(n,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(N=>N)),y(e,["responseTokensDetails"],b)}const _=m(n,["toolUsePromptTokensDetails"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(N=>N)),y(e,["toolUsePromptTokensDetails"],b)}const S=m(n,["trafficType"]);return S!=null&&y(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(n){const e={},t=m(n,["data"]);if(t!=null&&y(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function wC(n){const e={},t=m(n,["content"]);t!=null&&y(e,["content"],t);const i=m(n,["citationMetadata"]);i!=null&&y(e,["citationMetadata"],SC(i));const s=m(n,["tokenCount"]);s!=null&&y(e,["tokenCount"],s);const a=m(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const l=m(n,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const c=m(n,["groundingMetadata"]);c!=null&&y(e,["groundingMetadata"],c);const f=m(n,["index"]);f!=null&&y(e,["index"],f);const d=m(n,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const p=m(n,["safetyRatings"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(b=>b)),y(e,["safetyRatings"],S)}const _=m(n,["urlContextMetadata"]);return _!=null&&y(e,["urlContextMetadata"],_),e}function SC(n){const e={},t=m(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>s)),y(e,["citations"],i)}return e}function xC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let a=js(s);Array.isArray(a)&&(a=a.map(l=>l)),y(t,["contents"],a)}return t}function AC(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["tokensInfo"],s)}return e}function EC(n){const e={},t=m(n,["values"]);t!=null&&y(e,["values"],t);const i=m(n,["statistics"]);return i!=null&&y(e,["statistics"],TC(i)),e}function TC(n){const e={},t=m(n,["truncated"]);t!=null&&y(e,["truncated"],t);const i=m(n,["token_count"]);return i!=null&&y(e,["tokenCount"],i),e}function Th(n){const e={},t=m(n,["parts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>D6(a))),y(e,["parts"],s)}const i=m(n,["role"]);return i!=null&&y(e,["role"],i),e}function NC(n){const e={},t=m(n,["controlType"]);t!=null&&y(e,["controlType"],t);const i=m(n,["enableControlImageComputation"]);return i!=null&&y(e,["computeControl"],i),e}function CC(n){const e={};if(m(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function RC(n,e){const t={},i=m(n,["systemInstruction"]);e!==void 0&&i!=null&&y(e,["systemInstruction"],Rr(i));const s=m(n,["tools"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>g_(c))),y(e,["tools"],l)}const a=m(n,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],_6(a)),t}function kC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let l=js(s);Array.isArray(l)&&(l=l.map(c=>Th(c))),y(t,["contents"],l)}const a=m(e,["config"]);return a!=null&&CC(a),t}function LC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let l=js(s);Array.isArray(l)&&(l=l.map(c=>c)),y(t,["contents"],l)}const a=m(e,["config"]);return a!=null&&RC(a,t),t}function IC(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["totalTokens"]);i!=null&&y(e,["totalTokens"],i);const s=m(n,["cachedContentTokenCount"]);return s!=null&&y(e,["cachedContentTokenCount"],s),e}function MC(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["totalTokens"]);return i!=null&&y(e,["totalTokens"],i),e}function PC(n,e){const t={},i=m(e,["model"]);return i!=null&&y(t,["_url","name"],wn(n,i)),t}function DC(n,e){const t={},i=m(e,["model"]);return i!=null&&y(t,["_url","name"],wn(n,i)),t}function OC(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function UC(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}function BC(n,e){const t={},i=m(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const s=m(n,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);const a=m(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const l=m(n,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=m(n,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const f=m(n,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=m(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const p=m(n,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const _=m(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&y(e,["parameters","includeSafetyAttributes"],_);const S=m(n,["includeRaiReason"]);e!==void 0&&S!=null&&y(e,["parameters","includeRaiReason"],S);const b=m(n,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const N=m(n,["outputMimeType"]);e!==void 0&&N!=null&&y(e,["parameters","outputOptions","mimeType"],N);const C=m(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&y(e,["parameters","outputOptions","compressionQuality"],C);const I=m(n,["addWatermark"]);e!==void 0&&I!=null&&y(e,["parameters","addWatermark"],I);const k=m(n,["labels"]);e!==void 0&&k!=null&&y(e,["labels"],k);const j=m(n,["editMode"]);e!==void 0&&j!=null&&y(e,["parameters","editMode"],j);const O=m(n,["baseSteps"]);return e!==void 0&&O!=null&&y(e,["parameters","editConfig","baseSteps"],O),t}function FC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["prompt"]);s!=null&&y(t,["instances[0]","prompt"],s);const a=m(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>j6(f))),y(t,["instances[0]","referenceImages"],c)}const l=m(e,["config"]);return l!=null&&BC(l,t),t}function qC(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Nh(a))),y(e,["generatedImages"],s)}return e}function jC(n,e){const t={},i=m(n,["taskType"]);e!==void 0&&i!=null&&y(e,["requests[]","taskType"],i);const s=m(n,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);const a=m(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),m(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function HC(n,e){const t={},i=m(n,["taskType"]);e!==void 0&&i!=null&&y(e,["instances[]","task_type"],i);const s=m(n,["title"]);e!==void 0&&s!=null&&y(e,["instances[]","title"],s);const a=m(n,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const l=m(n,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const c=m(n,["autoTruncate"]);return e!==void 0&&c!=null&&y(e,["parameters","autoTruncate"],c),t}function zC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let c=N0(n,s);Array.isArray(c)&&(c=c.map(f=>f)),y(t,["requests[]","content"],c)}const a=m(e,["config"]);a!=null&&jC(a,t);const l=m(e,["model"]);return l!==void 0&&y(t,["requests[]","model"],wn(n,l)),t}function GC(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let l=N0(n,s);Array.isArray(l)&&(l=l.map(c=>c)),y(t,["instances[]","content"],l)}const a=m(e,["config"]);return a!=null&&HC(a,t),t}function VC(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["embeddings"],a)}const s=m(n,["metadata"]);return s!=null&&y(e,["metadata"],s),e}function $C(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>EC(l))),y(e,["embeddings"],a)}const s=m(n,["metadata"]);return s!=null&&y(e,["metadata"],s),e}function JC(n){const e={},t=m(n,["endpoint"]);t!=null&&y(e,["name"],t);const i=m(n,["deployedModelId"]);return i!=null&&y(e,["deployedModelId"],i),e}function YC(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function WC(n){const e={},t=m(n,["id"]);t!=null&&y(e,["id"],t);const i=m(n,["args"]);i!=null&&y(e,["args"],i);const s=m(n,["name"]);if(s!=null&&y(e,["name"],s),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KC(n){const e={},t=m(n,["mode"]);t!=null&&y(e,["mode"],t);const i=m(n,["allowedFunctionNames"]);if(i!=null&&y(e,["allowedFunctionNames"],i),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XC(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=m(n,["description"]);t!=null&&y(e,["description"],t);const i=m(n,["name"]);i!=null&&y(e,["name"],i);const s=m(n,["parameters"]);s!=null&&y(e,["parameters"],s);const a=m(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const l=m(n,["response"]);l!=null&&y(e,["response"],l);const c=m(n,["responseJsonSchema"]);return c!=null&&y(e,["responseJsonSchema"],c),e}function ZC(n,e,t){const i={},s=m(e,["systemInstruction"]);t!==void 0&&s!=null&&y(t,["systemInstruction"],Th(Rr(s)));const a=m(e,["temperature"]);a!=null&&y(i,["temperature"],a);const l=m(e,["topP"]);l!=null&&y(i,["topP"],l);const c=m(e,["topK"]);c!=null&&y(i,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(i,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&y(i,["stopSequences"],p);const _=m(e,["responseLogprobs"]);_!=null&&y(i,["responseLogprobs"],_);const S=m(e,["logprobs"]);S!=null&&y(i,["logprobs"],S);const b=m(e,["presencePenalty"]);b!=null&&y(i,["presencePenalty"],b);const N=m(e,["frequencyPenalty"]);N!=null&&y(i,["frequencyPenalty"],N);const C=m(e,["seed"]);C!=null&&y(i,["seed"],C);const I=m(e,["responseMimeType"]);I!=null&&y(i,["responseMimeType"],I);const k=m(e,["responseSchema"]);k!=null&&y(i,["responseSchema"],C0(k));const j=m(e,["responseJsonSchema"]);if(j!=null&&y(i,["responseJsonSchema"],j),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=m(e,["safetySettings"]);if(t!==void 0&&O!=null){let $=O;Array.isArray($)&&($=$.map(ie=>H6(ie))),y(t,["safetySettings"],$)}const U=m(e,["tools"]);if(t!==void 0&&U!=null){let $=Lc(U);Array.isArray($)&&($=$.map(ie=>W6(kc(ie)))),y(t,["tools"],$)}const ee=m(e,["toolConfig"]);if(t!==void 0&&ee!=null&&y(t,["toolConfig"],Y6(ee)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=m(e,["cachedContent"]);t!==void 0&&oe!=null&&y(t,["cachedContent"],Ro(n,oe));const re=m(e,["responseModalities"]);re!=null&&y(i,["responseModalities"],re);const se=m(e,["mediaResolution"]);se!=null&&y(i,["mediaResolution"],se);const H=m(e,["speechConfig"]);if(H!=null&&y(i,["speechConfig"],R0(H)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const le=m(e,["thinkingConfig"]);le!=null&&y(i,["thinkingConfig"],le);const F=m(e,["imageConfig"]);return F!=null&&y(i,["imageConfig"],E6(F)),i}function QC(n,e,t){const i={},s=m(e,["systemInstruction"]);t!==void 0&&s!=null&&y(t,["systemInstruction"],Rr(s));const a=m(e,["temperature"]);a!=null&&y(i,["temperature"],a);const l=m(e,["topP"]);l!=null&&y(i,["topP"],l);const c=m(e,["topK"]);c!=null&&y(i,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&y(i,["maxOutputTokens"],d);const p=m(e,["stopSequences"]);p!=null&&y(i,["stopSequences"],p);const _=m(e,["responseLogprobs"]);_!=null&&y(i,["responseLogprobs"],_);const S=m(e,["logprobs"]);S!=null&&y(i,["logprobs"],S);const b=m(e,["presencePenalty"]);b!=null&&y(i,["presencePenalty"],b);const N=m(e,["frequencyPenalty"]);N!=null&&y(i,["frequencyPenalty"],N);const C=m(e,["seed"]);C!=null&&y(i,["seed"],C);const I=m(e,["responseMimeType"]);I!=null&&y(i,["responseMimeType"],I);const k=m(e,["responseSchema"]);k!=null&&y(i,["responseSchema"],C0(k));const j=m(e,["responseJsonSchema"]);j!=null&&y(i,["responseJsonSchema"],j);const O=m(e,["routingConfig"]);O!=null&&y(i,["routingConfig"],O);const U=m(e,["modelSelectionConfig"]);U!=null&&y(i,["modelConfig"],U);const ee=m(e,["safetySettings"]);if(t!==void 0&&ee!=null){let te=ee;Array.isArray(te)&&(te=te.map(pe=>pe)),y(t,["safetySettings"],te)}const oe=m(e,["tools"]);if(t!==void 0&&oe!=null){let te=Lc(oe);Array.isArray(te)&&(te=te.map(pe=>g_(kc(pe)))),y(t,["tools"],te)}const re=m(e,["toolConfig"]);t!==void 0&&re!=null&&y(t,["toolConfig"],re);const se=m(e,["labels"]);t!==void 0&&se!=null&&y(t,["labels"],se);const H=m(e,["cachedContent"]);t!==void 0&&H!=null&&y(t,["cachedContent"],Ro(n,H));const le=m(e,["responseModalities"]);le!=null&&y(i,["responseModalities"],le);const F=m(e,["mediaResolution"]);F!=null&&y(i,["mediaResolution"],F);const $=m(e,["speechConfig"]);$!=null&&y(i,["speechConfig"],m_(R0($)));const ie=m(e,["audioTimestamp"]);ie!=null&&y(i,["audioTimestamp"],ie);const ae=m(e,["thinkingConfig"]);ae!=null&&y(i,["thinkingConfig"],ae);const xe=m(e,["imageConfig"]);return xe!=null&&y(i,["imageConfig"],T6(xe)),i}function W2(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let l=js(s);Array.isArray(l)&&(l=l.map(c=>Th(c))),y(t,["contents"],l)}const a=m(e,["config"]);return a!=null&&y(t,["generationConfig"],ZC(n,a,t)),t}function K2(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["contents"]);if(s!=null){let l=js(s);Array.isArray(l)&&(l=l.map(c=>c)),y(t,["contents"],l)}const a=m(e,["config"]);return a!=null&&y(t,["generationConfig"],QC(n,a,t)),t}function X2(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>wC(d))),y(e,["candidates"],f)}const s=m(n,["modelVersion"]);s!=null&&y(e,["modelVersion"],s);const a=m(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const l=m(n,["responseId"]);l!=null&&y(e,["responseId"],l);const c=m(n,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function Z2(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>p)),y(e,["candidates"],d)}const s=m(n,["createTime"]);s!=null&&y(e,["createTime"],s);const a=m(n,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const l=m(n,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const c=m(n,["responseId"]);c!=null&&y(e,["responseId"],c);const f=m(n,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function e6(n,e){const t={};if(m(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(n,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const s=m(n,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const a=m(n,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),m(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const c=m(n,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const f=m(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=m(n,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const p=m(n,["language"]);e!==void 0&&p!=null&&y(e,["parameters","language"],p);const _=m(n,["outputMimeType"]);e!==void 0&&_!=null&&y(e,["parameters","outputOptions","mimeType"],_);const S=m(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&y(e,["parameters","outputOptions","compressionQuality"],S),m(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=m(n,["imageSize"]);if(e!==void 0&&b!=null&&y(e,["parameters","sampleImageSize"],b),m(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function t6(n,e){const t={},i=m(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const s=m(n,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);const a=m(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const l=m(n,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const c=m(n,["guidanceScale"]);e!==void 0&&c!=null&&y(e,["parameters","guidanceScale"],c);const f=m(n,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=m(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const p=m(n,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const _=m(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&y(e,["parameters","includeSafetyAttributes"],_);const S=m(n,["includeRaiReason"]);e!==void 0&&S!=null&&y(e,["parameters","includeRaiReason"],S);const b=m(n,["language"]);e!==void 0&&b!=null&&y(e,["parameters","language"],b);const N=m(n,["outputMimeType"]);e!==void 0&&N!=null&&y(e,["parameters","outputOptions","mimeType"],N);const C=m(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&y(e,["parameters","outputOptions","compressionQuality"],C);const I=m(n,["addWatermark"]);e!==void 0&&I!=null&&y(e,["parameters","addWatermark"],I);const k=m(n,["labels"]);e!==void 0&&k!=null&&y(e,["labels"],k);const j=m(n,["imageSize"]);e!==void 0&&j!=null&&y(e,["parameters","sampleImageSize"],j);const O=m(n,["enhancePrompt"]);return e!==void 0&&O!=null&&y(e,["parameters","enhancePrompt"],O),t}function n6(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["prompt"]);s!=null&&y(t,["instances[0]","prompt"],s);const a=m(e,["config"]);return a!=null&&e6(a,t),t}function i6(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["prompt"]);s!=null&&y(t,["instances[0]","prompt"],s);const a=m(e,["config"]);return a!=null&&t6(a,t),t}function r6(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>g6(l))),y(e,["generatedImages"],a)}const s=m(n,["positivePromptSafetyAttributes"]);return s!=null&&y(e,["positivePromptSafetyAttributes"],h_(s)),e}function s6(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Nh(l))),y(e,["generatedImages"],a)}const s=m(n,["positivePromptSafetyAttributes"]);return s!=null&&y(e,["positivePromptSafetyAttributes"],p_(s)),e}function a6(n,e){const t={},i=m(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i),m(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(n,["durationSeconds"]);if(e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s),m(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=m(n,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const l=m(n,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const c=m(n,["personGeneration"]);if(e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c),m(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(n,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=m(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),m(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=m(n,["lastFrame"]);e!==void 0&&p!=null&&y(e,["instances[0]","lastFrame"],Ch(p));const _=m(n,["referenceImages"]);if(e!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(b=>lR(b))),y(e,["instances[0]","referenceImages"],S)}if(m(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function o6(n,e){const t={},i=m(n,["numberOfVideos"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const s=m(n,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);const a=m(n,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const l=m(n,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const c=m(n,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=m(n,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=m(n,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const p=m(n,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const _=m(n,["pubsubTopic"]);e!==void 0&&_!=null&&y(e,["parameters","pubsubTopic"],_);const S=m(n,["negativePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","negativePrompt"],S);const b=m(n,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const N=m(n,["generateAudio"]);e!==void 0&&N!=null&&y(e,["parameters","generateAudio"],N);const C=m(n,["lastFrame"]);e!==void 0&&C!=null&&y(e,["instances[0]","lastFrame"],xa(C));const I=m(n,["referenceImages"]);if(e!==void 0&&I!=null){let O=I;Array.isArray(O)&&(O=O.map(U=>uR(U))),y(e,["instances[0]","referenceImages"],O)}const k=m(n,["mask"]);e!==void 0&&k!=null&&y(e,["instances[0]","mask"],oR(k));const j=m(n,["compressionQuality"]);return e!==void 0&&j!=null&&y(e,["parameters","compressionQuality"],j),t}function l6(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],d6(l)),e}function u6(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response"]);return l!=null&&y(e,["response"],h6(l)),e}function c6(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["prompt"]);s!=null&&y(t,["instances[0]","prompt"],s);const a=m(e,["image"]);a!=null&&y(t,["instances[0]","image"],Ch(a));const l=m(e,["video"]);l!=null&&y(t,["instances[0]","video"],y_(l));const c=m(e,["source"]);c!=null&&p6(c,t);const f=m(e,["config"]);return f!=null&&a6(f,t),t}function f6(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["prompt"]);s!=null&&y(t,["instances[0]","prompt"],s);const a=m(e,["image"]);a!=null&&y(t,["instances[0]","image"],xa(a));const l=m(e,["video"]);l!=null&&y(t,["instances[0]","video"],v_(l));const c=m(e,["source"]);c!=null&&m6(c,t);const f=m(e,["config"]);return f!=null&&o6(f,t),t}function d6(n){const e={},t=m(n,["generatedSamples"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(l=>v6(l))),y(e,["generatedVideos"],a)}const i=m(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=m(n,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function h6(n){const e={},t=m(n,["videos"]);if(t!=null){let a=t;Array.isArray(a)&&(a=a.map(l=>b6(l))),y(e,["generatedVideos"],a)}const i=m(n,["raiMediaFilteredCount"]);i!=null&&y(e,["raiMediaFilteredCount"],i);const s=m(n,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function p6(n,e){const t={},i=m(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=m(n,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],Ch(s));const a=m(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],y_(a)),t}function m6(n,e){const t={},i=m(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=m(n,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],xa(s));const a=m(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],v_(a)),t}function g6(n){const e={},t=m(n,["_self"]);t!=null&&y(e,["image"],N6(t));const i=m(n,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const s=m(n,["_self"]);return s!=null&&y(e,["safetyAttributes"],h_(s)),e}function Nh(n){const e={},t=m(n,["_self"]);t!=null&&y(e,["image"],d_(t));const i=m(n,["raiFilteredReason"]);i!=null&&y(e,["raiFilteredReason"],i);const s=m(n,["_self"]);s!=null&&y(e,["safetyAttributes"],p_(s));const a=m(n,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function y6(n){const e={},t=m(n,["_self"]);t!=null&&y(e,["mask"],d_(t));const i=m(n,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["labels"],s)}return e}function v6(n){const e={},t=m(n,["video"]);return t!=null&&y(e,["video"],sR(t)),e}function b6(n){const e={},t=m(n,["_self"]);return t!=null&&y(e,["video"],aR(t)),e}function _6(n){const e={},t=m(n,["modelSelectionConfig"]);t!=null&&y(e,["modelConfig"],t);const i=m(n,["responseJsonSchema"]);i!=null&&y(e,["responseJsonSchema"],i);const s=m(n,["audioTimestamp"]);s!=null&&y(e,["audioTimestamp"],s);const a=m(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const l=m(n,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const c=m(n,["frequencyPenalty"]);c!=null&&y(e,["frequencyPenalty"],c);const f=m(n,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=m(n,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const p=m(n,["mediaResolution"]);p!=null&&y(e,["mediaResolution"],p);const _=m(n,["presencePenalty"]);_!=null&&y(e,["presencePenalty"],_);const S=m(n,["responseLogprobs"]);S!=null&&y(e,["responseLogprobs"],S);const b=m(n,["responseMimeType"]);b!=null&&y(e,["responseMimeType"],b);const N=m(n,["responseModalities"]);N!=null&&y(e,["responseModalities"],N);const C=m(n,["responseSchema"]);C!=null&&y(e,["responseSchema"],C);const I=m(n,["routingConfig"]);I!=null&&y(e,["routingConfig"],I);const k=m(n,["seed"]);k!=null&&y(e,["seed"],k);const j=m(n,["speechConfig"]);j!=null&&y(e,["speechConfig"],m_(j));const O=m(n,["stopSequences"]);O!=null&&y(e,["stopSequences"],O);const U=m(n,["temperature"]);U!=null&&y(e,["temperature"],U);const ee=m(n,["thinkingConfig"]);ee!=null&&y(e,["thinkingConfig"],ee);const oe=m(n,["topK"]);oe!=null&&y(e,["topK"],oe);const re=m(n,["topP"]);if(re!=null&&y(e,["topP"],re),m(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function w6(n,e){const t={},i=m(e,["model"]);return i!=null&&y(t,["_url","name"],wn(n,i)),t}function S6(n,e){const t={},i=m(e,["model"]);return i!=null&&y(t,["_url","name"],wn(n,i)),t}function x6(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function A6(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function E6(n){const e={},t=m(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=m(n,["imageSize"]);if(i!=null&&y(e,["imageSize"],i),m(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function T6(n){const e={},t=m(n,["aspectRatio"]);t!=null&&y(e,["aspectRatio"],t);const i=m(n,["imageSize"]);i!=null&&y(e,["imageSize"],i);const s=m(n,["outputMimeType"]);s!=null&&y(e,["imageOutputOptions","mimeType"],s);const a=m(n,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function N6(n){const e={},t=m(n,["bytesBase64Encoded"]);t!=null&&y(e,["imageBytes"],gl(t));const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function d_(n){const e={},t=m(n,["gcsUri"]);t!=null&&y(e,["gcsUri"],t);const i=m(n,["bytesBase64Encoded"]);i!=null&&y(e,["imageBytes"],gl(i));const s=m(n,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function Ch(n){const e={};if(m(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=m(n,["imageBytes"]);t!=null&&y(e,["bytesBase64Encoded"],gl(t));const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function xa(n){const e={},t=m(n,["gcsUri"]);t!=null&&y(e,["gcsUri"],t);const i=m(n,["imageBytes"]);i!=null&&y(e,["bytesBase64Encoded"],gl(i));const s=m(n,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function C6(n,e,t){const i={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&y(t,["_query","pageSize"],s);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=m(e,["filter"]);t!==void 0&&l!=null&&y(t,["_query","filter"],l);const c=m(e,["queryBase"]);return t!==void 0&&c!=null&&y(t,["_url","models_url"],r_(n,c)),i}function R6(n,e,t){const i={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&y(t,["_query","pageSize"],s);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=m(e,["filter"]);t!==void 0&&l!=null&&y(t,["_query","filter"],l);const c=m(e,["queryBase"]);return t!==void 0&&c!=null&&y(t,["_url","models_url"],r_(n,c)),i}function k6(n,e){const t={},i=m(e,["config"]);return i!=null&&C6(n,i,t),t}function L6(n,e){const t={},i=m(e,["config"]);return i!=null&&R6(n,i,t),t}function I6(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["_self"]);if(s!=null){let a=s_(s);Array.isArray(a)&&(a=a.map(l=>e0(l))),y(e,["models"],a)}return e}function M6(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["_self"]);if(s!=null){let a=s_(s);Array.isArray(a)&&(a=a.map(l=>t0(l))),y(e,["models"],a)}return e}function P6(n){const e={},t=m(n,["maskMode"]);t!=null&&y(e,["maskMode"],t);const i=m(n,["segmentationClasses"]);i!=null&&y(e,["maskClasses"],i);const s=m(n,["maskDilation"]);return s!=null&&y(e,["dilation"],s),e}function e0(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["displayName"]);i!=null&&y(e,["displayName"],i);const s=m(n,["description"]);s!=null&&y(e,["description"],s);const a=m(n,["version"]);a!=null&&y(e,["version"],a);const l=m(n,["_self"]);l!=null&&y(e,["tunedModelInfo"],K6(l));const c=m(n,["inputTokenLimit"]);c!=null&&y(e,["inputTokenLimit"],c);const f=m(n,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=m(n,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const p=m(n,["temperature"]);p!=null&&y(e,["temperature"],p);const _=m(n,["maxTemperature"]);_!=null&&y(e,["maxTemperature"],_);const S=m(n,["topP"]);S!=null&&y(e,["topP"],S);const b=m(n,["topK"]);b!=null&&y(e,["topK"],b);const N=m(n,["thinking"]);return N!=null&&y(e,["thinking"],N),e}function t0(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["displayName"]);i!=null&&y(e,["displayName"],i);const s=m(n,["description"]);s!=null&&y(e,["description"],s);const a=m(n,["versionId"]);a!=null&&y(e,["version"],a);const l=m(n,["deployedModels"]);if(l!=null){let _=l;Array.isArray(_)&&(_=_.map(S=>JC(S))),y(e,["endpoints"],_)}const c=m(n,["labels"]);c!=null&&y(e,["labels"],c);const f=m(n,["_self"]);f!=null&&y(e,["tunedModelInfo"],X6(f));const d=m(n,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const p=m(n,["checkpoints"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>S)),y(e,["checkpoints"],_)}return e}function D6(n){const e={},t=m(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=m(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=m(n,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=m(n,["fileData"]);a!=null&&y(e,["fileData"],YC(a));const l=m(n,["functionCall"]);l!=null&&y(e,["functionCall"],WC(l));const c=m(n,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&y(e,["inlineData"],_C(f));const d=m(n,["text"]);d!=null&&y(e,["text"],d);const p=m(n,["thought"]);p!=null&&y(e,["thought"],p);const _=m(n,["thoughtSignature"]);_!=null&&y(e,["thoughtSignature"],_);const S=m(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function O6(n){const e={},t=m(n,["productImage"]);return t!=null&&y(e,["image"],xa(t)),e}function U6(n,e){const t={},i=m(n,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const s=m(n,["baseSteps"]);e!==void 0&&s!=null&&y(e,["parameters","baseSteps"],s);const a=m(n,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const l=m(n,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const c=m(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const f=m(n,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=m(n,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const p=m(n,["outputMimeType"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","mimeType"],p);const _=m(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_);const S=m(n,["enhancePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","enhancePrompt"],S);const b=m(n,["labels"]);return e!==void 0&&b!=null&&y(e,["labels"],b),t}function B6(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["source"]);s!=null&&q6(s,t);const a=m(e,["config"]);return a!=null&&U6(a,t),t}function F6(n){const e={},t=m(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Nh(s))),y(e,["generatedImages"],i)}return e}function q6(n,e){const t={},i=m(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=m(n,["personImage"]);e!==void 0&&s!=null&&y(e,["instances[0]","personImage","image"],xa(s));const a=m(n,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>O6(c))),y(e,["instances[0]","productImages"],l)}return t}function j6(n){const e={},t=m(n,["referenceImage"]);t!=null&&y(e,["referenceImage"],xa(t));const i=m(n,["referenceId"]);i!=null&&y(e,["referenceId"],i);const s=m(n,["referenceType"]);s!=null&&y(e,["referenceType"],s);const a=m(n,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],P6(a));const l=m(n,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],NC(l));const c=m(n,["styleImageConfig"]);c!=null&&y(e,["styleImageConfig"],c);const f=m(n,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function h_(n){const e={},t=m(n,["safetyAttributes","categories"]);t!=null&&y(e,["categories"],t);const i=m(n,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const s=m(n,["contentType"]);return s!=null&&y(e,["contentType"],s),e}function p_(n){const e={},t=m(n,["safetyAttributes","categories"]);t!=null&&y(e,["categories"],t);const i=m(n,["safetyAttributes","scores"]);i!=null&&y(e,["scores"],i);const s=m(n,["contentType"]);return s!=null&&y(e,["contentType"],s),e}function H6(n){const e={},t=m(n,["category"]);if(t!=null&&y(e,["category"],t),m(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(n,["threshold"]);return i!=null&&y(e,["threshold"],i),e}function z6(n){const e={},t=m(n,["image"]);return t!=null&&y(e,["image"],xa(t)),e}function G6(n,e){const t={},i=m(n,["mode"]);e!==void 0&&i!=null&&y(e,["parameters","mode"],i);const s=m(n,["maxPredictions"]);e!==void 0&&s!=null&&y(e,["parameters","maxPredictions"],s);const a=m(n,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const l=m(n,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const c=m(n,["binaryColorThreshold"]);e!==void 0&&c!=null&&y(e,["parameters","binaryColorThreshold"],c);const f=m(n,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),t}function V6(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["source"]);s!=null&&J6(s,t);const a=m(e,["config"]);return a!=null&&G6(a,t),t}function $6(n){const e={},t=m(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>y6(s))),y(e,["generatedMasks"],i)}return e}function J6(n,e){const t={},i=m(n,["prompt"]);e!==void 0&&i!=null&&y(e,["instances[0]","prompt"],i);const s=m(n,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],xa(s));const a=m(n,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],z6(a)),t}function m_(n){const e={},t=m(n,["languageCode"]);t!=null&&y(e,["languageCode"],t);const i=m(n,["voiceConfig"]);if(i!=null&&y(e,["voiceConfig"],i),m(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Y6(n){const e={},t=m(n,["functionCallingConfig"]);t!=null&&y(e,["functionCallingConfig"],KC(t));const i=m(n,["retrievalConfig"]);return i!=null&&y(e,["retrievalConfig"],i),e}function W6(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(_=>_)),y(e,["functionDeclarations"],p)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=m(n,["computerUse"]);s!=null&&y(e,["computerUse"],s);const a=m(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=m(n,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&y(e,["googleMaps"],x6(c));const f=m(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],A6(f));const d=m(n,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function g_(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let _=t;Array.isArray(_)&&(_=_.map(S=>XC(S))),y(e,["functionDeclarations"],_)}const i=m(n,["retrieval"]);i!=null&&y(e,["retrieval"],i);const s=m(n,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=m(n,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const c=m(n,["enterpriseWebSearch"]);c!=null&&y(e,["enterpriseWebSearch"],c);const f=m(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=m(n,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const p=m(n,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function K6(n){const e={},t=m(n,["baseModel"]);t!=null&&y(e,["baseModel"],t);const i=m(n,["createTime"]);i!=null&&y(e,["createTime"],i);const s=m(n,["updateTime"]);return s!=null&&y(e,["updateTime"],s),e}function X6(n){const e={},t=m(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&y(e,["baseModel"],t);const i=m(n,["createTime"]);i!=null&&y(e,["createTime"],i);const s=m(n,["updateTime"]);return s!=null&&y(e,["updateTime"],s),e}function Z6(n,e){const t={},i=m(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const s=m(n,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);const a=m(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),t}function Q6(n,e){const t={},i=m(n,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const s=m(n,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);const a=m(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),t}function eR(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","name"],wn(n,i));const s=m(e,["config"]);return s!=null&&Z6(s,t),t}function tR(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["config"]);return s!=null&&Q6(s,t),t}function nR(n,e){const t={},i=m(n,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const s=m(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const a=m(n,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const l=m(n,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const c=m(n,["outputMimeType"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","mimeType"],c);const f=m(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=m(n,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const p=m(n,["imagePreservationFactor"]);e!==void 0&&p!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const _=m(n,["labels"]);e!==void 0&&_!=null&&y(e,["labels"],_);const S=m(n,["numberOfImages"]);e!==void 0&&S!=null&&y(e,["parameters","sampleCount"],S);const b=m(n,["mode"]);return e!==void 0&&b!=null&&y(e,["parameters","mode"],b),t}function iR(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["_url","model"],wn(n,i));const s=m(e,["image"]);s!=null&&y(t,["instances[0]","image"],xa(s));const a=m(e,["upscaleFactor"]);a!=null&&y(t,["parameters","upscaleConfig","upscaleFactor"],a);const l=m(e,["config"]);return l!=null&&nR(l,t),t}function rR(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Nh(a))),y(e,["generatedImages"],s)}return e}function sR(n){const e={},t=m(n,["uri"]);t!=null&&y(e,["uri"],t);const i=m(n,["encodedVideo"]);i!=null&&y(e,["videoBytes"],gl(i));const s=m(n,["encoding"]);return s!=null&&y(e,["mimeType"],s),e}function aR(n){const e={},t=m(n,["gcsUri"]);t!=null&&y(e,["uri"],t);const i=m(n,["bytesBase64Encoded"]);i!=null&&y(e,["videoBytes"],gl(i));const s=m(n,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function oR(n){const e={},t=m(n,["image"]);t!=null&&y(e,["_self"],xa(t));const i=m(n,["maskMode"]);return i!=null&&y(e,["maskMode"],i),e}function lR(n){const e={},t=m(n,["image"]);t!=null&&y(e,["image"],Ch(t));const i=m(n,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function uR(n){const e={},t=m(n,["image"]);t!=null&&y(e,["image"],xa(t));const i=m(n,["referenceType"]);return i!=null&&y(e,["referenceType"],i),e}function y_(n){const e={},t=m(n,["uri"]);t!=null&&y(e,["uri"],t);const i=m(n,["videoBytes"]);i!=null&&y(e,["encodedVideo"],gl(i));const s=m(n,["mimeType"]);return s!=null&&y(e,["encoding"],s),e}function v_(n){const e={},t=m(n,["uri"]);t!=null&&y(e,["gcsUri"],t);const i=m(n,["videoBytes"]);i!=null&&y(e,["bytesBase64Encoded"],gl(i));const s=m(n,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cR="Content-Type",fR="X-Server-Timeout",dR="User-Agent",n0="x-goog-api-client",hR="1.30.0",pR=`google-genai-sdk/${hR}`,mR="v1beta1",gR="v1beta",Q2=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class yR{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:mR,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:gR,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const s=[this.getRequestUrlInternal(t)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))s.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(t))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,t,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,s){if(t&&t.timeout||s){const a=new AbortController,l=a.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const c=setTimeout(()=>a.abort(),t.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=l}return t&&t.extraBody!==null&&vR(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async s=>(await e5(s),new Xm(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async s=>(await e5(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var t;return Ac(this,arguments,function*(){const s=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield ei(s.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(f,{stream:!0});try{const _=JSON.parse(d);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),b=S.status,N=S.code,C=`got status: ${b}. ${JSON.stringify(_)}`;if(N>=400&&N<600)throw new Eh({message:C,status:N})}}catch(_){if(_.name==="ApiError")throw _}l+=d;let p=l.match(Q2);for(;p;){const _=p[1];try{const S=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ei(new Xm(S)),l=l.slice(p[0].length),p=l.match(Q2)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=pR+" "+this.clientOptions.userAgentExtra;return e[dR]=t,e[n0]=t,e[cR]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(fR,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const s={};t!=null&&(s.mimeType=t.mimeType,s.name=t.name,s.displayName=t.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);s.sizeBytes=String(l.size);const c=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const f={file:s},d=this.getFileName(e),p=nt("upload/v1beta/files",f._url),_=await this.fetchUploadUrl(p,s.sizeBytes,s.mimeType,d,f,t==null?void 0:t.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,t,i){var s;const a=this.clientOptions.uploader,l=await a.stat(t),c=String(l.size),f=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(t),_={};i!=null&&i.customMetadata&&(_.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(_.chunkingConfig=i.chunkingConfig);const S=await this.fetchUploadUrl(d,c,f,p,_,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(t,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,s,a,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const d=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function e5(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=JSON.stringify(i);throw t>=400&&t<600?new Eh({message:s,status:t}):new Error(s)}}function vR(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))t=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const c=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],p=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?c[f]=i(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const s=i(t,e);n.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bR="mcp_used/unknown";let _R=!1;function b_(n){for(const e of n)if(wR(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _R}function __(n){var e;const t=(e=n[n0])!==null&&e!==void 0?e:"";n[n0]=(t+` ${bR}`).trimStart()}function wR(n){return n!==null&&typeof n=="object"&&n instanceof L0}function SR(n,e=100){return Ac(this,arguments,function*(){let i,s=0;for(;s<e;){const a=yield ei(n.listTools({cursor:i}));for(const l of a.tools)yield yield ei(l),s++;if(!a.nextCursor)break;i=a.nextCursor}})}class L0{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new L0(e,t)}async initialize(){var e,t,i,s;if(this.mcpTools.length>0)return;const a={},l=[];for(const p of this.mcpClients)try{for(var c=!0,f=(t=void 0,Tf(SR(p))),d;d=await f.next(),e=d.done,!e;c=!0){s=d.value,c=!1;const _=s;l.push(_);const S=_.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=p}}catch(_){t={error:_}}finally{try{!c&&!e&&(i=f.return)&&await i.call(f)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),p3(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await s.callTool({name:i.name,arguments:i.args},void 0,a);t.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xR(n,e,t){const i=new a3;let s;t.data instanceof Blob?s=JSON.parse(await t.data.text()):s=JSON.parse(t.data),Object.assign(i,s),e(i)}class AR{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=NR(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const p=new Promise(O=>{d=O}),_=e.callbacks,S=function(){d({})},b=this.apiClient,N={onopen:S,onmessage:O=>{xR(b,_.onmessage,O)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(O){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(O){}},C=this.webSocketFactory.create(f,TR(l),N);C.connect(),await p;const j={setup:{model:wn(this.apiClient,e.model)}};return C.send(JSON.stringify(j)),new ER(C,this.apiClient)}}class ER{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=fC(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=cC(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(yc.PLAY)}pause(){this.sendPlaybackControl(yc.PAUSE)}stop(){this.sendPlaybackControl(yc.STOP)}resetContext(){this.sendPlaybackControl(yc.RESET_CONTEXT)}close(){this.conn.close()}}function TR(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function NR(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RR(n,e,t){const i=new s3;let s;t.data instanceof Blob?s=await t.data.text():t.data instanceof ArrayBuffer?s=new TextDecoder().decode(t.data):s=t.data;const a=JSON.parse(s);if(n.isVertexAI()){const l=pC(a);Object.assign(i,l)}else Object.assign(i,a);e(i)}class kR{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new AR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,s,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&b_(e.config.tools)&&__(_);const S=PR(_);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,p);else{const H=this.apiClient.getApiKey();let le="BidiGenerateContent",F="key";H!=null&&H.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),le="BidiGenerateContentConstrained",F="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${le}?${F}=${H}`}let b=()=>{};const N=new Promise(H=>{b=H}),C=e.callbacks,I=function(){var H;(H=C==null?void 0:C.onopen)===null||H===void 0||H.call(C),b({})},k=this.apiClient,j={onopen:I,onmessage:H=>{RR(k,C.onmessage,H)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(H){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(H){}},O=this.webSocketFactory.create(p,MR(S),j);O.connect(),await N;let U=wn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const H=this.apiClient.getProject(),le=this.apiClient.getLocation();U=`projects/${H}/locations/${le}/`+U}let ee={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[dh.AUDIO]}:e.config.responseModalities=[dh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],re=[];for(const H of oe)if(this.isCallableTool(H)){const le=H;re.push(await le.tool())}else re.push(H);re.length>0&&(e.config.tools=re);const se={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ee=uC(this.apiClient,se):ee=lC(this.apiClient,se),delete ee.config,O.send(JSON.stringify(ee)),new IR(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const LR={turnComplete:!0};class IR{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=js(t.turns),e.isVertexAI()||(i=i.map(s=>Th(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(CR)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},LR),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hC(e)}:t={realtimeInput:dC(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function MR(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function PR(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t5=10;function n5(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Ec(l)){s=!0;break}if(!s)return!0;const a=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ec(n){return"callTool"in n&&typeof n.callTool=="function"}function DR(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(s=>Ec(s)))!==null&&i!==void 0?i:!1}function i5(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,s)=>{if(Ec(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&t.push(s)}),t}function r5(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OR extends Co{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,s,a,l,c;const f=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!DR(t)||n5(t.config))return await this.generateContentInternal(f);const d=i5(t);if(d.length>0){const C=d.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let p,_;const S=js(f.contents),b=(a=(s=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:t5;let N=0;for(;N<b&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const C=p.candidates[0].content,I=[];for(const k of(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Ec(k)){const O=await k.callTool(p.functionCalls);I.push(...O)}N++,_={role:"user",parts:I},f.contents=js(f.contents),f.contents.push(C),f.contents.push(_),r5(f.config)&&(S.push(C),S.push(_))}return r5(f.config)&&(p.automaticFunctionCallingHistory=S),p},this.generateContentStream=async t=>{var i,s,a,l,c;if(this.maybeMoveToResponseJsonSchem(t),n5(t.config)){const _=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(_)}const f=i5(t);if(f.length>0){const _=f.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(s=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var s;let a;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((s=f==null?void 0:f.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async t=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new fu(No.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const s={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async t=>{var i,s,a,l,c,f;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((s=t.video)===null||s===void 0)&&s.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(a=t.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(c=t.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,s;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>Ec(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&b_(e.config.tools)){const f=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),__(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var t,i,s;const a=new Map;for(const l of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ec(l)){const c=l,f=await c.tool();for(const d of(s=f.functionDeclarations)!==null&&s!==void 0?s:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,c)}}return a}async processAfcStream(e){var t,i,s;const a=(s=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:t5;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,p,_){var S,b;return Ac(this,arguments,function*(){for(var N,C,I,k;c<a;){l&&(c++,l=!1);const ee=yield ei(d.processParamsMaybeAddMcpUsage(_)),oe=yield ei(d.generateContentStreamInternal(ee)),re=[],se=[];try{for(var j=!0,O=(C=void 0,Tf(oe)),U;U=yield ei(O.next()),N=U.done,!N;j=!0){k=U.value,j=!1;const H=k;if(yield yield ei(H),H.candidates&&(!((S=H.candidates[0])===null||S===void 0)&&S.content)){se.push(H.candidates[0].content);for(const le of(b=H.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(c<a&&le.functionCall){if(!le.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(le.functionCall.name)){const F=yield ei(p.get(le.functionCall.name).callTool([le.functionCall]));re.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${le.functionCall.name}`)}}}}catch(H){C={error:H}}finally{try{!j&&!N&&(I=O.return)&&(yield ei(I.call(O)))}finally{if(C)throw C.error}}if(re.length>0){l=!0;const H=new wf;H.candidates=[{content:{role:"user",parts:re}}],yield yield ei(H);const le=[];le.push(...se),le.push({role:"user",parts:re});const F=js(_.contents).concat(le);_.contents=F}else break}})})(this,f,e)}async generateContentInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=K2(this.apiClient,e);return c=nt("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=Z2(p),S=new wf;return Object.assign(S,_),S})}else{const d=W2(this.apiClient,e);return c=nt("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=X2(p),S=new wf;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=K2(this.apiClient,e);return c=nt("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(_){return Ac(this,arguments,function*(){var S,b,N,C;try{for(var I=!0,k=Tf(_),j;j=yield ei(k.next()),S=j.done,!S;I=!0){C=j.value,I=!1;const O=C,U=Z2(yield ei(O.json()));U.sdkHttpResponse={headers:O.headers};const ee=new wf;Object.assign(ee,U),yield yield ei(ee)}}catch(O){b={error:O}}finally{try{!I&&!S&&(N=k.return)&&(yield ei(N.call(k)))}finally{if(b)throw b.error}}})})}else{const d=W2(this.apiClient,e);return c=nt("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(_){return Ac(this,arguments,function*(){var S,b,N,C;try{for(var I=!0,k=Tf(_),j;j=yield ei(k.next()),S=j.done,!S;I=!0){C=j.value,I=!1;const O=C,U=X2(yield ei(O.json()));U.sdkHttpResponse={headers:O.headers};const ee=new wf;Object.assign(ee,U),yield yield ei(ee)}}catch(O){b={error:O}}finally{try{!I&&!S&&(N=k.return)&&(yield ei(N.call(k)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=GC(this.apiClient,e);return c=nt("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=$C(p),S=new M2;return Object.assign(S,_),S})}else{const d=zC(this.apiClient,e);return c=nt("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=VC(p),S=new M2;return Object.assign(S,_),S})}}async generateImagesInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=i6(this.apiClient,e);return c=nt("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=s6(p),S=new P2;return Object.assign(S,_),S})}else{const d=n6(this.apiClient,e);return c=nt("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=r6(p),S=new P2;return Object.assign(S,_),S})}}async editImageInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=FC(this.apiClient,e);return a=nt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const d=qC(f),p=new Y4;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=iR(this.apiClient,e);return a=nt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const d=rR(f),p=new W4;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=B6(this.apiClient,e);return a=nt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=F6(f),p=new K4;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=V6(this.apiClient,e);return a=nt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=$6(f),p=new X4;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=S6(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>t0(p))}else{const d=w6(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>e0(p))}}async listInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=L6(this.apiClient,e);return c=nt("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=M6(p),S=new D2;return Object.assign(S,_),S})}else{const d=k6(this.apiClient,e);return c=nt("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=I6(p),S=new D2;return Object.assign(S,_),S})}}async update(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=tR(this.apiClient,e);return c=nt("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>t0(p))}else{const d=eR(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>e0(p))}}async delete(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=DC(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=UC(p),S=new O2;return Object.assign(S,_),S})}else{const d=PC(this.apiClient,e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=OC(p),S=new O2;return Object.assign(S,_),S})}}async countTokens(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=LC(this.apiClient,e);return c=nt("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=MC(p),S=new U2;return Object.assign(S,_),S})}else{const d=kC(this.apiClient,e);return c=nt("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=IC(p),S=new U2;return Object.assign(S,_),S})}}async computeTokens(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=xC(this.apiClient,e);return a=nt("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const d=AC(f),p=new Z4;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=f6(this.apiClient,e);return c=nt("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const _=u6(p),S=new hh;return Object.assign(S,_),S})}else{const d=c6(this.apiClient,e);return c=nt("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const _=l6(p),S=new hh;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UR extends Co{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:s,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=t.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:s,config:{httpOptions:a}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=H4(e);return c=nt("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l}else{const d=j4(e);return c=nt("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=P4(e);return a=nt("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BR(n){const e={},t=m(n,["data"]);if(t!=null&&y(e,["data"],t),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function FR(n){const e={},t=m(n,["parts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>YR(a))),y(e,["parts"],s)}const i=m(n,["role"]);return i!=null&&y(e,["role"],i),e}function qR(n,e,t){const i={},s=m(e,["expireTime"]);t!==void 0&&s!=null&&y(t,["expireTime"],s);const a=m(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&y(t,["newSessionExpireTime"],a);const l=m(e,["uses"]);t!==void 0&&l!=null&&y(t,["uses"],l);const c=m(e,["liveConnectConstraints"]);t!==void 0&&c!=null&&y(t,["bidiGenerateContentSetup"],JR(n,c));const f=m(e,["lockAdditionalFields"]);return t!==void 0&&f!=null&&y(t,["fieldMask"],f),i}function jR(n,e){const t={},i=m(e,["config"]);return i!=null&&y(t,["config"],qR(n,i,t)),t}function HR(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=m(n,["fileUri"]);t!=null&&y(e,["fileUri"],t);const i=m(n,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function zR(n){const e={},t=m(n,["id"]);t!=null&&y(e,["id"],t);const i=m(n,["args"]);i!=null&&y(e,["args"],i);const s=m(n,["name"]);if(s!=null&&y(e,["name"],s),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GR(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=m(n,["enableWidget"]);return t!=null&&y(e,["enableWidget"],t),e}function VR(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=m(n,["timeRangeFilter"]);return t!=null&&y(e,["timeRangeFilter"],t),e}function $R(n,e){const t={},i=m(n,["generationConfig"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig"],i);const s=m(n,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const a=m(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const l=m(n,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const c=m(n,["topK"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topK"],c);const f=m(n,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(n,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const p=m(n,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const _=m(n,["speechConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","speechConfig"],k0(_));const S=m(n,["thinkingConfig"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","thinkingConfig"],S);const b=m(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],b);const N=m(n,["systemInstruction"]);e!==void 0&&N!=null&&y(e,["setup","systemInstruction"],FR(Rr(N)));const C=m(n,["tools"]);if(e!==void 0&&C!=null){let oe=Lc(C);Array.isArray(oe)&&(oe=oe.map(re=>KR(kc(re)))),y(e,["setup","tools"],oe)}const I=m(n,["sessionResumption"]);e!==void 0&&I!=null&&y(e,["setup","sessionResumption"],WR(I));const k=m(n,["inputAudioTranscription"]);e!==void 0&&k!=null&&y(e,["setup","inputAudioTranscription"],k);const j=m(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","outputAudioTranscription"],j);const O=m(n,["realtimeInputConfig"]);e!==void 0&&O!=null&&y(e,["setup","realtimeInputConfig"],O);const U=m(n,["contextWindowCompression"]);e!==void 0&&U!=null&&y(e,["setup","contextWindowCompression"],U);const ee=m(n,["proactivity"]);return e!==void 0&&ee!=null&&y(e,["setup","proactivity"],ee),t}function JR(n,e){const t={},i=m(e,["model"]);i!=null&&y(t,["setup","model"],wn(n,i));const s=m(e,["config"]);return s!=null&&y(t,["config"],$R(s,t)),t}function YR(n){const e={},t=m(n,["mediaResolution"]);t!=null&&y(e,["mediaResolution"],t);const i=m(n,["codeExecutionResult"]);i!=null&&y(e,["codeExecutionResult"],i);const s=m(n,["executableCode"]);s!=null&&y(e,["executableCode"],s);const a=m(n,["fileData"]);a!=null&&y(e,["fileData"],HR(a));const l=m(n,["functionCall"]);l!=null&&y(e,["functionCall"],zR(l));const c=m(n,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const f=m(n,["inlineData"]);f!=null&&y(e,["inlineData"],BR(f));const d=m(n,["text"]);d!=null&&y(e,["text"],d);const p=m(n,["thought"]);p!=null&&y(e,["thought"],p);const _=m(n,["thoughtSignature"]);_!=null&&y(e,["thoughtSignature"],_);const S=m(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function WR(n){const e={},t=m(n,["handle"]);if(t!=null&&y(e,["handle"],t),m(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function KR(n){const e={},t=m(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(_=>_)),y(e,["functionDeclarations"],p)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=m(n,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const s=m(n,["computerUse"]);s!=null&&y(e,["computerUse"],s);const a=m(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const l=m(n,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=m(n,["googleMaps"]);c!=null&&y(e,["googleMaps"],GR(c));const f=m(n,["googleSearch"]);f!=null&&y(e,["googleSearch"],VR(f));const d=m(n,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XR(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${t}.${a}`);e.push(...s)}else e.push(t)}return e.join(",")}function ZR(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,t=a):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(t){const a=XR(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?n.fieldMask=f.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class QR extends Co{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=jR(this.apiClient,e);a=nt("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=ZR(c,e.config);return s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e8(n,e){const t={},i=m(n,["displayName"]);return e!==void 0&&i!=null&&y(e,["displayName"],i),t}function t8(n){const e={},t=m(n,["config"]);return t!=null&&e8(t,e),e}function n8(n,e){const t={},i=m(n,["force"]);return e!==void 0&&i!=null&&y(e,["_query","force"],i),t}function i8(n){const e={},t=m(n,["name"]);t!=null&&y(e,["_url","name"],t);const i=m(n,["config"]);return i!=null&&n8(i,e),e}function r8(n){const e={},t=m(n,["name"]);return t!=null&&y(e,["_url","name"],t),e}function s8(n,e){const t={},i=m(n,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["customMetadata"],a)}const s=m(n,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),t}function a8(n){const e={},t=m(n,["name"]);t!=null&&y(e,["name"],t);const i=m(n,["metadata"]);i!=null&&y(e,["metadata"],i);const s=m(n,["done"]);s!=null&&y(e,["done"],s);const a=m(n,["error"]);a!=null&&y(e,["error"],a);const l=m(n,["response"]);return l!=null&&y(e,["response"],l8(l)),e}function o8(n){const e={},t=m(n,["fileSearchStoreName"]);t!=null&&y(e,["_url","file_search_store_name"],t);const i=m(n,["fileName"]);i!=null&&y(e,["fileName"],i);const s=m(n,["config"]);return s!=null&&s8(s,e),e}function l8(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["parent"]);i!=null&&y(e,["parent"],i);const s=m(n,["documentName"]);return s!=null&&y(e,["documentName"],s),e}function u8(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),t}function c8(n){const e={},t=m(n,["config"]);return t!=null&&u8(t,e),e}function f8(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["fileSearchStores"],a)}return e}function d8(n,e){const t={},i=m(n,["mimeType"]);e!==void 0&&i!=null&&y(e,["mimeType"],i);const s=m(n,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);const a=m(n,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),y(e,["customMetadata"],c)}const l=m(n,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),t}function h8(n){const e={},t=m(n,["fileSearchStoreName"]);t!=null&&y(e,["_url","file_search_store_name"],t);const i=m(n,["config"]);return i!=null&&d8(i,e),e}function p8(n){const e={},t=m(n,["sdkHttpResponse"]);return t!=null&&y(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m8(n,e){const t={},i=m(n,["force"]);return e!==void 0&&i!=null&&y(e,["_query","force"],i),t}function g8(n){const e={},t=m(n,["name"]);t!=null&&y(e,["_url","name"],t);const i=m(n,["config"]);return i!=null&&m8(i,e),e}function y8(n){const e={},t=m(n,["name"]);return t!=null&&y(e,["_url","name"],t),e}function v8(n,e){const t={},i=m(n,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const s=m(n,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),t}function b8(n){const e={},t=m(n,["parent"]);t!=null&&y(e,["_url","parent"],t);const i=m(n,["config"]);return i!=null&&v8(i,e),e}function _8(n){const e={},t=m(n,["sdkHttpResponse"]);t!=null&&y(e,["sdkHttpResponse"],t);const i=m(n,["nextPageToken"]);i!=null&&y(e,["nextPageToken"],i);const s=m(n,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w8 extends Co{constructor(e){super(),this.apiClient=e,this.list=async t=>new fu(No.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=y8(e);return a=nt("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var t,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=g8(e);s=nt("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=b8(e);return a=nt("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=_8(f),p=new Q4;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S8 extends Co{constructor(e,t=new w8(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new fu(No.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=t8(e);return a=nt("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=r8(e);return a=nt("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var t,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=i8(e);s=nt("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=c8(e);return a=nt("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=f8(f),p=new e3;return Object.assign(p,d),p})}}async uploadToFileSearchStoreInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=h8(e);return a=nt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=p8(f),p=new t3;return Object.assign(p,d),p})}}async importFile(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=o8(e);return a=nt("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const d=a8(f),p=new E0;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x8(n,e){const t={},i=m(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function A8(n,e){const t={},i=m(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function E8(n,e,t){const i={};if(m(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=m(n,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&y(e,["displayName"],s),m(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(n,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const l=m(n,["learningRateMultiplier"]);if(l!=null&&y(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(n,["batchSize"]);e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(n,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),m(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function T8(n,e,t){const i={};let s=m(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const b=m(n,["validationDataset"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec"],s5(b))}else if(s==="PREFERENCE_TUNING"){const b=m(n,["validationDataset"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec"],s5(b))}const a=m(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const l=m(n,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let c=m(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=m(n,["epochCount"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=m(n,["epochCount"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let f=m(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=m(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(f==="PREFERENCE_TUNING"){const b=m(n,["learningRateMultiplier"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let d=m(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=m(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(d==="PREFERENCE_TUNING"){const b=m(n,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=m(t,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=m(n,["adapterSize"]);e!==void 0&&b!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=m(n,["adapterSize"]);e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(m(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=m(n,["labels"]);e!==void 0&&_!=null&&y(e,["labels"],_);const S=m(n,["beta"]);return e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function N8(n,e){const t={},i=m(n,["baseModel"]);i!=null&&y(t,["baseModel"],i);const s=m(n,["preTunedModel"]);s!=null&&y(t,["preTunedModel"],s);const a=m(n,["trainingDataset"]);a!=null&&B8(a);const l=m(n,["config"]);return l!=null&&E8(l,t),t}function C8(n,e){const t={},i=m(n,["baseModel"]);i!=null&&y(t,["baseModel"],i);const s=m(n,["preTunedModel"]);s!=null&&y(t,["preTunedModel"],s);const a=m(n,["trainingDataset"]);a!=null&&F8(a,t,e);const l=m(n,["config"]);return l!=null&&T8(l,t,e),t}function R8(n,e){const t={},i=m(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function k8(n,e){const t={},i=m(n,["name"]);return i!=null&&y(t,["_url","name"],i),t}function L8(n,e,t){const i={},s=m(n,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=m(n,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),i}function I8(n,e,t){const i={},s=m(n,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=m(n,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),i}function M8(n,e){const t={},i=m(n,["config"]);return i!=null&&L8(i,t),t}function P8(n,e){const t={},i=m(n,["config"]);return i!=null&&I8(i,t),t}function D8(n,e){const t={},i=m(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const s=m(n,["nextPageToken"]);s!=null&&y(t,["nextPageToken"],s);const a=m(n,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>w_(c))),y(t,["tuningJobs"],l)}return t}function O8(n,e){const t={},i=m(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const s=m(n,["nextPageToken"]);s!=null&&y(t,["nextPageToken"],s);const a=m(n,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>i0(c))),y(t,["tuningJobs"],l)}return t}function U8(n,e){const t={},i=m(n,["name"]);i!=null&&y(t,["model"],i);const s=m(n,["name"]);return s!=null&&y(t,["endpoint"],s),t}function B8(n,e){const t={};if(m(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=m(n,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),y(t,["examples","examples"],s)}return t}function F8(n,e,t){const i={};let s=m(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=m(n,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=m(n,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=m(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=m(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=m(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(m(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function w_(n,e){const t={},i=m(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const s=m(n,["name"]);s!=null&&y(t,["name"],s);const a=m(n,["state"]);a!=null&&y(t,["state"],n_(a));const l=m(n,["createTime"]);l!=null&&y(t,["createTime"],l);const c=m(n,["tuningTask","startTime"]);c!=null&&y(t,["startTime"],c);const f=m(n,["tuningTask","completeTime"]);f!=null&&y(t,["endTime"],f);const d=m(n,["updateTime"]);d!=null&&y(t,["updateTime"],d);const p=m(n,["description"]);p!=null&&y(t,["description"],p);const _=m(n,["baseModel"]);_!=null&&y(t,["baseModel"],_);const S=m(n,["_self"]);return S!=null&&y(t,["tunedModel"],U8(S)),t}function i0(n,e){const t={},i=m(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const s=m(n,["name"]);s!=null&&y(t,["name"],s);const a=m(n,["state"]);a!=null&&y(t,["state"],n_(a));const l=m(n,["createTime"]);l!=null&&y(t,["createTime"],l);const c=m(n,["startTime"]);c!=null&&y(t,["startTime"],c);const f=m(n,["endTime"]);f!=null&&y(t,["endTime"],f);const d=m(n,["updateTime"]);d!=null&&y(t,["updateTime"],d);const p=m(n,["error"]);p!=null&&y(t,["error"],p);const _=m(n,["description"]);_!=null&&y(t,["description"],_);const S=m(n,["baseModel"]);S!=null&&y(t,["baseModel"],S);const b=m(n,["tunedModel"]);b!=null&&y(t,["tunedModel"],b);const N=m(n,["preTunedModel"]);N!=null&&y(t,["preTunedModel"],N);const C=m(n,["supervisedTuningSpec"]);C!=null&&y(t,["supervisedTuningSpec"],C);const I=m(n,["preferenceOptimizationSpec"]);I!=null&&y(t,["preferenceOptimizationSpec"],I);const k=m(n,["tuningDataStats"]);k!=null&&y(t,["tuningDataStats"],k);const j=m(n,["encryptionSpec"]);j!=null&&y(t,["encryptionSpec"],j);const O=m(n,["partnerModelTuningSpec"]);O!=null&&y(t,["partnerModelTuningSpec"],O);const U=m(n,["customBaseModel"]);U!=null&&y(t,["customBaseModel"],U);const ee=m(n,["experiment"]);ee!=null&&y(t,["experiment"],ee);const oe=m(n,["labels"]);oe!=null&&y(t,["labels"],oe);const re=m(n,["outputUri"]);re!=null&&y(t,["outputUri"],re);const se=m(n,["pipelineJob"]);se!=null&&y(t,["pipelineJob"],se);const H=m(n,["serviceAccount"]);H!=null&&y(t,["serviceAccount"],H);const le=m(n,["tunedModelDisplayName"]);le!=null&&y(t,["tunedModelDisplayName"],le);const F=m(n,["veoTuningSpec"]);return F!=null&&y(t,["veoTuningSpec"],F),t}function q8(n,e){const t={},i=m(n,["sdkHttpResponse"]);i!=null&&y(t,["sdkHttpResponse"],i);const s=m(n,["name"]);s!=null&&y(t,["name"],s);const a=m(n,["metadata"]);a!=null&&y(t,["metadata"],a);const l=m(n,["done"]);l!=null&&y(t,["done"],l);const c=m(n,["error"]);return c!=null&&y(t,["error"],c),t}function s5(n,e){const t={},i=m(n,["gcsUri"]);i!=null&&y(t,["validationDatasetUri"],i);const s=m(n,["vertexDatasetResource"]);return s!=null&&y(t,["validationDatasetUri"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j8 extends Co{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new fu(No.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const s={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=t.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},t),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},t);return await this.tuneInternal(s)}else{const s=Object.assign({},t),a=await this.tuneMldevInternal(s);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Km.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=k8(e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>i0(p))}else{const d=R8(e);return c=nt("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>w_(p))}}async listInternal(e){var t,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=P8(e);return c=nt("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=O8(p),S=new B2;return Object.assign(S,_),S})}else{const d=M8(e);return c=nt("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:p.headers},S})),l.then(p=>{const _=D8(p),S=new B2;return Object.assign(S,_),S})}}async cancel(e){var t,i,s,a;let l="",c={};if(this.apiClient.isVertexAI()){const f=A8(e);l=nt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=x8(e);l=nt("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=C8(e,e);return a=nt("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>i0(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=N8(e);return a=nt("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>q8(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H8{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const z8=1024*1024*8,G8=3,V8=1e3,$8=2,mh="x-goog-upload-status";async function J8(n,e,t){var i;const s=await S_(n,e,t),a=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[mh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Y8(n,e,t){var i;const s=await S_(n,e,t),a=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[mh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Kb(a),c=new T0;return Object.assign(c,l),c}async function S_(n,e,t){var i,s;let a=0,l=0,c=new Xm(new Response),f="upload";for(a=n.size;l<a;){const d=Math.min(z8,a-l),p=n.slice(l,l+d);l+d>=a&&(f+=", finalize");let _=0,S=V8;for(;_<G8&&(c=await t.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[mh]));)_++,await K8(S),S=S*$8;if(l+=d,((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[mh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function W8(n){return{size:n.size,type:n.type}}function K8(n){return new Promise(e=>setTimeout(e,n))}class X8{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await J8(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Y8(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await W8(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z8{create(e,t,i){return new Q8(e,t,i)}}class Q8{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a5="x-goog-api-key";class ek{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(a5)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(a5,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tk="gl-node/";class nk{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=I4(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const s=new ek(this.apiKey);this.apiClient=new yR({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:tk+"web",uploader:new X8,downloader:new H8}),this.models=new OR(this.apiClient),this.live=new kR(this.apiClient,s,new Z8),this.batches=new oN(this.apiClient),this.chats=new HN(this.models,this.apiClient),this.caches=new FN(this.apiClient),this.files=new ZN(this.apiClient),this.operations=new UR(this.apiClient),this.authTokens=new QR(this.apiClient),this.tunings=new j8(this.apiClient),this.fileSearchStores=new S8(this.apiClient)}}const x_=()=>localStorage.getItem("gemini_api_key"),ik=(n,e)=>{const t=[];for(let i=0;i<n.length;i+=e)t.push(n.slice(i,i+e));return t},rk=n=>new Promise((e,t)=>{const i=new FileReader;i.onloadend=()=>{const a=i.result.split(",")[1];e(a)},i.onerror=t,i.readAsDataURL(n)}),sk=async(n,e)=>{try{const t=`https://www.googleapis.com/drive/v3/files/${n}?alt=media&key=${e}`,i=await fetch(t);if(!i.ok)return null;const s=await i.blob();return await rk(s)}catch(t){return console.warn(`Failed to download content for file ${n}`,t),null}},ak=async(n,e,t=!1)=>{var _;let i=n;const s=n.match(/\/folders\/([a-zA-Z0-9_-]+)/);s&&s[1]&&(i=s[1]);const a=x_();if(!a)throw new Error("No API Key configured. Please set your API key in Settings.");const l=[],c=[i],f=new Set,d=t?50:1;let p=0;for(;c.length>0&&!(p>=d);){const S=c.shift();if(!S||f.has(S))continue;f.add(S),p++;let b="";try{do{const N=`'${S}' in parents and trashed = false`,I=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(N)}&fields=nextPageToken,files(id,name,mimeType)&key=${a}&pageSize=1000&pageToken=${b}`,k=await fetch(I);if(!k.ok){const ee=((_=(await k.json().catch(()=>({}))).error)==null?void 0:_.message)||`Status ${k.status}`;if(p===1)throw new Error(ee);break}const j=await k.json(),O=j.files||[];for(const U of O)U.mimeType==="application/vnd.google-apps.folder"?t&&c.push(U.id):U.name&&l.push({id:U.id,name:U.name,mimeType:U.mimeType});b=j.nextPageToken||""}while(b)}catch(N){if(p===1)throw N;console.error(N)}}return l},ok=async(n,e,t=!1,i)=>{const s=x_();if(!s)throw new Error("No API Key configured. Please set your API key in Settings.");const a=new nk({apiKey:s}),l=n.map(_=>typeof _=="string"?{id:"",name:_,mimeType:"application/octet-stream"}:_),c={type:Cr.OBJECT,properties:{items:{type:Cr.ARRAY,items:{type:Cr.OBJECT,properties:{originalFilename:{type:Cr.STRING},qty:{type:Cr.STRING},documentType:{type:Cr.STRING},description:{type:Cr.STRING},remarks:{type:Cr.STRING}},required:["originalFilename","qty","documentType","description","remarks"]}}},required:["items"]},d=ik(l,t?3:30);let p=[];try{const _=d.map(async(b,N)=>{let C=[];if(t)for(const k of b){let j=!1;if(k.id&&(k.mimeType.includes("pdf")||k.mimeType.includes("image")))try{const O=await sk(k.id,s);O&&(C.push({inlineData:{mimeType:k.mimeType,data:O}}),C.push({text:`Above is content for file: ${k.name}`}),j=!0)}catch{console.warn("Skipping deep scan",k.name)}j||C.push({text:`File Name Only: ${k.name}`})}else{const k=b.map(j=>j.name);C.push({text:`File List:
${JSON.stringify(k)}`})}const I=`
        You are an expert Document Controller.
        Context Project: ${e}
        
        Task: Categorize and Describe the files for a transmittal form.
        ${t?"CRITICAL: Read the document content/Title Block to find the most accurate information.":"Infer information from the filenames."}
        
        Output Rules:
        1.  qty: "1".
        2.  documentType: CATEGORIZE the file into a high-level type. Examples: "Architectural Plan", "Structural Drawing", "Letter of Intent", "Project Specification", "Financial Report", "Memo".
        3.  description: Provide a SPECIFIC, detailed summary of the document's content.
            -   Examples: "Ground Floor Layout and Dimensions", "Column and Beam Reinforcement Details for Section A", "Request for Information regarding HVAC system".
            -   If a revision is found (e.g., Rev A, V2), include it here, like "Ground Floor Plan [Rev A]".
            -   REMOVE file extensions.
        4.  remarks: Return an empty string "".

        If deep analysis fails or file content is missing for an item, fall back to analyzing its filename.
      `;C.push({text:I});try{const j=(await a.models.generateContent({model:"gemini-2.5-flash",contents:{parts:C},config:{responseMimeType:"application/json",responseSchema:c}})).text;return j?(JSON.parse(j.trim()).items||[]).map(ee=>{const oe=b.find(re=>re.name.includes(ee.originalFilename)||ee.originalFilename.includes(re.name));return{...ee,originalFilename:oe?oe.name:ee.originalFilename}}):[]}catch(k){return console.error(`Batch ${N} error:`,k),[]}});if((await Promise.all(_)).forEach(b=>p.push(...b)),p.length===0&&l.length>0)throw new Error("No items processed. API might be blocked or empty.");return p.map((b,N)=>({...b,id:`doc-${N}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}))}catch(_){throw console.error("Gemini Process Error:",_),new Error(`AI Processing Failed: ${_.message}`)}},lk=({onProcess:n,isScanning:e,driveId:t})=>{const[i,s]=We.useState("upload"),[a,l]=We.useState(""),[c,f]=We.useState(t),[d,p]=We.useState(!1),[_,S]=We.useState(!1),[b,N]=We.useState(!1),[C,I]=We.useState(null),k=oe=>{if(oe.target.files&&oe.target.files.length>0){const re=Array.from(oe.target.files).map(se=>se.name);n(re,!1)}},j=()=>{const oe=a.split(`
`).filter(re=>re.trim().length>0);oe.length>0&&n(oe,!1)},O=async()=>{if(c){N(!0),I(null);try{const oe=await ak(c,void 0,d);oe.length===0?I("No files found in this folder (and subfolders)."):n(oe,_)}catch(oe){I(oe.message||"Could not scan Drive folder.")}finally{N(!1)}}},U=async()=>{var oe;try{(oe=window.aistudio)!=null&&oe.openSelectKey?(await window.aistudio.openSelectKey(),I(null)):alert("API Key selection is not available.")}catch(re){console.error(re)}},ee=C&&(C.includes("API_KEY")||C.toLowerCase().includes("api key"));return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[T.jsx("button",{onClick:()=>{s("upload"),I(null)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${i==="upload"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Select Files"}),T.jsx("button",{onClick:()=>{s("paste"),I(null)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${i==="paste"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Paste List"}),T.jsx("button",{onClick:()=>{s("drive"),I(null)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${i==="drive"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Google Drive"})]}),T.jsx("div",{className:"min-h-[150px] flex flex-col justify-center",children:e?T.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-blue-600",children:[T.jsx(dy,{className:"w-8 h-8 animate-spin mb-2"}),T.jsx("p",{className:"text-sm font-medium",children:_?"Performing Deep Analysis (Reading Files)...":"Encoding Transmittal..."}),T.jsx("p",{className:"text-xs text-slate-400",children:_?"This may take a moment per file":"Gemini is analyzing document titles"})]}):T.jsxs(T.Fragment,{children:[i==="upload"&&T.jsxs("label",{className:"border-2 border-dashed border-slate-300 rounded-xl p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-slate-50 hover:border-blue-400 transition-colors",children:[T.jsx(ix,{className:"w-10 h-10 text-slate-400 mb-3"}),T.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Click to select files"}),T.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"or drag and drop here"}),T.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:k})]}),i==="paste"&&T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("textarea",{className:"w-full h-32 p-3 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none font-mono",placeholder:"Paste filenames here, one per line...",value:a,onChange:oe=>l(oe.target.value)}),T.jsxs("button",{onClick:j,disabled:!a.trim(),className:"self-end px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[T.jsx(Ax,{className:"w-4 h-4"}),"Process List"]})]}),i==="drive"&&T.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-6 rounded-xl text-center",children:[T.jsx(_x,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),T.jsxs("p",{className:"text-sm text-slate-700 mb-4",children:["Enter a ",T.jsx("strong",{children:"Public"})," Google Drive Folder ID or URL."]}),T.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[T.jsx("input",{type:"text",value:c,onChange:oe=>f(oe.target.value),placeholder:"Folder ID (e.g. 1A2b3C...) or URL",className:"w-full px-3 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-center"}),T.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-slate-600 py-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("input",{id:"scanSubfolders",type:"checkbox",checked:d,onChange:oe=>p(oe.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),T.jsxs("label",{htmlFor:"scanSubfolders",className:"cursor-pointer select-none flex items-center gap-1",children:[T.jsx(px,{className:"w-3 h-3"}),"Subfolders"]})]}),T.jsxs("div",{className:"flex items-center gap-2",title:"Reads first page of PDFs for exact metadata. Slower.",children:[T.jsx("input",{id:"deepAnalysis",type:"checkbox",checked:_,onChange:oe=>S(oe.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),T.jsxs("label",{htmlFor:"deepAnalysis",className:"cursor-pointer select-none flex items-center gap-1 text-indigo-700 font-medium",children:[T.jsx(q5,{className:"w-3 h-3"}),"Deep Analysis"]})]})]}),T.jsx("button",{onClick:O,disabled:!c||b,className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-shadow shadow-md flex items-center justify-center gap-2 disabled:opacity-50",children:b?T.jsxs(T.Fragment,{children:[T.jsx(dy,{className:"w-4 h-4 animate-spin"}),"Scanning Drive..."]}):T.jsxs(T.Fragment,{children:[T.jsx(Px,{className:"w-4 h-4"}),"Scan Folder"]})}),C&&T.jsxs("div",{className:"text-left mt-3 p-3 bg-red-100 border border-red-200 text-red-700 text-xs rounded-lg",children:[T.jsxs("div",{className:"flex gap-2 items-start",children:[T.jsx(Xx,{className:"w-4 h-4 shrink-0 mt-0.5"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("span",{className:"font-bold block mb-1",children:"Scan Failed"}),C]})]}),ee&&T.jsx("div",{className:"mt-3 pl-6",children:T.jsx("button",{onClick:U,className:"text-xs bg-white border border-red-300 px-2 py-1 rounded",children:"Change Key"})})]})]})]})]})})]})},uk=({items:n,onUpdate:e,onDelete:t,onAdd:i,columns:s,onColumnReorder:a})=>{const[l,c]=We.useState(null),f=(S,b)=>{c(b),S.dataTransfer.effectAllowed="move"},d=(S,b)=>{S.preventDefault()},p=(S,b)=>{if(l===null)return;const N=[...s],[C]=N.splice(l,1);N.splice(b,0,C),a(N),c(null)},_=(S,b)=>{switch(b){case"documentType":return T.jsx("input",{type:"text",value:S.documentType,onChange:N=>e(S.id,"documentType",N.target.value),className:"w-full text-sm border-slate-200 bg-transparent focus:ring-1 focus:ring-blue-500 rounded p-1"});case"description":return T.jsxs(T.Fragment,{children:[T.jsx("textarea",{value:S.description,onChange:N=>e(S.id,"description",N.target.value),rows:2,className:"w-full text-sm border-slate-200 bg-transparent focus:ring-1 focus:ring-blue-500 rounded p-1 resize-y"}),T.jsxs("div",{className:"text-[10px] text-slate-400 px-1 truncate print:hidden",title:S.originalFilename,children:["src: ",S.originalFilename]})]});case"qty":return T.jsx("input",{type:"text",value:S.qty,onChange:N=>e(S.id,"qty",N.target.value),className:"w-full text-center border-none bg-transparent focus:ring-1 focus:ring-blue-500 rounded p-1"});case"remarks":return T.jsx("input",{type:"text",value:S.remarks,onChange:N=>e(S.id,"remarks",N.target.value),className:"w-full text-sm border-none bg-transparent focus:ring-1 focus:ring-blue-500 rounded p-1"});default:return null}};return T.jsxs("div",{className:"w-full",children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[T.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 border-b border-slate-200",children:T.jsxs("tr",{children:[s.map((S,b)=>T.jsx("th",{className:`px-4 py-3 font-semibold ${S.width} cursor-move relative group border-r border-transparent hover:border-slate-300 transition-colors`,draggable:!0,onDragStart:N=>f(N,b),onDragOver:N=>d(N,b),onDrop:N=>p(N,b),children:T.jsxs("div",{className:"flex items-center gap-1 justify-center md:justify-start",children:[T.jsx(vx,{className:"w-3 h-3 text-slate-300 group-hover:text-slate-500 no-print"}),T.jsx("span",{children:S.label})]})},S.id)),T.jsx("th",{className:"px-2 py-3 w-[7%] text-center no-print",children:"Action"})]})}),T.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.map(S=>T.jsxs("tr",{className:"bg-white hover:bg-slate-50 transition-colors group",children:[s.map(b=>T.jsx("td",{className:"p-2 align-top",children:_(S,b.id)},b.id)),T.jsx("td",{className:"p-2 text-center align-middle no-print",children:T.jsx("button",{onClick:()=>t(S.id),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",title:"Remove Item",children:T.jsx(Cc,{className:"w-4 h-4"})})})]},S.id)),n.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:s.length+1,className:"p-8 text-center text-slate-400 italic",children:"No items yet. Scan a drive or add a row manually."})})]})]})}),T.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200 no-print flex justify-center",children:T.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 transition-colors shadow-sm text-sm font-medium",children:[T.jsx(H5,{className:"w-4 h-4"}),"Add Manual Row"]})})]})},ck=({isOpen:n,onClose:e,onSave:t,savedKey:i})=>{const[s,a]=We.useState(i),[l,c]=We.useState(!1);return We.useEffect(()=>{a(i)},[i,n]),n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 m-4 transform transition-all scale-100",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(Rf,{className:"w-5 h-5 text-blue-600"}),"API Key Settings"]}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 transition-colors",children:T.jsx(lu,{className:"w-5 h-5"})})]}),T.jsx("p",{className:"text-sm text-slate-600 mb-4 leading-relaxed",children:"Enter your Google Gemini API Key below. This key will be used for AI processing and Google Drive scanning."}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(Rf,{className:"h-4 w-4 text-slate-400"})}),T.jsx("input",{type:l?"text":"password",value:s,onChange:f=>a(f.target.value),placeholder:"Enter API Key (AIza...)",className:"w-full pl-10 pr-12 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none font-mono text-sm shadow-sm"}),T.jsx("button",{onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1 rounded-md hover:bg-slate-100",title:l?"Hide Key":"Show Key",children:l?T.jsx(lx,{className:"w-4 h-4"}):T.jsx(q5,{className:"w-4 h-4"})})]}),T.jsxs("div",{className:"flex gap-3 pt-2",children:[T.jsxs("button",{onClick:()=>{t(""),e()},className:"px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",title:"Remove stored key",children:[T.jsx(Cc,{className:"w-4 h-4"}),"Clear"]}),T.jsx("div",{className:"flex-1"}),T.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),T.jsxs("button",{onClick:()=>{t(s),e()},className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors shadow-sm",children:[T.jsx(wh,{className:"w-4 h-4"}),"Save Key"]})]}),T.jsx("p",{className:"text-xs text-slate-400 mt-6 text-center border-t border-slate-100 pt-3",children:"Your key is stored securely in your browser's Local Storage."})]})}):null},o5=({isOpen:n,onClose:e,onSave:t,title:i,currentSignature:s})=>{const[a,l]=We.useState("upload"),[c,f]=We.useState(s),[d,p]=We.useState(!1),_=We.useRef(null),[S,b]=We.useState(!1);We.useEffect(()=>{n&&s&&(f(s),l("upload"))},[n,s]);const N=ee=>{var re;const oe=(re=ee.target.files)==null?void 0:re[0];if(oe){const se=new FileReader;se.onload=H=>{var le;f((le=H.target)==null?void 0:le.result)},se.readAsDataURL(oe)}},C=ee=>{const oe=_.current;if(!oe)return;const re=oe.getContext("2d");if(!re)return;p(!0),b(!0);const se=oe.getBoundingClientRect();let H,le;"touches"in ee?(H=ee.touches[0].clientX,le=ee.touches[0].clientY):(H=ee.clientX,le=ee.clientY);const F=H-se.left,$=le-se.top;re.beginPath(),re.moveTo(F,$)},I=ee=>{if(!d)return;const oe=_.current;if(!oe)return;const re=oe.getContext("2d");if(!re)return;const se=oe.getBoundingClientRect();let H,le;"touches"in ee?(H=ee.touches[0].clientX,le=ee.touches[0].clientY):(H=ee.clientX,le=ee.clientY);const F=H-se.left,$=le-se.top;re.lineTo(F,$),re.strokeStyle="#000",re.lineWidth=2,re.lineCap="round",re.lineJoin="round",re.stroke()},k=()=>{p(!1)},j=()=>{const ee=_.current;if(!ee)return;const oe=ee.getContext("2d");oe&&(oe.clearRect(0,0,ee.width,ee.height),b(!1))},O=()=>{if(a==="upload"&&c)t(c),e();else if(a==="draw"&&S){const ee=_.current;if(!ee)return;const oe=ee.toDataURL("image/png");t(oe),e()}},U=()=>{a==="upload"?f(null):j()};return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl p-6 m-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(sh,{className:"w-5 h-5 text-blue-600"}),i]}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 transition-colors",children:T.jsx(lu,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"flex gap-3 mb-4",children:[T.jsxs("button",{onClick:()=>l("upload"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${a==="upload"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[T.jsx(Pm,{className:"w-4 h-4"}),"Upload Image"]}),T.jsxs("button",{onClick:()=>l("draw"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${a==="draw"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[T.jsx(sh,{className:"w-4 h-4"}),"Draw Signature"]})]}),T.jsx("div",{className:"mb-6 bg-slate-50 rounded-lg border-2 border-dashed border-slate-300 p-4",children:a==="upload"?T.jsx("div",{className:"space-y-4",children:T.jsxs("label",{className:"flex flex-col items-center justify-center h-48 cursor-pointer hover:bg-slate-100 rounded-lg transition-colors",children:[T.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"}),c?T.jsx("img",{src:c,alt:"Signature",className:"max-h-44 max-w-full object-contain"}):T.jsxs("div",{className:"text-center",children:[T.jsx(Pm,{className:"w-12 h-12 text-slate-400 mx-auto mb-2"}),T.jsx("p",{className:"text-slate-600 font-medium",children:"Click to upload signature image"}),T.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"PNG, JPG up to 5MB"})]})]})}):T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm text-slate-600 text-center mb-2",children:"Draw your signature below"}),T.jsx("canvas",{ref:_,width:600,height:200,onMouseDown:C,onMouseMove:I,onMouseUp:k,onMouseLeave:k,onTouchStart:C,onTouchMove:I,onTouchEnd:k,className:"w-full h-48 bg-white border-2 border-slate-300 rounded-lg cursor-crosshair touch-none"})]})}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:U,className:"px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[T.jsx(Cc,{className:"w-4 h-4"}),"Clear"]}),T.jsx("div",{className:"flex-1"}),T.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),T.jsxs("button",{onClick:O,disabled:a==="upload"?!c:!S,className:"px-6 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx(wh,{className:"w-4 h-4"}),"Save Signature"]})]})]})}):null};var r0=function(n,e){return r0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},r0(n,e)};function A_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r0(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var gh=function(){return gh=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},gh.apply(this,arguments)};function Mc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function E_(n,e,t,i){var s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(a=(s<3?l(a):s>3?l(e,t,a):l(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function T_(n,e){return function(t,i){e(t,i,n)}}function N_(n,e,t,i,s,a){function l(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var c=i.kind,f=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&n?i.static?n:n.prototype:null,p=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),_,S=!1,b=t.length-1;b>=0;b--){var N={};for(var C in i)N[C]=C==="access"?{}:i[C];for(var C in i.access)N.access[C]=i.access[C];N.addInitializer=function(k){if(S)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(k||null))};var I=(0,t[b])(c==="accessor"?{get:p.get,set:p.set}:p[f],N);if(c==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(_=l(I.get))&&(p.get=_),(_=l(I.set))&&(p.set=_),(_=l(I.init))&&s.unshift(_)}else(_=l(I))&&(c==="field"?s.unshift(_):p[f]=_)}d&&Object.defineProperty(d,i.name,p),S=!0}function C_(n,e,t){for(var i=arguments.length>2,s=0;s<e.length;s++)t=i?e[s].call(n,t):e[s].call(n);return i?t:void 0}function R_(n){return typeof n=="symbol"?n:"".concat(n)}function k_(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function L_(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ft(n,e,t,i){function s(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{d(i.next(p))}catch(_){l(_)}}function f(p){try{d(i.throw(p))}catch(_){l(_)}}function d(p){p.done?a(p.value):s(p.value).then(c,f)}d((i=i.apply(n,e||[])).next())})}function I_(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(t=0)),t;)try{if(i=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(p){d=[6,p],s=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Rh=Object.create?(function(n,e,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,i,s)}):(function(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]});function M_(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Rh(e,n,t)}function yh(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I0(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),s,a=[],l;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(l)throw l.error}}return a}function P_(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(I0(arguments[e]));return n}function D_(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),s=0,e=0;e<t;e++)for(var a=arguments[e],l=0,c=a.length;l<c;l++,s++)i[s]=a[l];return i}function O_(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,a;i<s;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}function Nc(n){return this instanceof Nc?(this.v=n,this):new Nc(n)}function U_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(b){return function(N){return Promise.resolve(N).then(b,_)}}function c(b,N){i[b]&&(s[b]=function(C){return new Promise(function(I,k){a.push([b,C,I,k])>1||f(b,C)})},N&&(s[b]=N(s[b])))}function f(b,N){try{d(i[b](N))}catch(C){S(a[0][3],C)}}function d(b){b.value instanceof Nc?Promise.resolve(b.value.v).then(p,_):S(a[0][2],b)}function p(b){f("next",b)}function _(b){f("throw",b)}function S(b,N){b(N),a.shift(),a.length&&f(a[0][0],a[0][1])}}function B_(n){var e,t;return e={},i("next"),i("throw",function(s){throw s}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(s,a){e[s]=n[s]?function(l){return(t=!t)?{value:Nc(n[s](l)),done:!1}:a?a(l):l}:a}}function F_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yh=="function"?yh(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(l){return new Promise(function(c,f){l=n[a](l),s(c,f,l.done,l.value)})}}function s(a,l,c,f){Promise.resolve(f).then(function(d){a({value:d,done:c})},l)}}function q_(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var fk=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},s0=function(n){return s0=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},s0(n)};function j_(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=s0(n),i=0;i<t.length;i++)t[i]!=="default"&&Rh(e,n,t[i]);return fk(e,n),e}function H_(n){return n&&n.__esModule?n:{default:n}}function z_(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)}function G_(n,e,t,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t}function V_(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function $_(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(s=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:i,async:t})}else t&&n.stack.push({async:!0});return e}var dk=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function J_(n){function e(a){n.error=n.hasError?new dk(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,i=0;function s(){for(;t=n.stack.pop();)try{if(!t.async&&i===1)return i=0,n.stack.push(t),Promise.resolve().then(s);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return i|=2,Promise.resolve(a).then(s,function(l){return e(l),s()})}else i|=1}catch(l){e(l)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return s()}function Y_(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,i,s,a,l){return i?e?".jsx":".js":s&&(!a||!l)?t:s+a+"."+l.toLowerCase()+"js"}):n}const hk={__extends:A_,__assign:gh,__rest:Mc,__decorate:E_,__param:T_,__esDecorate:N_,__runInitializers:C_,__propKey:R_,__setFunctionName:k_,__metadata:L_,__awaiter:ft,__generator:I_,__createBinding:Rh,__exportStar:M_,__values:yh,__read:I0,__spread:P_,__spreadArrays:D_,__spreadArray:O_,__await:Nc,__asyncGenerator:U_,__asyncDelegator:B_,__asyncValues:F_,__makeTemplateObject:q_,__importStar:j_,__importDefault:H_,__classPrivateFieldGet:z_,__classPrivateFieldSet:G_,__classPrivateFieldIn:V_,__addDisposableResource:$_,__disposeResources:J_,__rewriteRelativeImportExtension:Y_},pk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$_,get __assign(){return gh},__asyncDelegator:B_,__asyncGenerator:U_,__asyncValues:F_,__await:Nc,__awaiter:ft,__classPrivateFieldGet:z_,__classPrivateFieldIn:V_,__classPrivateFieldSet:G_,__createBinding:Rh,__decorate:E_,__disposeResources:J_,__esDecorate:N_,__exportStar:M_,__extends:A_,__generator:I_,__importDefault:H_,__importStar:j_,__makeTemplateObject:q_,__metadata:L_,__param:T_,__propKey:R_,__read:I0,__rest:Mc,__rewriteRelativeImportExtension:Y_,__runInitializers:C_,__setFunctionName:k_,__spread:P_,__spreadArray:O_,__spreadArrays:D_,__values:yh,default:hk},Symbol.toStringTag,{value:"Module"})),mk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class M0 extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class gk extends M0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class l5 extends M0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u5 extends M0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var a0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(a0||(a0={}));class yk{constructor(e,{headers:t={},customFetch:i,region:s=a0.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=mk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ft(this,arguments,void 0,function*(t,i={}){var s;let a,l;try{const{headers:c,method:f,body:d,signal:p,timeout:_}=i;let S={},{region:b}=i;b||(b=this.region);const N=new URL(`${this.url}/${t}`);b&&b!=="any"&&(S["x-region"]=b,N.searchParams.set("forceFunctionRegion",b));let C;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",C=d):typeof d=="string"?(S["Content-Type"]="text/plain",C=d):typeof FormData<"u"&&d instanceof FormData?C=d:(S["Content-Type"]="application/json",C=JSON.stringify(d)):C=d;let I=p;_&&(l=new AbortController,a=setTimeout(()=>l.abort(),_),p?(I=l.signal,p.addEventListener("abort",()=>l.abort())):I=l.signal);const k=yield this.fetch(N.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),c),body:C,signal:I}).catch(ee=>{throw new gk(ee)}),j=k.headers.get("x-relay-error");if(j&&j==="true")throw new l5(k);if(!k.ok)throw new u5(k);let O=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),U;return O==="application/json"?U=yield k.json():O==="application/octet-stream"||O==="application/pdf"?U=yield k.blob():O==="text/event-stream"?U=k:O==="multipart/form-data"?U=yield k.formData():U=yield k.text(),{data:U,error:null,response:k}}catch(c){return{data:null,error:c,response:c instanceof u5||c instanceof l5?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var Nr={};const Pc=RS(pk);var Fd={},qd={},jd={},Hd={},zd={},Gd={},c5;function W_(){if(c5)return Gd;c5=1,Object.defineProperty(Gd,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Gd.default=n,Gd}var f5;function K_(){if(f5)return zd;f5=1,Object.defineProperty(zd,"__esModule",{value:!0});const e=Pc.__importDefault(W_());class t{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,p,_,S;let b=null,N=null,C=null,I=f.status,k=f.statusText;if(f.ok){if(this.method!=="HEAD"){const ee=await f.text();ee===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?N=ee:N=JSON.parse(ee))}const O=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(_=f.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");O&&U&&U.length>1&&(C=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(b={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,I=406,k="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const O=await f.text();try{b=JSON.parse(O),Array.isArray(b)&&f.status===404&&(N=[],b=null,I=200,k="OK")}catch{f.status===404&&O===""?(I=204,k="No Content"):b={message:O}}if(b&&this.isMaybeSingle&&(!((S=b==null?void 0:b.details)===null||S===void 0)&&S.includes("0 rows"))&&(b=null,I=200,k="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:N,count:C,status:I,statusText:k}});return this.shouldThrowOnError||(c=c.catch(f=>{var d,p,_,S,b,N;let C="";const I=f==null?void 0:f.cause;if(I){const k=(d=I==null?void 0:I.message)!==null&&d!==void 0?d:"",j=(p=I==null?void 0:I.code)!==null&&p!==void 0?p:"";C=`${(_=f==null?void 0:f.name)!==null&&_!==void 0?_:"FetchError"}: ${f==null?void 0:f.message}`,C+=`

Caused by: ${(S=I==null?void 0:I.name)!==null&&S!==void 0?S:"Error"}: ${k}`,j&&(C+=` (${j})`),I!=null&&I.stack&&(C+=`
${I.stack}`)}else C=(b=f==null?void 0:f.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(N=f==null?void 0:f.name)!==null&&N!==void 0?N:"FetchError"}: ${f==null?void 0:f.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}}return zd.default=t,zd}var d5;function X_(){if(d5)return Hd;d5=1,Object.defineProperty(Hd,"__esModule",{value:!0});const e=Pc.__importDefault(K_());class t extends e.default{select(s){let a=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:f=c}={}){const d=f?`${f}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:c=l}={}){const f=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(d,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:f=!1,format:d="text"}={}){var p;const _=[s?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),S=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${S}"; options=${_};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Hd.default=t,Hd}var h5;function P0(){if(h5)return jd;h5=1,Object.defineProperty(jd,"__esModule",{value:!0});const e=Pc.__importDefault(X_()),t=new RegExp("[,()]");class i extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}regexMatch(a,l){return this.url.searchParams.append(a,`match.${l}`),this}regexIMatch(a,l){return this.url.searchParams.append(a,`imatch.${l}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}isDistinct(a,l){return this.url.searchParams.append(a,`isdistinct.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(f=>typeof f=="string"&&t.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${d}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return jd.default=i,jd}var p5;function Z_(){if(p5)return qd;p5=1,Object.defineProperty(qd,"__esModule",{value:!0});const e=Pc.__importDefault(P0());class t{constructor(s,{headers:a={},schema:l,fetch:c}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(s,a){const{head:l=!1,count:c}=a??{},f=l?"HEAD":"GET";let d=!1;const p=(s??"*").split("").map(_=>/\s/.test(_)&&!d?"":(_==='"'&&(d=!d),_)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:l=!0}={}){var c;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(d.length>0){const p=[...new Set(d)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:f=!0}={}){var d;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const _=s.reduce((S,b)=>S.concat(Object.keys(b)),[]);if(_.length>0){const S=[...new Set(_)].map(b=>`"${b}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var a;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return qd.default=t,qd}var m5;function vk(){if(m5)return Fd;m5=1,Object.defineProperty(Fd,"__esModule",{value:!0});const n=Pc,e=n.__importDefault(Z_()),t=n.__importDefault(P0());class i{constructor(a,{headers:l={},schema:c,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:f=!1,count:d}={}){var p;let _;const S=new URL(`${this.url}/rpc/${a}`);let b;c||f?(_=c?"HEAD":"GET",Object.entries(l).filter(([C,I])=>I!==void 0).map(([C,I])=>[C,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([C,I])=>{S.searchParams.append(C,I)})):(_="POST",b=l);const N=new Headers(this.headers);return d&&N.set("Prefer",`count=${d}`),new t.default({method:_,url:S,headers:N,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Fd.default=i,Fd}var g5;function bk(){if(g5)return Nr;g5=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.PostgrestError=Nr.PostgrestBuilder=Nr.PostgrestTransformBuilder=Nr.PostgrestFilterBuilder=Nr.PostgrestQueryBuilder=Nr.PostgrestClient=void 0;const n=Pc,e=n.__importDefault(vk());Nr.PostgrestClient=e.default;const t=n.__importDefault(Z_());Nr.PostgrestQueryBuilder=t.default;const i=n.__importDefault(P0());Nr.PostgrestFilterBuilder=i.default;const s=n.__importDefault(X_());Nr.PostgrestTransformBuilder=s.default;const a=n.__importDefault(K_());Nr.PostgrestBuilder=a.default;const l=n.__importDefault(W_());return Nr.PostgrestError=l.default,Nr.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:l.default},Nr}var Q_=bk();const ew=y0(Q_),_k=CS({__proto__:null,default:ew},[Q_]),{PostgrestClient:wk,PostgrestQueryBuilder:XI,PostgrestFilterBuilder:ZI,PostgrestTransformBuilder:QI,PostgrestBuilder:eM,PostgrestError:tM}=ew||_k;class Sk{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xk="2.86.0",Ak=`realtime-js/${xk}`,tw="1.0.0",Ek="2.0.0",y5=tw,o0=1e4,Tk=1e3,Nk=100;var tu;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(tu||(tu={}));var Zi;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Zi||(Zi={}));var ba;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ba||(ba={}));var l0;(function(n){n.websocket="websocket"})(l0||(l0={}));var nu;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(nu||(nu={}));class Ck{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const s=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,i;const s=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,i){var s,a;const l=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",d=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+d.length+_.length,b=new ArrayBuffer(this.HEADER_LENGTH+S);let N=new DataView(b),C=0;N.setUint8(C++,this.KINDS.userBroadcastPush),N.setUint8(C++,f.length),N.setUint8(C++,c.length),N.setUint8(C++,l.length),N.setUint8(C++,d.length),N.setUint8(C++,_.length),N.setUint8(C++,t),Array.from(f,k=>N.setUint8(C++,k.charCodeAt(0))),Array.from(c,k=>N.setUint8(C++,k.charCodeAt(0))),Array.from(l,k=>N.setUint8(C++,k.charCodeAt(0))),Array.from(d,k=>N.setUint8(C++,k.charCodeAt(0))),Array.from(_,k=>N.setUint8(C++,k.charCodeAt(0)));var I=new Uint8Array(b.byteLength+i.byteLength);return I.set(new Uint8Array(b),0),I.set(new Uint8Array(i),b.byteLength),I.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,a,l,c,f]=i;return t({join_ref:s,ref:a,topic:l,event:c,payload:f})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,s)}}_decodeUserBroadcast(e,t,i){const s=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let f=this.HEADER_LENGTH+4;const d=i.decode(e.slice(f,f+s));f=f+s;const p=i.decode(e.slice(f,f+a));f=f+a;const _=i.decode(e.slice(f,f+l));f=f+l;const S=e.slice(f,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,N={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(N.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class nw{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $n;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})($n||($n={}));const v5=(n,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=Rk(l,n,e,s),a),{}):{}},Rk=(n,e,t,i)=>{const s=e.find(c=>c.name===n),a=s==null?void 0:s.type,l=t[n];return a&&!i.includes(a)?iw(a,l):u0(l)},iw=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Mk(e,t)}switch(n){case $n.bool:return kk(e);case $n.float4:case $n.float8:case $n.int2:case $n.int4:case $n.int8:case $n.numeric:case $n.oid:return Lk(e);case $n.json:case $n.jsonb:return Ik(e);case $n.timestamp:return Pk(e);case $n.abstime:case $n.date:case $n.daterange:case $n.int4range:case $n.int8range:case $n.money:case $n.reltime:case $n.text:case $n.time:case $n.timestamptz:case $n.timetz:case $n.tsrange:case $n.tstzrange:return u0(e);default:return u0(e)}},u0=n=>n,kk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Lk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ik=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Mk=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>iw(e,c))}return n},Pk=n=>typeof n=="string"?n.replace(" ","T"):n,rw=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xm{constructor(e,t,i={},s=o0){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var b5;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(b5||(b5={}));class Nf{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nf.syncState(this.state,s,a,l),this.pendingDiffs.forEach(f=>{this.state=Nf.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nf.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const a=this.cloneDeep(e),l=this.transformState(t),c={},f={};return this.map(a,(d,p)=>{l[d]||(f[d]=p)}),this.map(l,(d,p)=>{const _=a[d];if(_){const S=p.map(I=>I.presence_ref),b=_.map(I=>I.presence_ref),N=p.filter(I=>b.indexOf(I.presence_ref)<0),C=_.filter(I=>S.indexOf(I.presence_ref)<0);N.length>0&&(c[d]=N),C.length>0&&(f[d]=C)}else c[d]=p}),this.syncDiff(a,{joins:c,leaves:f},i,s)}static syncDiff(e,t,i,s){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(c,f)=>{var d;const p=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(f),p.length>0){const _=e[c].map(b=>b.presence_ref),S=p.filter(b=>_.indexOf(b.presence_ref)<0);e[c].unshift(...S)}i(c,p,f)}),this.map(l,(c,f)=>{let d=e[c];if(!d)return;const p=f.map(_=>_.presence_ref);d=d.filter(_=>p.indexOf(_.presence_ref)<0),e[c]=d,s(c,d,f),d.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _5;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(_5||(_5={}));var Cf;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Cf||(Cf={}));var xo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(xo||(xo={}));class D0{constructor(e,t={config:{}},i){var s,a;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Zi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new xm(this,ba.join,this.params,this.timeout),this.rejoinTimer=new nw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zi.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Zi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Zi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ba.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Nf(this),this.broadcastEndpointURL=rw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Zi.closed){const{config:{broadcast:l,presence:c,private:f}}=this.params,d=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Cf.PRESENCE]&&this.bindings[Cf.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},S={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(xo.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(xo.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var N;if(this.socket.setAuth(),b===void 0){e==null||e(xo.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,I=(N=C==null?void 0:C.length)!==null&&N!==void 0?N:0,k=[];for(let j=0;j<I;j++){const O=C[j],{filter:{event:U,schema:ee,table:oe,filter:re}}=O,se=b&&b[j];if(se&&se.event===U&&se.schema===ee&&se.table===oe&&se.filter===re)k.push(Object.assign(Object.assign({},O),{id:se.id}));else{this.unsubscribe(),this.state=Zi.errored,e==null||e(xo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(xo.SUBSCRIBED);return}}).receive("error",b=>{this.state=Zi.errored,e==null||e(xo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Zi.joined&&e===Cf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const d=await c.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,f;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ba.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new xm(this,ba.leave,{},e),i.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zi.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xm(this,e,t,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Nk){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:d,join:p}=ba;if(i&&[c,f,d,p].indexOf(l)>=0&&i!==this._joinRef())return;let S=this._onMessage(l,t,i);if(t&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var N,C,I;return((N=b.filter)===null||N===void 0?void 0:N.event)==="*"||((I=(C=b.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===l}).map(b=>b.callback(S,i)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var N,C,I,k,j,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const U=b.id,ee=(N=b.filter)===null||N===void 0?void 0:N.event;return U&&((C=t.ids)===null||C===void 0?void 0:C.includes(U))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((I=t.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const U=(j=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return U==="*"||U===((O=t==null?void 0:t.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof S=="object"&&"ids"in S){const N=S.data,{schema:C,table:I,commit_timestamp:k,type:j,errors:O}=N;S=Object.assign(Object.assign({},{schema:C,table:I,commit_timestamp:k,eventType:j,new:{},old:{},errors:O}),this._getPayloadRecords(N))}b.callback(S,i)})}_isClosed(){return this.state===Zi.closed}_isJoined(){return this.state===Zi.joined}_isJoining(){return this.state===Zi.joining}_isLeaving(){return this.state===Zi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&D0.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ba.close,{},e)}_onError(e){this._on(ba.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=v5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=v5(e.columns,e.old_record)),t}}const Am=()=>{},Vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dk=[1e3,2e3,5e3,1e4],Ok=1e4,Uk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bk{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=o0,this.transport=null,this.heartbeatIntervalMs=Vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Am,this.ref=0,this.reconnectTimer=null,this.vsn=y5,this.logger=Am,this.conn=null,this.sendBuffer=[],this.serializer=new Ck,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${l0.websocket}`,this.httpEndpoint=rw(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case tu.connecting:return nu.Connecting;case tu.open:return nu.Open;case tu.closing:return nu.Closing;default:return nu.Closed}}isConnected(){return this.connectionState()===nu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new D0(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:i,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${t} ${i} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tk,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:a,ref:l}=t,c=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${i} ${s} ${c}`.trim(),a),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tu.open||this.conn.readyState===tu.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ba.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([Uk],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const s={access_token:t,version:Ak};t&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ba.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new nw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,s,a,l,c,f,d,p,_,S,b;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:o0,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Vd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Am,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:y5,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(N=>Dk[N-1]||Ok),this.vsn){case tw:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((N,C)=>C(JSON.stringify(N))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((N,C)=>C(JSON.parse(N)));break;case Ek:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class kh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gi(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Fk extends kh{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class c0 extends kh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const O0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),qk=()=>Response,f0=n=>{if(Array.isArray(n))return n.map(t=>f0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=f0(i)}),e},jk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Hk=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),Em=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},zk=(n,e,t)=>ft(void 0,void 0,void 0,function*(){const i=yield qk();n instanceof i&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{const a=n.status||500,l=(s==null?void 0:s.statusCode)||a+"";e(new Fk(Em(s),a,l))}).catch(s=>{e(new c0(Em(s),s))}):e(new c0(Em(n),n))}),Gk=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?s:(jk(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),t))};function Uf(n,e,t,i,s,a){return ft(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,Gk(e,i,s,a)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>zk(f,c,i))})})}function If(n,e,t,i){return ft(this,void 0,void 0,function*(){return Uf(n,"GET",e,t,i)})}function va(n,e,t,i,s){return ft(this,void 0,void 0,function*(){return Uf(n,"POST",e,i,s,t)})}function d0(n,e,t,i,s){return ft(this,void 0,void 0,function*(){return Uf(n,"PUT",e,i,s,t)})}function Vk(n,e,t,i){return ft(this,void 0,void 0,function*(){return Uf(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function U0(n,e,t,i,s){return ft(this,void 0,void 0,function*(){return Uf(n,"DELETE",e,i,s,t)})}class $k{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ft(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gi(e))return{data:null,error:e};throw e}})}}var sw;class Jk{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[sw]="BlobDownloadBuilder",this.promise=null}asStream(){return new $k(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ft(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(gi(e))return{data:null,error:e};throw e}})}}sw=Symbol.toStringTag;const Yk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},w5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wk{constructor(e,t={},i,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=O0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,s){return ft(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},w5),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(f))):(a=i,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(t),p=this._getFinalPath(d),_=yield(e=="PUT"?d0:va)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}})}upload(e,t,i){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,s){return ft(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let f;const d=Object.assign({upsert:w5.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",d.cacheControl)):(f=i,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const _=yield d0(this.fetch,c.toString(),f,{headers:p});return{data:{path:a,fullPath:_.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(gi(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=yield va(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new kh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}})}update(e,t,i){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return ft(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gi(s))return{data:null,error:s};throw s}})}copy(e,t,i){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gi(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,i){return ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield va(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gi(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,i){return ft(this,void 0,void 0,function*(){try{const s=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gi(s))return{data:null,error:s};throw s}})}download(e,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),f=()=>If(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new Jk(f,this.shouldThrowOnError)}info(e){return ft(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield If(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:f0(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}})}exists(e){return ft(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Vk(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gi(i)&&i instanceof c0){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&s.push(f);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${d}`)}}}remove(e){return ft(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}list(e,t,i){return ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yk),t),{prefix:e||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gi(s))return{data:null,error:s};throw s}})}listV2(e,t){return ft(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield va(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const aw="2.86.0",ow={"X-Client-Info":`storage-js/${aw}`};class Kk{constructor(e,t={},i,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ow),t),this.fetch=O0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ft(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield If(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}getBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}createBucket(e){return ft(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gi(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return ft(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gi(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var Mf=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Xk(n,e,t){const i=new URL(e,n);if(t)for(const[s,a]of Object.entries(t))a!==void 0&&i.searchParams.set(s,a);return i.toString()}async function Zk(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Qk(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:s,body:a,headers:l}){const c=Xk(n.baseUrl,i,s),f=await Zk(n.auth),d=await e(c,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...f,...l},body:a?JSON.stringify(a):void 0}),p=await d.text(),_=(d.headers.get("content-type")||"").includes("application/json"),S=_&&p?JSON.parse(p):p;if(!d.ok){const b=_?S:void 0,N=b==null?void 0:b.error;throw new Mf((N==null?void 0:N.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:b})}return{status:d.status,headers:d.headers,data:S}}}}function $d(n){return n.join("")}var eL=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:$d(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$d(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$d(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$d(n.namespace)}`}),!0}catch(e){if(e instanceof Mf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Mf&&t.status===409)return;throw t}}};function ac(n){return n.join("")}var tL=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ac(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ac(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ac(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ac(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ac(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ac(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Mf&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Mf&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},nL=class{constructor(n){var i;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Qk({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new eL(this.client,e),this.tableOps=new tL(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class iL{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ow),t),this.fetch=O0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}listBuckets(e){return ft(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const i=t.toString(),s=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield If(this.fetch,s,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gi(t))return{data:null,error:t};throw t}})}from(e){if(!Hk(e))throw new kh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new nL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ft(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const B0={"X-Client-Info":`storage-js/${aw}`,"Content-Type":"application/json"};class lw extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ws(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Tm extends lw{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rL extends lw{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var S5;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(S5||(S5={}));const F0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),sL=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},x5=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),aL=(n,e,t)=>ft(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const s=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new Tm(x5(l),s,c))}).catch(()=>{const l=s+"",c=a.statusText||`HTTP ${s} error`;e(new Tm(c,s,l))});else{const l=s+"",c=a.statusText||`HTTP ${s} error`;e(new Tm(c,s,l))}}else e(new rL(x5(n),n))}),oL=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return i?(sL(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,Object.assign(Object.assign({},s),t)):s};function lL(n,e,t,i,s,a){return ft(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,oL(e,i,s,a)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>aL(f,c,i))})})}function Ss(n,e,t,i,s){return ft(this,void 0,void 0,function*(){return lL(n,"POST",e,i,s,t)})}class uL{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),t),this.fetch=F0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ft(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ft(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ws(i))return{data:null,error:i};throw i}})}listIndexes(e){return ft(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ft(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ws(i))return{data:null,error:i};throw i}})}}class cL{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),t),this.fetch=F0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ft(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ss(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}getVectors(e){return ft(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}listVectors(e){return ft(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ss(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}queryVectors(e){return ft(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ft(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ss(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}}class fL{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),t),this.fetch=F0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}getBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}listBuckets(){return ft(this,arguments,void 0,function*(e={}){try{return{data:yield Ss(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ft(this,void 0,void 0,function*(){try{return{data:(yield Ss(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ws(t))return{data:null,error:t};throw t}})}}class dL extends fL{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hL(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ft(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ft(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ft(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ft(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class hL extends uL{constructor(e,t,i,s){super(e,t,s),this.vectorBucketName=i}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ft(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ft(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ft(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ft(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new pL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class pL extends cL{constructor(e,t,i,s,a){super(e,t,a),this.vectorBucketName=i,this.indexName=s}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ft(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ft(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ft(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ft(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ft(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mL extends Kk{constructor(e,t={},i,s){super(e,t,i,s)}from(e){return new Wk(this.url,this.headers,e,this.fetch)}get vectors(){return new dL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iL(this.url+"/iceberg",this.headers,this.fetch)}}const gL="2.86.0";let Sf="";typeof Deno<"u"?Sf="deno":typeof document<"u"?Sf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sf="react-native":Sf="node";const yL={"X-Client-Info":`supabase-js-${Sf}/${gL}`},vL={headers:yL},bL={schema:"public"},_L={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wL={},SL=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),xL=()=>Headers,AL=(n,e,t)=>{const i=SL(t),s=xL();return async(a,l)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:n;let d=new s(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),i(a,Object.assign(Object.assign({},l),{headers:d}))}};function EL(n){return n.endsWith("/")?n:n+"/"}function TL(n,e){var t,i;const{db:s,auth:a,realtime:l,global:c}=n,{db:f,auth:d,realtime:p,global:_}=e,S={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},_),c),{headers:Object.assign(Object.assign({},(t=_==null?void 0:_.headers)!==null&&t!==void 0?t:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?S.accessToken=n.accessToken:delete S.accessToken,S}function NL(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EL(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const uw="2.86.0",pc=30*1e3,h0=3,Nm=h0*pc,CL="http://localhost:9999",RL="supabase.auth.token",kL={"X-Client-Info":`gotrue-js/${uw}`},p0="X-Supabase-Api-Version",cw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IL=600*1e3;class Pf extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function wt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class ML extends Pf{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function PL(n){return wt(n)&&n.name==="AuthApiError"}class iu extends Pf{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class yl extends Pf{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class _s extends yl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DL(n){return wt(n)&&n.name==="AuthSessionMissingError"}class oc extends yl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jd extends yl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yd extends yl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OL(n){return wt(n)&&n.name==="AuthImplicitGrantRedirectError"}class A5 extends yl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class m0 extends yl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cm(n){return wt(n)&&n.name==="AuthRetryableFetchError"}class E5 extends yl{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class g0 extends yl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T5=` 	
\r=`.split(""),UL=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<T5.length;e+=1)n[T5[e].charCodeAt(0)]=-2;for(let e=0;e<vh.length;e+=1)n[vh[e].charCodeAt(0)]=e;return n})();function N5(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(vh[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(vh[i]),e.queuedBits-=6}}function fw(n,e,t){const i=UL[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function C5(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{qL(l,i,t)};for(let l=0;l<n.length;l+=1)fw(n.charCodeAt(l),s,a);return e.join("")}function BL(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function FL(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}BL(i,e)}}function qL(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Tc(n){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)fw(n.charCodeAt(s),t,i);return new Uint8Array(e)}function jL(n){const e=[];return FL(n,t=>e.push(t)),new Uint8Array(e)}function ru(n){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};return n.forEach(s=>N5(s,t,i)),N5(null,t,i),e.join("")}function HL(n){return Math.round(Date.now()/1e3)+n}function zL(){return Symbol("auth-callback")}const mr=()=>typeof window<"u"&&typeof document<"u",Kl={tested:!1,writable:!1},dw=()=>{if(!mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kl.tested)return Kl.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Kl.tested=!0,Kl.writable=!0}catch{Kl.tested=!0,Kl.writable=!1}return Kl.writable};function GL(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const hw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),VL=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",mc=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Xl=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},dl=async(n,e)=>{await n.removeItem(e)};class Lh{constructor(){this.promise=new Lh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Lh.promiseConstructor=Promise;function Rm(n){const e=n.split(".");if(e.length!==3)throw new g0("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!LL.test(e[i]))throw new g0("JWT not in base64url format");return{header:JSON.parse(C5(e[0])),payload:JSON.parse(C5(e[1])),signature:Tc(e[2]),raw:{header:e[0],payload:e[1]}}}async function $L(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function JL(n,e){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function YL(n){return("0"+n.toString(16)).substr(-2)}function WL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let a=0;a<56;a++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,YL).join("")}async function KL(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function XL(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await KL(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lc(n,e,t=!1){const i=WL();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await mc(n,`${e}-code-verifier`,s);const a=await XL(i);return[a,i===a?"plain":"s256"]}const ZL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QL(n){const e=n.headers.get(p0);if(!e||!e.match(ZL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eI(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function tI(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uc(n){if(!nI.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function km(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iI(n,e){return new Proxy(n,{get:(t,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,s)}})}function R5(n){return JSON.parse(JSON.stringify(n))}const Ql=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rI=[502,503,504];async function k5(n){var e;if(!VL(n))throw new m0(Ql(n),0);if(rI.includes(n.status))throw new m0(Ql(n),n.status);let t;try{t=await n.json()}catch(a){throw new iu(Ql(a),a)}let i;const s=QL(n);if(s&&s.getTime()>=cw["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new E5(Ql(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new _s}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new E5(Ql(t),n.status,t.weak_password.reasons);throw new ML(Ql(t),n.status||500,i)}const sI=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function Dt(n,e,t,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[p0]||(a[p0]=cw["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await aI(n,e,t+c,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function aI(n,e,t,i,s,a){const l=sI(e,i,s,a);let c;try{c=await n(t,Object.assign({},l))}catch(f){throw console.error(f),new m0(Ql(f),0)}if(c.ok||await k5(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(f){await k5(f)}}function ya(n){var e;let t=null;uI(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=HL(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function L5(n){const e=ya(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function hl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function oI(n){return{data:n,error:null}}function lI(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:a}=n,l=Mc(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:a},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function I5(n){return n}function uI(n){return n.access_token&&n.refresh_token&&n.expires_in}const Lm=["global","local","others"];class cI{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=hw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Lm[0]){if(Lm.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lm.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:hl})}catch(i){if(wt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Mc(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lI,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(wt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hl})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,a,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:I5});if(p.error)throw p.error;const _=await p.json(),S=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(N.split(";")[1].split("=")[1]);d[`${I}Page`]=C}),d.total=parseInt(S)),{data:Object.assign(Object.assign({},_),d),error:null}}catch(d){if(wt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){uc(e);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hl})}catch(t){if(wt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){uc(e);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:hl})}catch(i){if(wt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){uc(e);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:hl})}catch(i){if(wt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){uc(e.userId);try{const{data:t,error:i}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(wt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){uc(e.userId),uc(e.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,s,a,l,c,f;try{const d={nextPage:null,lastPage:0,total:0},p=await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:I5});if(p.error)throw p.error;const _=await p.json(),S=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(N=>{const C=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(N.split(";")[1].split("=")[1]);d[`${I}Page`]=C}),d.total=parseInt(S)),{data:Object.assign(Object.assign({},_),d),error:null}}catch(d){if(wt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(wt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(wt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(wt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(wt(t))return{data:null,error:t};throw t}}}function M5(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const cc={debug:!!(globalThis&&dw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fI extends pw{}async function dI(n,e,t){cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fI(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(cc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function hI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function pI(n){return parseInt(n,16)}function mI(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function gI(n){var e;const{chainId:t,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:f,resources:d,scheme:p,uri:_,version:S}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=mw(n.address),N=p?`${p}://${i}`:i,C=n.statement?`${n.statement}
`:"",I=`${N} wants you to sign in with your Ethereum account:
${b}

${C}`;let k=`URI: ${_}
Version: ${S}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),c&&(k+=`
Not Before: ${c.toISOString()}`),f&&(k+=`
Request ID: ${f}`),d){let j=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);j+=`
- ${O}`}k+=j}return`${I}
${k}`}class Hi extends Error{constructor({message:e,code:t,cause:i,name:s}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=s??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class bh extends Hi{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function yI({error:n,options:e}){var t,i,s;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Hi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Hi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Hi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Hi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Hi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Hi({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Hi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Hi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(gw(l)){if(a.rp.id!==l)return new Hi({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Hi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Hi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Hi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Hi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function vI({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Hi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Hi({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(gw(i)){if(t.rpId!==i)return new Hi({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Hi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Hi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Hi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class bI{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _I=new bI;function wI(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:i}=n,s=Mc(n,["challenge","user","excludeCredentials"]),a=Tc(e).buffer,l=Object.assign(Object.assign({},t),{id:Tc(t.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:a,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const d=i[f];c.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:Tc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function SI(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,i=Mc(n,["challenge","allowCredentials"]),s=Tc(e).buffer,a=Object.assign(Object.assign({},i),{challenge:s});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Tc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function xI(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:ru(new Uint8Array(n.response.attestationObject)),clientDataJSON:ru(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function AI(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,i=n.getClientExtensionResults(),s=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ru(new Uint8Array(s.authenticatorData)),clientDataJSON:ru(new Uint8Array(s.clientDataJSON)),signature:ru(new Uint8Array(s.signature)),userHandle:s.userHandle?ru(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function P5(){var n,e;return!!(mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function EI(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bh("Browser returned unexpected credential type",e)}:{data:null,error:new bh("Empty credential response",e)}}catch(e){return{data:null,error:yI({error:e,options:n})}}}async function TI(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bh("Browser returned unexpected credential type",e)}:{data:null,error:new bh("Empty credential response",e)}}catch(e){return{data:null,error:vI({error:e,options:n})}}}const NI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},CI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _h(...n){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of n)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(t(l))i[a]=l;else if(e(l)){const c=i[a];e(c)?i[a]=_h(c,l):i[a]=_h(l)}else i[a]=l}return i}function RI(n,e){return _h(NI,n,e||{})}function kI(n,e){return _h(CI,n,e||{})}class LI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:s},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const f=s??_I.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${i}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=RI(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:_}=await EI({publicKey:d,signal:f});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:_}}case"request":{const d=kI(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:_}=await TI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:_}}}}catch(l){return wt(l)?{data:null,error:l}:{data:null,error:new iu("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!t)return{data:null,error:new Pf("rpId is required for WebAuthn authentication")};try{if(!P5())return{data:null,error:new iu("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:s},{request:a});if(!l)return{data:null,error:c};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:t,rpOrigins:i,credential_response:f.credential_response}})}catch(l){return wt(l)?{data:null,error:l}:{data:null,error:new iu("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!t)return{data:null,error:new Pf("rpId is required for WebAuthn registration")};try{if(!P5())return{data:null,error:new iu("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var _;return(_=p.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:s},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:t,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return wt(l)?{data:null,error:l}:{data:null,error:new iu("Unexpected error in register",l)}}}}hI();const II={url:CL,storageKey:RL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function D5(n,e,t){return await t()}const fc={};class Df{get jwks(){var e,t;return(t=(e=fc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){fc[this.storageKey]=Object.assign(Object.assign({},fc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=fc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fc[this.storageKey]=Object.assign(Object.assign({},fc[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},II),e);if(this.storageKey=a.storageKey,this.instanceID=(t=Df.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Df.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&mr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new cI({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hw(a.fetch),this.lock=a.lock||D5,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:mr()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=dI:this.lock=D5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:dw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M5(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=M5(this.memoryStorage)),mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(mr()&&(t=GL(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),mr()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(t,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),OL(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return wt(t)?this._returnResult({error:t}):this._returnResult({error:new iu("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ya}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(wt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,i,s;try{let a;if("email"in e){const{email:p,password:_,options:S}=e;let b=null,N=null;this.flowType==="pkce"&&([b,N]=await lc(this.storage,this.storageKey)),a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:p,password:_,data:(t=S==null?void 0:S.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:b,code_challenge_method:N},xform:ya})}else if("phone"in e){const{phone:p,password:_,options:S}=e;a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},channel:(s=S==null?void 0:S.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:ya})}else throw new Jd("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(wt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:L5})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:L5})}else throw new Jd("You must provide either an email or phone number and a password");const{data:i,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const a=new oc;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,s,a,l,c,f,d,p,_,S;let b,N;if("message"in e)b=e.message,N=e.signature;else{const{chain:C,wallet:I,statement:k,options:j}=e;let O;if(mr())if(typeof I=="object")O=I;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")O=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=I}const U=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href),ee=await O.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const oe=mw(ee[0]);let re=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!re){const H=await O.request({method:"eth_chainId"});re=pI(H)}const se={domain:U.host,address:oe,statement:k,uri:U.href,version:"1",chainId:re,nonce:(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=gI(se),N=await O.request({method:"personal_sign",params:[mI(b),oe]})}try{const{data:C,error:I}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:N},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ya});if(I)throw I;if(!C||!C.session||!C.user){const k=new oc;return this._returnResult({data:{user:null,session:null},error:k})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:I})}catch(C){if(wt(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var t,i,s,a,l,c,f,d,p,_,S,b;let N,C;if("message"in e)N=e.message,C=e.signature;else{const{chain:I,wallet:k,statement:j,options:O}=e;let U;if(mr())if(typeof k=="object")U=k;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))U=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=k}const ee=new URL((t=O==null?void 0:O.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in U&&U.signIn){const oe=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),j?{statement:j}:null));let re;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")re=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)re=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)N=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),C=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${ee.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(s=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((_=(p=O==null?void 0:O.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||_===void 0)&&_.length?["Resources",...O.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const oe=await U.signMessage(new TextEncoder().encode(N),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=oe}}try{const{data:I,error:k}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:ru(C)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ya});if(k)throw k;if(!I||!I.session||!I.user){const j=new oc;return this._returnResult({data:{user:null,session:null},error:j})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:k})}catch(I){if(wt(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async _exchangeCodeForSession(e){const t=await Xl(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{const{data:a,error:l}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ya});if(await dl(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new oc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(wt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:a,nonce:l}=e,c=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ya}),{data:f,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const p=new oc;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(t){if(wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,s,a,l;try{if("email"in e){const{email:c,options:f}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await lc(this.storage,this.storageKey));const{error:_}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:c,options:f}=e,{data:d,error:p}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new Jd("You must provide either an email or phone number.")}catch(c){if(wt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,i;try{let s,a;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ya});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(wt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,i,s,a,l;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await lc(this.storage,this.storageKey));const d=await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:oI});return!((a=d.data)===null||a===void 0)&&a.url&&mr()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(wt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new _s;const{error:s}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(wt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:a}=e,{error:l}=await Dt(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:s,options:a}=e,{data:l,error:c}=await Dt(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Jd("You must provide either an email or phone number and a type")}catch(t){if(wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Nm:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await Xl(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=km()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=iI(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hl}):await this._useSession(async t=>{var i,s,a;const{data:l,error:c}=t;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:hl})})}catch(t){if(wt(t))return DL(t)&&(await this._removeSession(),await dl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new _s;const l=s.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await lc(this.storage,this.storageKey));const{data:d,error:p}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:hl});if(p)throw p;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(wt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _s;const t=Date.now()/1e3;let i=t,s=!0,a=null;const{payload:l}=Rm(e.access_token);if(l.exp&&(i=l.exp,s=i<=t),s){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(wt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new _s;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!mr())throw new Yd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new A5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yd("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A5("No code detected.");const{data:j,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:f,token_type:d}=e;if(!a||!c||!l||!d)throw new Yd("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(c);let S=p+_;f&&(S=parseInt(f));const b=S-p;b*1e3<=pc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const N=S-_;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,S,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,S,p);const{data:C,error:I}=await this._getUser(a);if(I)throw I;const k={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:_,expires_at:S,refresh_token:l,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(i){if(wt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:a}=t;if(a)return this._returnResult({error:a});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(PL(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await dl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=zL(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:a},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await lc(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(wt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:s}=await this._useSession(async a=>{var l,c,f,d,p;const{data:_,error:S}=a;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return mr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(wt(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:s,data:{session:a}}=t;if(s)throw s;const{options:l,provider:c,token:f,access_token:d,nonce:p}=e,_=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:f,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ya}),{data:S,error:b}=_;return b?this._returnResult({data:{user:null,session:null},error:b}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new oc}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:b}))}catch(s){if(wt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:a,error:l}=t;if(l)throw l;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await JL(async s=>(s>0&&await $L(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ya})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Cm(a)&&Date.now()+l-i<pc})}catch(i){if(this._debug(t,"error",i),wt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),mr()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Xl(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await mc(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:km()}else if(s&&!s.user&&!s.user){const l=await Xl(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await dl(this.storage,this.storageKey+"-user"),await mc(this.storage,this.storageKey,s)):s.user=km()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nm;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Nm}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Cm(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lh;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new _s;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),wt(a)){const l={data:null,error:a};return Cm(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await mc(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const a=R5(s);await mc(this.storage,this.storageKey,a)}else{const s=R5(t);await mc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await dl(this.storage,this.storageKey),await dl(this.storage,this.storageKey+"-code-verifier"),await dl(this.storage,this.storageKey+"-user"),this.userStorage&&await dl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/pc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pc}ms, refresh threshold is ${h0} ticks`),s<=h0&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await lc(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:a}=t;return a?this._returnResult({data:null,error:a}):await Dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xI(e.webauthn.credential_response):AI(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:wI(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:SI(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?await Dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new _s})})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new _s});const l=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&mr()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(wt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new _s});const l=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&mr()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(wt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await Dt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new _s})})}catch(e){if(wt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?(await Dt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _s})})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(c=>c.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+IL>s)return i;const{data:a,error:l}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:b,error:N}=await this.getSession();if(N||!b.session)return this._returnResult({data:null,error:N});i=b.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:f}}=Rm(i);t!=null&&t.allowExpired||eI(a.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:a,header:s,signature:l},error:null}}const p=tI(s.alg),_=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,_,l,jL(`${c}.${f}`)))throw new g0("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(wt(i))return this._returnResult({data:null,error:i});throw i}}}Df.nextInstanceID={};const MI=Df;class PI extends MI{constructor(e){super(e)}}class DI{constructor(e,t,i){var s,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=NL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:bL,realtime:wL,auth:Object.assign(Object.assign({},_L),{storageKey:f}),global:vL},p=TL(i??{},d);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=AL(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new wk(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new mL(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new yk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,userStorage:a,storageKey:l,flowType:c,lock:f,debug:d,throwOnError:p},_,S){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PI({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),_),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,userStorage:a,flowType:c,lock:f,debug:d,throwOnError:p,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Bk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OI=(n,e,t)=>new DI(n,e,t);function UI(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BI="https://ydixfjehplodbdufjume.supabase.co",FI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlkaXhmamVocGxvZGJkdWZqdW1lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0NjM4MjYsImV4cCI6MjA4MDAzOTgyNn0.v_G93G3gxjMxrGhd4FG9lLFg_WCCYjWkEk2s0wat-nU",qn=OI(BI,FI),yw=We.createContext(void 0),qI=({children:n})=>{const[e,t]=We.useState(null),[i,s]=We.useState(null),[a,l]=We.useState(!0);We.useEffect(()=>{qn.auth.getSession().then(({data:{session:b}})=>{s(b),t((b==null?void 0:b.user)??null),l(!1)});const{data:{subscription:S}}=qn.auth.onAuthStateChange((b,N)=>{s(N),t((N==null?void 0:N.user)??null),l(!1)});return()=>S.unsubscribe()},[]);const c=async(S,b,N)=>{if(!S.endsWith("@filepino.com"))return{error:{message:"This system is designed only for FILEPINO, INC. users. Please use an @filepino.com email address."}};const{data:C,error:I}=await qn.auth.signUp({email:S,password:b});return!I&&C.user&&await qn.from("profiles").insert({id:C.user.id,email:S,full_name:N}),{error:I}},f=async(S,b)=>{if(!S.endsWith("@filepino.com"))return{error:{message:"This system is designed only for FILEPINO, INC. users. Please use an @filepino.com email address."}};const{error:N}=await qn.auth.signInWithPassword({email:S,password:b});return{error:N}},d=async()=>{await qn.auth.signOut(),t(null),s(null)},p=async S=>{if(!S.endsWith("@filepino.com"))return{error:{message:"This system is designed only for FILEPINO, INC. users. Please use an @filepino.com email address."}};const{error:b}=await qn.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});return{error:b}},_=async S=>{const{error:b}=await qn.auth.updateUser({password:S});return{error:b}};return T.jsx(yw.Provider,{value:{user:e,session:i,loading:a,signUp:c,signIn:f,signOut:d,resetPassword:p,updatePassword:_},children:n})},du=()=>{const n=We.useContext(yw);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},O5=({isOpen:n,onClose:e,onForgotPassword:t})=>{const[i,s]=We.useState("signin"),[a,l]=We.useState(""),[c,f]=We.useState(""),[d,p]=We.useState(""),[_,S]=We.useState(""),[b,N]=We.useState(!1),[C,I]=We.useState(!1),{signIn:k,signUp:j}=du(),O=async U=>{U.preventDefault(),S(""),I(!1),N(!0);try{if(i==="signin"){const{error:ee}=await k(a,c);if(ee)throw ee;I(!0),setTimeout(()=>e(),1e3)}else{const{error:ee}=await j(a,c,d);if(ee)throw ee;I(!0),setTimeout(()=>e(),1e3)}}catch(ee){S(ee.message||"An error occurred")}finally{N(!1)}};return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-8 m-4",children:[T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("img",{src:"/Filepino-e1737536290175.png",alt:"Filepino Logo",className:"h-16 mb-4"}),T.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Smart Transmittal Generator"}),T.jsx("p",{className:"text-sm text-slate-600 mt-2",children:i==="signin"?"Sign in to your account":"Create your account"})]}),T.jsxs("form",{onSubmit:O,className:"space-y-4",children:[i==="signup"&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),T.jsx("input",{type:"text",value:d,onChange:U=>p(U.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),T.jsx("input",{type:"email",value:a,onChange:U=>l(U.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"username@filepino.com",required:!0}),T.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Must use @filepino.com email"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),T.jsx("input",{type:"password",value:c,onChange:U=>f(U.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0,minLength:6})]}),_&&T.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:_}),C&&T.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:i==="signin"?"Successfully signed in!":"Account created successfully!"}),T.jsx("button",{type:"submit",disabled:b,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?"Loading...":i==="signin"?T.jsxs(T.Fragment,{children:[T.jsx(j5,{className:"w-5 h-5"}),"Sign In"]}):T.jsxs(T.Fragment,{children:[T.jsx(eA,{className:"w-5 h-5"}),"Sign Up"]})})]}),T.jsxs("div",{className:"mt-4 text-center space-y-2",children:[T.jsx("button",{onClick:()=>s(i==="signin"?"signup":"signin"),className:"text-blue-600 hover:underline text-sm block w-full",children:i==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"}),i==="signin"&&t&&T.jsx("button",{onClick:t,className:"text-slate-500 hover:text-blue-600 hover:underline text-sm",children:"Forgot your password?"})]})]})}):null},jI=({isOpen:n,onClose:e,onLoadTemplate:t,currentProjectDetails:i})=>{const{user:s}=du(),[a,l]=We.useState([]),[c,f]=We.useState(!1),[d,p]=We.useState(!1),[_,S]=We.useState(""),[b,N]=We.useState(!1);We.useEffect(()=>{n&&s&&C()},[n,s]);const C=async()=>{if(!s)return;f(!0);const{data:O,error:U}=await qn.from("templates").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});!U&&O&&l(O),f(!1)},I=async()=>{if(!s||!_.trim())return;p(!0);const O={sender:i.sender,senderEmail:i.senderEmail,senderContactNumber:i.senderContactNumber,senderContactDetails:i.senderContactDetails,logoBase64:i.logoBase64,department:i.department,recipientName:i.recipientName,recipientCompany:i.recipientCompany,recipientAddress:i.recipientAddress,attentionTo:i.attentionTo,contactNo:i.contactNo,purpose:i.purpose},{error:U}=await qn.from("templates").insert({user_id:s.id,name:_,department:i.department,recipient_company:i.recipientCompany,template_data:O,is_shared:b});U||(S(""),N(!1),C()),p(!1)},k=async O=>{confirm("Delete this template?")&&(await qn.from("templates").delete().eq("id",O),C())},j=O=>{t(O.template_data),e()};return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col m-4",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(gx,{className:"w-5 h-5 text-blue-600"}),"Template Manager"]}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(lu,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"p-6 border-b bg-slate-50",children:[T.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Save Current Configuration"}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("input",{type:"text",value:_,onChange:O=>S(O.target.value),placeholder:"Template name...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),T.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50",children:[T.jsx("input",{type:"checkbox",checked:b,onChange:O=>N(O.target.checked),className:"rounded"}),T.jsx("span",{className:"text-sm text-slate-700",children:"Share"})]}),T.jsxs("button",{onClick:I,disabled:!_.trim()||d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[T.jsx(wh,{className:"w-4 h-4"}),"Save"]})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[T.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Saved Templates"}),c?T.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading templates..."}):a.length===0?T.jsx("div",{className:"text-center py-8 text-slate-500",children:"No templates saved yet"}):T.jsx("div",{className:"space-y-2",children:a.map(O=>T.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-slate-200 rounded-lg hover:border-blue-300 transition-colors group",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h4",{className:"font-medium text-slate-800",children:O.name}),O.is_shared?T.jsx(Gx,{className:"w-4 h-4 text-green-600"}):T.jsx(Nx,{className:"w-4 h-4 text-slate-400"})]}),T.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[O.department&&T.jsxs("span",{children:["Dept: ",O.department]}),O.recipient_company&&T.jsxs("span",{className:"ml-3",children:["To: ",O.recipient_company]})]}),T.jsx("div",{className:"text-xs text-slate-400 mt-1",children:new Date(O.created_at).toLocaleDateString()})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>j(O),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:"Load"}),T.jsx("button",{onClick:()=>k(O.id),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:T.jsx(Cc,{className:"w-4 h-4"})})]})]},O.id))})]})]})}):null},HI=({isOpen:n,onClose:e,onLoadTransmittal:t})=>{const{user:i}=du(),[s,a]=We.useState([]),[l,c]=We.useState([]),[f,d]=We.useState(!1),[p,_]=We.useState(""),[S,b]=We.useState("all"),[N,C]=We.useState(""),[I,k]=We.useState(""),[j,O]=We.useState(!1);We.useEffect(()=>{n&&i&&U()},[n,i]),We.useEffect(()=>{ee()},[s,p,S,N,I]);const U=async()=>{if(!i)return;d(!0);const{data:H,error:le}=await qn.from("transmittals").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});!le&&H&&a(H),d(!1)},ee=()=>{let H=[...s];if(p){const le=p.toLowerCase();H=H.filter(F=>{var $,ie,ae;return(($=F.transmittal_number)==null?void 0:$.toLowerCase().includes(le))||((ie=F.recipient_company)==null?void 0:ie.toLowerCase().includes(le))||((ae=F.project_name)==null?void 0:ae.toLowerCase().includes(le))})}S!=="all"&&(H=H.filter(le=>le.status===S)),N&&(H=H.filter(le=>le.date&&le.date>=N)),I&&(H=H.filter(le=>le.date&&le.date<=I)),c(H)},oe=()=>{const H=["Transmittal Number","Date","Company","Project","Status","Items"],le=l.map(xe=>[xe.transmittal_number,xe.date||"",xe.recipient_company||"",xe.project_name||"",xe.status,Array.isArray(xe.items)?xe.items.length:0]),F=[H,...le].map(xe=>xe.join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),ie=URL.createObjectURL($),ae=document.createElement("a");ae.href=ie,ae.download=`transmittals-export-${new Date().toISOString().split("T")[0]}.csv`,ae.click()},se=(()=>{const H=s.length,le=s.reduce(($,ie)=>($[ie.status]=($[ie.status]||0)+1,$),{}),F=s.reduce(($,ie)=>$+(Array.isArray(ie.items)?ie.items.length:0),0);return{total:H,byStatus:le,totalItems:F}})();return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[85vh] overflow-hidden flex flex-col m-4",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(Mm,{className:"w-5 h-5 text-blue-600"}),"Transmittal History"]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:()=>O(!j),className:"px-4 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[T.jsx(XS,{className:"w-4 h-4"}),"Stats"]}),T.jsxs("button",{onClick:oe,className:"px-4 py-2 text-green-600 bg-green-50 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-2",children:[T.jsx(rh,{className:"w-4 h-4"}),"Export CSV"]}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(lu,{className:"w-5 h-5"})})]})]}),j&&T.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-slate-50 border-b",children:T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[T.jsx("div",{className:"text-2xl font-bold text-blue-600",children:se.total}),T.jsx("div",{className:"text-sm text-slate-600",children:"Total Transmittals"})]}),T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[T.jsx("div",{className:"text-2xl font-bold text-green-600",children:se.byStatus.sent||0}),T.jsx("div",{className:"text-sm text-slate-600",children:"Sent"})]}),T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[T.jsx("div",{className:"text-2xl font-bold text-orange-600",children:se.byStatus.pending||0}),T.jsx("div",{className:"text-sm text-slate-600",children:"Pending"})]}),T.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[T.jsx("div",{className:"text-2xl font-bold text-slate-600",children:se.totalItems}),T.jsx("div",{className:"text-sm text-slate-600",children:"Total Documents"})]})]})}),T.jsxs("div",{className:"p-6 border-b bg-slate-50 space-y-3",children:[T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("div",{className:"flex-1 relative",children:[T.jsx(qx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),T.jsx("input",{type:"text",value:p,onChange:H=>_(H.target.value),placeholder:"Search by number, company, or project...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),T.jsxs("select",{value:S,onChange:H=>b(H.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[T.jsx("option",{value:"all",children:"All Status"}),T.jsx("option",{value:"draft",children:"Draft"}),T.jsx("option",{value:"sent",children:"Sent"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"received",children:"Received"})]})]}),T.jsxs("div",{className:"flex gap-3 items-center",children:[T.jsx(WS,{className:"w-4 h-4 text-slate-500"}),T.jsx("input",{type:"date",value:N,onChange:H=>C(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"From"}),T.jsx("span",{className:"text-slate-500",children:"to"}),T.jsx("input",{type:"date",value:I,onChange:H=>k(H.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"To"}),(N||I)&&T.jsx("button",{onClick:()=>{C(""),k("")},className:"text-sm text-slate-500 hover:text-slate-700",children:"Clear dates"})]})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:f?T.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading history..."}):l.length===0?T.jsx("div",{className:"text-center py-12 text-slate-500",children:"No transmittals found"}):T.jsx("div",{className:"space-y-2",children:l.map(H=>T.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-slate-200 rounded-lg hover:border-blue-300 transition-colors",children:[T.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-4",children:[T.jsxs("div",{children:[T.jsx("div",{className:"font-mono text-sm font-semibold text-slate-800",children:H.transmittal_number}),T.jsx("div",{className:"text-xs text-slate-500",children:H.date})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-slate-700",children:H.recipient_company}),T.jsx("div",{className:"text-xs text-slate-500",children:"Company"})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-slate-700",children:H.project_name}),T.jsx("div",{className:"text-xs text-slate-500",children:"Project"})]}),T.jsx("div",{children:T.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${H.status==="sent"?"bg-green-100 text-green-700":H.status==="received"?"bg-blue-100 text-blue-700":H.status==="pending"?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-700"}`,children:H.status})}),T.jsxs("div",{className:"text-sm text-slate-600",children:[Array.isArray(H.items)?H.items.length:0," items"]})]}),T.jsx("button",{onClick:()=>t(H),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:"Load"})]},H.id))})})]})}):null},zI=({isOpen:n,onClose:e,onSelectCompany:t})=>{const{user:i}=du(),[s,a]=We.useState([]),[l,c]=We.useState(!1),[f,d]=We.useState(!1),[p,_]=We.useState({name:"",contact_details:"",primary_color:"#3B82F6",secondary_color:"#1E40AF"});We.useEffect(()=>{n&&i&&S()},[n,i]);const S=async()=>{if(!i){console.log("CompanyProfile: No user found");return}console.log("CompanyProfile: Loading companies for user:",i.id),c(!0);const{data:C,error:I}=await qn.from("companies").select("*").eq("owner_id",i.id).order("created_at",{ascending:!1});console.log("CompanyProfile: Query result:",{data:C,error:I}),!I&&C?(console.log("CompanyProfile: Setting companies:",C.length),a(C)):I&&console.error("CompanyProfile: Error loading companies:",I),c(!1)},b=async()=>{if(!i||!p.name.trim())return;const{error:C}=await qn.from("companies").insert({owner_id:i.id,name:p.name,contact_details:p.contact_details,color_scheme:{primary:p.primary_color,secondary:p.secondary_color}});C||(_({name:"",contact_details:"",primary_color:"#3B82F6",secondary_color:"#1E40AF"}),d(!1),S())},N=async C=>{confirm("Delete this company profile? This will not delete associated transmittals.")&&(await qn.from("companies").delete().eq("id",C),S())};return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col m-4",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(Wd,{className:"w-5 h-5 text-blue-600"}),"Company Profiles"]}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(lu,{className:"w-5 h-5"})})]}),f&&T.jsxs("div",{className:"p-6 border-b bg-slate-50",children:[T.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"New Company Profile"}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("input",{type:"text",value:p.name,onChange:C=>_({...p,name:C.target.value}),placeholder:"Company name...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),T.jsx("textarea",{value:p.contact_details,onChange:C=>_({...p,contact_details:C.target.value}),placeholder:"Contact details...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none h-24"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Primary Color"}),T.jsx("input",{type:"color",value:p.primary_color,onChange:C=>_({...p,primary_color:C.target.value}),className:"w-full h-10 border border-slate-300 rounded-lg cursor-pointer"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Secondary Color"}),T.jsx("input",{type:"color",value:p.secondary_color,onChange:C=>_({...p,secondary_color:C.target.value}),className:"w-full h-10 border border-slate-300 rounded-lg cursor-pointer"})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[T.jsx(wh,{className:"w-4 h-4"}),"Save"]}),T.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel"})]})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Your Companies"}),!f&&T.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[T.jsx(H5,{className:"w-4 h-4"}),"New Company"]})]}),l?T.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading companies..."}):s.length===0?T.jsx("div",{className:"text-center py-8 text-slate-500",children:"No company profiles yet"}):T.jsx("div",{className:"space-y-2",children:s.map(C=>T.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-slate-200 rounded-lg hover:border-blue-300 transition-colors",style:{borderLeftWidth:"4px",borderLeftColor:C.color_scheme.primary},children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"font-semibold text-slate-800",children:C.name}),C.contact_details&&T.jsx("p",{className:"text-sm text-slate-500 mt-1 line-clamp-2",children:C.contact_details}),T.jsxs("div",{className:"flex gap-2 mt-2",children:[T.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:C.color_scheme.primary},title:"Primary color"}),T.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:C.color_scheme.secondary},title:"Secondary color"})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>{t(C),e()},className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:"Use"}),T.jsx("button",{onClick:()=>N(C.id),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:T.jsx(Cc,{className:"w-4 h-4"})})]})]},C.id))})]})]})}):null},GI=({isOpen:n,onClose:e})=>{const{user:t}=du(),[i,s]=We.useState([]),[a,l]=We.useState(new Set),[c,f]=We.useState(!1),[d,p]=We.useState(!1);We.useEffect(()=>{n&&t&&_()},[n,t]);const _=async()=>{if(!t)return;f(!0);const{data:I,error:k}=await qn.from("transmittals").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});!k&&I&&s(I),f(!1)},S=I=>{const k=new Set(a);k.has(I)?k.delete(I):k.add(I),l(k)},b=()=>{a.size===i.length?l(new Set):l(new Set(i.map(I=>I.id)))},N=()=>{const I=i.filter(U=>a.has(U.id)),k=new bt,j=k.internal.pageSize.getWidth();k.setFontSize(18),k.setFont("helvetica","bold"),k.text("Transmittal Summary Report",j/2,20,{align:"center"}),k.setFontSize(10),k.setFont("helvetica","normal"),k.text(`Generated: ${new Date().toLocaleString()}`,j/2,28,{align:"center"}),k.text(`Total Transmittals: ${I.length}`,j/2,34,{align:"center"});const O=I.map(U=>[U.transmittal_number,U.date||"",U.recipient_company||"",U.project_name||"",U.status,Array.isArray(U.items)?U.items.length:0,U.prepared_by||""]);Wb(k,{startY:45,head:[["Number","Date","Company","Project","Status","Items","Prepared By"]],body:O,theme:"grid",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8},columnStyles:{0:{cellWidth:30},1:{cellWidth:22},2:{cellWidth:35},3:{cellWidth:35},4:{cellWidth:20},5:{cellWidth:15},6:{cellWidth:30}}}),k.save(`transmittal-summary-${new Date().toISOString().split("T")[0]}.pdf`)},C=async()=>{p(!0),alert("Bulk PDF export will generate individual PDFs for each selected transmittal. This feature requires the full PDF generation logic from your main app."),p(!1)};return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col m-4",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(Im,{className:"w-5 h-5 text-blue-600"}),"Bulk Export"]}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(lu,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"p-6 border-b bg-slate-50 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("button",{onClick:b,className:"px-4 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:a.size===i.length?"Deselect All":"Select All"}),T.jsxs("span",{className:"text-sm text-slate-600",children:[a.size," of ",i.length," selected"]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:N,disabled:a.size===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:[T.jsx(rh,{className:"w-4 h-4"}),"Summary Report"]}),T.jsxs("button",{onClick:C,disabled:a.size===0||d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center gap-2",children:[T.jsx(rh,{className:"w-4 h-4"}),d?"Exporting...":"Bulk PDFs"]})]})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?T.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading transmittals..."}):i.length===0?T.jsx("div",{className:"text-center py-12 text-slate-500",children:"No transmittals available"}):T.jsx("div",{className:"space-y-2",children:i.map(I=>T.jsxs("div",{onClick:()=>S(I.id),className:`flex items-center gap-4 p-4 border rounded-lg cursor-pointer transition-all ${a.has(I.id)?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 bg-white"}`,children:[T.jsx("div",{className:"flex-shrink-0",children:a.has(I.id)?T.jsx($x,{className:"w-5 h-5 text-blue-600"}):T.jsx(Yx,{className:"w-5 h-5 text-slate-400"})}),T.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[T.jsxs("div",{children:[T.jsx("div",{className:"font-mono text-sm font-semibold text-slate-800",children:I.transmittal_number}),T.jsx("div",{className:"text-xs text-slate-500",children:I.date})]}),T.jsx("div",{className:"text-sm text-slate-700",children:I.recipient_company}),T.jsx("div",{className:"text-sm text-slate-700",children:I.project_name}),T.jsxs("div",{className:"text-sm text-slate-600",children:[Array.isArray(I.items)?I.items.length:0," items"]})]})]},I.id))})})]})}):null};class U5{static async saveTransmittal(e,t,i){const{data:s,error:a}=await qn.from("transmittals").insert({user_id:e,company_id:i||null,transmittal_number:t.transmittal_number,status:t.status,sender:t.projectDetails.sender,sender_email:t.projectDetails.senderEmail,sender_contact_number:t.projectDetails.senderContactNumber,sender_contact_details:t.projectDetails.senderContactDetails,department:t.projectDetails.department,recipient_name:t.projectDetails.recipientName,recipient_company:t.projectDetails.recipientCompany,recipient_address:t.projectDetails.recipientAddress,attention_to:t.projectDetails.attentionTo,contact_no:t.projectDetails.contactNo,project_name:t.projectDetails.projectName,project_number:t.projectDetails.projectNumber,purpose:t.projectDetails.purpose,date:t.projectDetails.date,time_generated:t.projectDetails.timeGenerated,prepared_by:t.projectDetails.preparedBy,noted_by:t.projectDetails.notedBy,prepared_by_signature:t.projectDetails.preparedBySignature,noted_by_signature:t.projectDetails.notedBySignature,logo_base64:t.projectDetails.logoBase64,items:t.items,columns:t.columns,notes:t.notes||null,follow_up_date:t.follow_up_date||null});if(a)throw a;return s}static async updateTransmittal(e,t){const i={};t.status&&(i.status=t.status),t.projectDetails&&Object.assign(i,{sender:t.projectDetails.sender,sender_email:t.projectDetails.senderEmail,recipient_company:t.projectDetails.recipientCompany,project_name:t.projectDetails.projectName}),t.items&&(i.items=t.items),t.notes&&(i.notes=t.notes);const{data:s,error:a}=await qn.from("transmittals").update(i).eq("id",e);if(a)throw a;return s}static async updateStatus(e,t,i,s){const{data:a}=await qn.from("transmittals").select("status").eq("id",e).single();await qn.from("transmittals").update({status:t}).eq("id",e),await qn.from("transmittal_history").insert({transmittal_id:e,user_id:i,action:"status_changed",previous_status:(a==null?void 0:a.status)||null,new_status:t,notes:s||null})}static async getTransmittals(e,t){let i=qn.from("transmittals").select("*").eq("user_id",e).order("created_at",{ascending:!1});t&&(i=i.eq("company_id",t));const{data:s,error:a}=await i;if(a)throw a;return s}static async deleteTransmittal(e){const{error:t}=await qn.from("transmittals").delete().eq("id",e);if(t)throw t}}function VI(n){if(n.trim()==="")return"USR";const e=n.trim().split(/\s+/);if(e.length===1)return e[0].toUpperCase().substring(0,3).padEnd(3,"X");if(e.length===2){const[i,s]=e;return(i[0]+s[0]+s[1]).toUpperCase().padEnd(3,"X")}return e.slice(0,3).map(i=>i[0]).join("").toUpperCase().padEnd(3,"X")}async function $I(n,e){const t=new Date().getFullYear(),i=new Date().toISOString().split("T")[0].replace(/-/g,""),s=VI(e),{data:a,error:l}=await qn.from("transmittal_sequences").select("*").eq("user_id",n).eq("year",t).maybeSingle();if(l)throw console.error("Error fetching sequence:",l),l;let c=1;if(a){c=a.current_sequence+1;const{error:d}=await qn.from("transmittal_sequences").update({current_sequence:c,user_code:s}).eq("id",a.id);if(d)throw console.error("Error updating sequence:",d),d}else{const{error:d}=await qn.from("transmittal_sequences").insert({user_id:n,year:t,current_sequence:c,user_code:s});if(d)throw console.error("Error creating sequence:",d),d}const f=c.toString().padStart(4,"0");return`TR-FP-${i}-${f}-${s}`}const B5=({isOpen:n,onClose:e,mode:t})=>{const[i,s]=We.useState(""),[a,l]=We.useState(""),[c,f]=We.useState(""),[d,p]=We.useState(""),[_,S]=We.useState(""),[b,N]=We.useState(""),[C,I]=We.useState(!1),{updatePassword:k,resetPassword:j}=du(),O=async U=>{U.preventDefault(),S(""),N(""),I(!0);try{if(t==="forgot"){const{error:ee}=await j(i);if(ee)throw ee;N("Password reset link has been sent to your email. Please check your inbox."),setTimeout(()=>{s(""),e()},3e3)}else{if(c!==d)throw new Error("Passwords do not match");if(c.length<6)throw new Error("Password must be at least 6 characters long");const{error:ee}=await k(c);if(ee)throw ee;N("Password updated successfully!"),setTimeout(()=>{l(""),f(""),p(""),e()},2e3)}}catch(ee){S(ee.message||"An error occurred")}finally{I(!1)}};return n?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 m-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:t==="forgot"?T.jsxs(T.Fragment,{children:[T.jsx(hy,{className:"w-6 h-6 text-blue-600"}),"Forgot Password"]}):T.jsxs(T.Fragment,{children:[T.jsx(Rf,{className:"w-6 h-6 text-blue-600"}),"Change Password"]})}),T.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:T.jsx(lu,{className:"w-5 h-5"})})]}),t==="forgot"&&T.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),T.jsxs("form",{onSubmit:O,className:"space-y-4",children:[t==="forgot"?T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),T.jsx("input",{type:"email",value:i,onChange:U=>s(U.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"username@filepino.com",required:!0}),T.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Must use @filepino.com email"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),T.jsx("input",{type:"password",value:c,onChange:U=>f(U.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0,minLength:6})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),T.jsx("input",{type:"password",value:d,onChange:U=>p(U.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0,minLength:6})]})]}),_&&T.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:_}),b&&T.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:b}),T.jsx("button",{type:"submit",disabled:C,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:C?"Processing...":t==="forgot"?T.jsxs(T.Fragment,{children:[T.jsx(hy,{className:"w-5 h-5"}),"Send Reset Link"]}):T.jsxs(T.Fragment,{children:[T.jsx(Rf,{className:"w-5 h-5"}),"Update Password"]})})]})]})}):null};function JI(){const{user:n,loading:e,signOut:t}=du(),[i,s]=We.useState(""),[a,l]=We.useState(!1),[c,f]=We.useState([]),[d,p]=We.useState([]),[_,S]=We.useState(!1),[b,N]=We.useState(!1),[C,I]=We.useState(""),[k,j]=We.useState(!1),[O,U]=We.useState(!1),[ee,oe]=We.useState(!1),[re,se]=We.useState(!1),[H,le]=We.useState(!1),[F,$]=We.useState(!1),[ie,ae]=We.useState(!1),[xe,te]=We.useState(!1),[pe,ge]=We.useState(!1),[Ce,je]=We.useState("draft"),[Y,M]=We.useState(null),[G,W]=We.useState("idle"),[ne,ce]=We.useState([]),[ve,ke]=We.useState([{id:"qty",label:"QTY",pdfWidth:15,width:"w-[8%]"},{id:"documentType",label:"Type of Document",pdfWidth:25,width:"w-[25%]"},{id:"description",label:"Description",pdfWidth:"auto",width:"w-[40%]"},{id:"remarks",label:"Remarks",pdfWidth:40,width:"w-[20%]",minWidth:40}]),Re=`Telephone: (028) 372 5023  (02) 8478-5826
Mobile: 0917 892 2337
Email: info@filepino.com
Unit 1212 High Street South Corporate Plaza Tower 2
26th Street Bonifacio Global City, Taguig City 1634
www.filepino.com`,[he,Oe]=We.useState({sender:"FILEPINO, INC.",senderEmail:"info@filepino.com",senderContactNumber:"0917 892 2337",senderContactDetails:Re,logoBase64:null,department:"Admin",recipientName:"",recipientCompany:"",attentionTo:"",recipientAddress:"",contactNo:"",projectName:"",projectNumber:"",purpose:"",transmittalNumber:"",date:new Date().toISOString().split("T")[0],timeGenerated:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),preparedBy:"",notedBy:"",timeReleased:"",preparedBySignature:null,notedBySignature:null}),[et,Qe]=We.useState(null),ot=async()=>{if(!n)return`TR-FP-${new Date().toISOString().split("T")[0].replace(/-/g,"")}-0000-USR`;try{const{data:de}=await qn.from("profiles").select("full_name").eq("id",n.id).single(),Je=(de==null?void 0:de.full_name)||"User";return await $I(n.id,Je)}catch(de){return console.error("Error generating transmittal number:",de),`TR-FP-${new Date().toISOString().split("T")[0].replace(/-/g,"")}-0000-ERR`}};We.useEffect(()=>{(async()=>{const Je=localStorage.getItem("smart_transmittal_settings"),Me=localStorage.getItem("smart_transmittal_history"),at=localStorage.getItem("gemini_api_key")||"";I(at);const Ze=async()=>{try{const Mn=await(await fetch("/Filepino-e1737536290175.png")).blob(),Pi=new FileReader;Pi.onloadend=()=>{const Qi=Pi.result;Oe(gt=>({...gt,logoBase64:gt.logoBase64||Qi}))},Pi.readAsDataURL(Mn)}catch(tt){console.error("Failed to load default logo:",tt)}},Ye=await ot();if(Je){const tt=JSON.parse(Je);Oe(Mn=>({...Mn,...tt,date:new Date().toISOString().split("T")[0],timeGenerated:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),transmittalNumber:Ye})),tt.logoBase64||Ze()}else Oe(tt=>({...tt,transmittalNumber:Ye})),Ze();Me&&p(JSON.parse(Me))})()},[n]),We.useEffect(()=>{const de=setInterval(()=>{Oe(Je=>({...Je,timeGenerated:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}))},3e4);return()=>clearInterval(de)},[]),We.useEffect(()=>{n&&K()},[n]);const K=async()=>{if(!n){console.log("App: No user found for loading companies");return}console.log("App: Loading companies for user:",n.id);const{data:de,error:Je}=await qn.from("companies").select("*").eq("owner_id",n.id).order("created_at",{ascending:!1});console.log("App: Companies loaded:",{data:de,error:Je,count:de==null?void 0:de.length}),!Je&&de?(ce(de),console.log("App: savedCompanies state updated with",de.length,"companies")):Je&&console.error("App: Error loading companies:",Je)};We.useEffect(()=>{const de={sender:he.sender,senderEmail:he.senderEmail,senderContactNumber:he.senderContactNumber,senderContactDetails:he.senderContactDetails,logoBase64:he.logoBase64,department:he.department,preparedBy:he.preparedBy,notedBy:he.notedBy};localStorage.setItem("smart_transmittal_settings",JSON.stringify(de))},[he]);const Xe=()=>{const Je=[{id:Date.now().toString(),transmittalNumber:he.transmittalNumber,date:he.date,recipientCompany:he.recipientCompany,projectName:he.projectName,itemCount:c.length,timestamp:Date.now()},...d];p(Je),localStorage.setItem("smart_transmittal_history",JSON.stringify(Je))},qt=()=>{const de=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return Oe(Je=>({...Je,timeGenerated:de})),de},At=async(de,Je)=>{l(!0),Qe(null);try{qt();const Me=await ok(de,he.projectName,Je);f(at=>[...at,...Me])}catch(Me){Qe(Me.message||"Failed to process files")}finally{l(!1)}},Ve=()=>{const de={id:`manual-${Date.now()}`,originalFilename:"",qty:"1",documentType:"",description:"",remarks:""};f(Je=>[...Je,de])},St=(de,Je,Me)=>{f(at=>at.map(Ze=>Ze.id===de?{...Ze,[Je]:Me}:Ze))},it=de=>{f(Je=>Je.filter(Me=>Me.id!==de))},Et=de=>{ke(de)},_t=de=>{localStorage.setItem("gemini_api_key",de),I(de)},jt=de=>{Oe({...he,preparedBySignature:de})},Kt=de=>{Oe({...he,notedBySignature:de})},Ot=de=>{Oe(Je=>({...Je,...de,transmittalNumber:Je.transmittalNumber,date:Je.date,timeGenerated:Je.timeGenerated}))},Xt=de=>{Oe({sender:de.sender||"",senderEmail:de.sender_email||"",senderContactNumber:de.sender_contact_number||"",senderContactDetails:de.sender_contact_details||"",logoBase64:de.logo_base64||null,department:de.department||"",recipientName:de.recipient_name||"",recipientCompany:de.recipient_company||"",attentionTo:de.attention_to||"",recipientAddress:de.recipient_address||"",contactNo:de.contact_no||"",projectName:de.project_name||"",projectNumber:de.project_number||"",purpose:de.purpose||"",transmittalNumber:de.transmittal_number,date:de.date||new Date().toISOString().split("T")[0],timeGenerated:de.time_generated||"",preparedBy:de.prepared_by||"",notedBy:de.noted_by||"",timeReleased:"",preparedBySignature:de.prepared_by_signature||null,notedBySignature:de.noted_by_signature||null}),f(de.items||[]),ke(de.columns||ve),je(de.status||"draft"),M(de.id)},Ht=de=>{Oe(Je=>({...Je,sender:de.name,senderContactDetails:de.contact_details||Je.senderContactDetails,logoBase64:de.logo_url||Je.logoBase64})),K()},pt=de=>{const Je=ne.find(Me=>Me.id===de);Je&&Ht(Je)},Ut=async()=>{if(!n){oe(!0);return}W("syncing");try{await U5.saveTransmittal(n.id,{transmittal_number:he.transmittalNumber,status:Ce,projectDetails:{...he},items:c,columns:ve}),W("synced"),setTimeout(()=>W("idle"),2e3)}catch(de){console.error("Sync error:",de),W("error"),setTimeout(()=>W("idle"),3e3)}},mt=async de=>{je(de),n&&Y&&await U5.updateStatus(Y,de,n.id)},Jn=async()=>{if(confirm("Clear all form data except sender details? This will remove all recipient info, project details, and items.")){const de=localStorage.getItem("smart_transmittal_settings");let Je={sender:he.sender,senderEmail:he.senderEmail,senderContactNumber:he.senderContactNumber,senderContactDetails:he.senderContactDetails,logoBase64:he.logoBase64,department:he.department,preparedBy:he.preparedBy,notedBy:he.notedBy};if(de){const at=JSON.parse(de);Je={...Je,...at}}const Me=await ot();Oe({...Je,recipientName:"",recipientCompany:"",attentionTo:"",recipientAddress:"",contactNo:"",projectName:"",projectNumber:"",purpose:"",transmittalNumber:Me,date:new Date().toISOString().split("T")[0],timeGenerated:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),timeReleased:""}),f([]),Qe(null)}},Yt=de=>{var Me;const Je=(Me=de.target.files)==null?void 0:Me[0];if(Je){const at=new FileReader;at.onloadend=()=>{Oe(Ze=>({...Ze,logoBase64:at.result}))},at.readAsDataURL(Je)}},Nt=async(de,Je,Me)=>new Promise(at=>{const Ze=new Image;Ze.src=de,Ze.onload=()=>{const Ye=Math.min(Je/Ze.width,Me/Ze.height);at({width:Ze.width*Ye,height:Ze.height*Ye})},Ze.onerror=()=>at({width:0,height:0})}),Mt=()=>{const de=ve.map(tt=>tt.label),Je=c.map(tt=>ve.map(Mn=>`"${(tt[Mn.id]||"").replace(/"/g,'""')}"`).join(",")),Me=[de.join(","),...Je].join(`
`),at=new Blob([Me],{type:"text/csv;charset=utf-8;"}),Ze=URL.createObjectURL(at),Ye=document.createElement("a");Ye.href=Ze,Ye.setAttribute("download",`Transmittal-${he.transmittalNumber}.csv`),document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye)},Zt=async()=>{qt(),Xe(),setTimeout(()=>{window.print()},100)},xt=async()=>{Xe(),(await Tn(he)).save(`Transmittal-${he.transmittalNumber}.pdf`)},Tn=async de=>{const Je=qt(),Me=new bt,at=Me.internal.pageSize.getWidth(),Ze=Me.internal.pageSize.getHeight(),Ye=14;Me.setDrawColor(150,150,150);let tt=15,Mn=0;if(de.logoBase64)try{const vn=await Nt(de.logoBase64,60,25);vn.width>0&&(Me.addImage(de.logoBase64,"JPEG",Ye,tt,vn.width,vn.height),Mn=vn.height)}catch(an){console.error("Logo Error",an)}else Me.setFontSize(20),Me.setFont("times","bold"),Me.text(de.sender,Ye,tt+10),Mn=15;Me.setFontSize(9),Me.setFont("helvetica","normal");const Pi=Me.splitTextToSize(de.senderContactDetails,90);Me.text(Pi,at-Ye,tt+5,{align:"right"});const Qi=Pi.length*4,gt=Math.max(Mn,Qi),jr=tt+gt+15;Me.setFontSize(16),Me.setFont("times","bold"),Me.text("TRANSMITTAL FORM",at/2,jr,{align:"center"});const kr=jr+15,Di=7,li=35,Nn=at-2*Ye-li,Yn=[{label:"To:",value:de.recipientName},{label:"Company:",value:de.recipientCompany},{label:"Attention:",value:de.attentionTo},{label:"Address:",value:de.recipientAddress},{label:"Contact No:",value:de.contactNo}];Me.setFontSize(10),Yn.forEach((an,ni)=>{const vn=kr+ni*Di;Me.rect(Ye,vn,li,Di),Me.rect(Ye+li,vn,Nn,Di),Me.setFont("helvetica","bold"),Me.text(an.label,Ye+2,vn+5),Me.setFont("helvetica","normal"),Me.text(an.value,Ye+li+2,vn+5)}),tt=kr+Yn.length*Di+8;const ui=tt,Lr=7,Oi=[{label:"Project Name:",value:de.projectName},{label:"Project No:",value:de.projectNumber},{label:"Purpose:",value:de.purpose},{label:"Transmittal No:",value:de.transmittalNumber},{label:"Department:",value:de.department},{label:"Date:",value:de.date},{label:"Time Generated:",value:Je}];Me.setFontSize(10),Oi.forEach((an,ni)=>{const vn=ui+ni*Lr;Me.rect(Ye,vn,li,Lr),Me.rect(Ye+li,vn,Nn,Lr),Me.setFont("helvetica","bold"),Me.text(an.label,Ye+2,vn+5),Me.setFont("helvetica","normal"),Me.text(an.value,Ye+li+2,vn+5)});const Sn=ui+Oi.length*Lr+8,jn=c.map(an=>ve.map(ni=>an[ni.id]||"")),Ti={};if(ve.forEach(an=>{const ni=an.pdfWidth,vn=an.minWidth;Ti[an.id]={cellWidth:ni==="auto"?"auto":vn&&ni<vn?vn:ni,halign:an.id==="qty"?"center":"left",...an.id==="remarks"?{cellWidth:40}:{}}}),Wb(Me,{startY:Sn,head:[ve.map(an=>an.label)],body:jn,theme:"grid",headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:"bold",lineWidth:.1,lineColor:[150,150,150],halign:"center"},styles:{lineWidth:.1,lineColor:[150,150,150],textColor:[0,0,0]},columnStyles:Ti}),tt=Me.lastAutoTable.finalY+10,tt>Ze-60&&(Me.addPage(),tt=20),Me.setFontSize(9),Me.setDrawColor(150,150,150),Me.text("Prepared by:",Ye,tt),de.preparedBySignature)try{Me.addImage(de.preparedBySignature,"PNG",Ye,tt+2,40,10),Me.setFont("helvetica","normal"),Me.setFontSize(8),Me.text(de.preparedBy,Ye,tt+14),Me.setFontSize(9)}catch{Me.text(de.preparedBy,Ye,tt+8)}else Me.line(Ye,tt+12,Ye+50,tt+12),Me.text(de.preparedBy,Ye,tt+16);if(Me.text("Noted by:",Ye+60,tt),de.notedBySignature)try{Me.addImage(de.notedBySignature,"PNG",Ye+60,tt+2,40,10),Me.setFont("helvetica","normal"),Me.setFontSize(8),Me.text(de.notedBy,Ye+60,tt+14),Me.setFontSize(9)}catch{Me.text(de.notedBy,Ye+60,tt+8)}else Me.line(Ye+60,tt+12,Ye+110,tt+12),Me.text(de.notedBy,Ye+60,tt+16);Me.text("Time Released:",Ye+120,tt),Me.line(Ye+120,tt+12,Ye+170,tt+12),tt+=30,Me.setFont("helvetica","bold"),Me.text("Transmitted via:",Ye,tt),Me.setFont("helvetica","normal"),Me.text("Personal Delivery",Ye+30,tt),Me.text("Pick-up",Ye+65,tt),Me.text("Grab / Lalamove",Ye+85,tt),Me.text("Registered Mail / Private Courier",Ye+115,tt),tt+=10,Me.setFont("helvetica","italic"),Me.setFont("helvetica","normal");const yr="This is to acknowledge and confirm that the items/documents listed above are complete and in good condition.";Me.setFont("helvetica","italic"),Me.text(yr,Ye,tt),tt+=18,Me.setFont("helvetica","normal"),Me.text("Received by:",Ye,tt),Me.line(Ye+25,tt,Ye+85,tt),Me.text("Date Received:",Ye+95,tt),Me.line(Ye+125,tt,Ye+180,tt),tt+=15,Me.text("Time Received:",Ye,tt),Me.line(Ye+25,tt,Ye+85,tt),Me.text("Remarks:",Ye+95,tt),Me.line(Ye+115,tt,Ye+180,tt),tt+=10,Me.setFontSize(8),Me.setFont("helvetica","italic"),Me.setTextColor(100);const Ir=Me.splitTextToSize("For documentation purposes, please return the signed transmittal form to our office via email or courier at your earliest convenience.",at-2*Ye);Me.text(Ir,at/2,tt,{align:"center"});const vr=Me.getNumberOfPages();for(let an=1;an<=vr;an++)Me.setPage(an),Me.setFontSize(8),Me.setFont("helvetica","normal"),Me.setTextColor(0),Me.text(`Page ${an} of ${vr}`,at-Ye,Ze-10,{align:"right"});return Me};return e?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),T.jsx("p",{className:"mt-4 text-slate-600",children:"Loading..."})]})}):e?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),T.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):n?T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx(O5,{isOpen:ee,onClose:()=>oe(!1)}),T.jsx(B5,{isOpen:xe,onClose:()=>te(!1),mode:"change"}),T.jsx(ck,{isOpen:b,onClose:()=>N(!1),onSave:_t,savedKey:C}),T.jsx(o5,{isOpen:k,onClose:()=>j(!1),onSave:jt,title:"Prepared By Signature",currentSignature:he.preparedBySignature}),T.jsx(o5,{isOpen:O,onClose:()=>U(!1),onSave:Kt,title:"Noted By Signature",currentSignature:he.notedBySignature}),T.jsx(jI,{isOpen:re,onClose:()=>se(!1),onLoadTemplate:Ot,currentProjectDetails:he}),T.jsx(HI,{isOpen:H,onClose:()=>le(!1),onLoadTransmittal:Xt}),T.jsx(zI,{isOpen:F,onClose:()=>$(!1),onSelectCompany:Ht}),T.jsx(GI,{isOpen:ie,onClose:()=>ae(!1)}),T.jsx("header",{className:"bg-slate-900 text-white p-4 shadow-md no-print sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Mm,{className:"w-6 h-6 text-blue-400"}),T.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Smart Transmittal Gen"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[n?T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>se(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",title:"Templates",children:T.jsx(Wp,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>le(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",title:"Cloud History",children:T.jsx(Kp,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>$(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",title:"Company Profiles",children:T.jsx(Wd,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>ae(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",title:"Bulk Export",children:T.jsx(Im,{className:"w-4 h-4"})}),T.jsxs("button",{onClick:Ut,disabled:G==="syncing",className:`text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors ${G==="synced"?"text-green-400":G==="error"?"text-red-400":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:"Save to Cloud",children:[T.jsx(sx,{className:"w-4 h-4"}),G==="syncing"&&"...",G==="synced"&&""]}),T.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2"}),T.jsx("button",{onClick:()=>te(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",title:"Change Password",children:T.jsx(Rf,{className:"w-4 h-4"})}),T.jsxs("button",{onClick:async()=>{await t(),ce([]),M(null)},className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",children:[T.jsx(kx,{className:"w-4 h-4"}),"Sign Out"]})]}):T.jsxs("button",{onClick:()=>oe(!0),className:"text-sm flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[T.jsx(j5,{className:"w-4 h-4"}),"Sign In"]}),T.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2"}),T.jsx("button",{onClick:Jn,className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-red-400",title:"Clear Form",children:T.jsx(Cc,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>N(!0),className:"text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors text-slate-400 hover:text-white hover:bg-slate-800",title:"Settings",children:T.jsx(Hx,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>S(!_),className:`text-sm flex items-center gap-2 px-3 py-1.5 rounded-md transition-colors ${_?"bg-slate-700 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:T.jsx(Kp,{className:"w-4 h-4"})})]})]})}),T.jsx("main",{className:"flex-grow bg-slate-50 p-4 md:p-8",children:T.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[_&&T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 animate-in slide-in-from-top-4 no-print",children:[T.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(Kp,{className:"w-5 h-5 text-blue-600"}),"Transmittal History (Local Database)"]}),d.length===0?T.jsx("p",{className:"text-sm text-slate-500 italic",children:"No history yet. Generate a transmittal to save a record."}):T.jsx("div",{className:"overflow-x-auto max-h-60 overflow-y-auto",children:T.jsxs("table",{className:"w-full text-sm text-left",children:[T.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-2",children:"Transmittal #"}),T.jsx("th",{className:"px-4 py-2",children:"Date"}),T.jsx("th",{className:"px-4 py-2",children:"Recipient"}),T.jsx("th",{className:"px-4 py-2",children:"Project"}),T.jsx("th",{className:"px-4 py-2",children:"Items"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100",children:d.map(de=>T.jsxs("tr",{className:"hover:bg-slate-50",children:[T.jsx("td",{className:"px-4 py-2 font-mono text-xs",children:de.transmittalNumber}),T.jsx("td",{className:"px-4 py-2",children:de.date}),T.jsx("td",{className:"px-4 py-2",children:de.recipientCompany}),T.jsx("td",{className:"px-4 py-2",children:de.projectName}),T.jsx("td",{className:"px-4 py-2 text-center",children:de.itemCount})]},de.id))})]})})]}),n&&Y&&T.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4 no-print",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Document Status:"}),T.jsxs("select",{value:Ce,onChange:de=>mt(de.target.value),className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[T.jsx("option",{value:"draft",children:"Draft"}),T.jsx("option",{value:"sent",children:"Sent"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"received",children:"Received"})]})]}),T.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[T.jsx(Mm,{className:"w-4 h-4"}),T.jsxs("span",{children:["Status: ",c.length," items"]})]})]})}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 no-print",children:[T.jsxs("h2",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(Wp,{className:"w-5 h-5 text-blue-600"}),"Configuration"]}),T.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-100",children:[T.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"Sender Details (Auto-Saved)"}),n&&ne.length>0&&T.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[T.jsxs("label",{className:"block text-xs font-medium text-blue-700 uppercase mb-2 flex items-center gap-2",children:[T.jsx(Wd,{className:"w-4 h-4"}),"Quick Load from Saved Company (",ne.length," available)"]}),T.jsxs("select",{onChange:de=>pt(de.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none bg-white",defaultValue:"",children:[T.jsx("option",{value:"",children:"Select a company profile..."}),ne.map(de=>T.jsx("option",{value:de.id,children:de.name},de.id))]})]}),n&&ne.length===0&&T.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:T.jsxs("p",{className:"text-xs text-amber-800",children:[T.jsx("span",{className:"font-semibold",children:"Tip:"})," Save company profiles using the ",T.jsx(Wd,{className:"w-3 h-3 inline"})," Company Profiles button in the header to quickly load sender details."]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-1",children:"Company Name"}),T.jsx("input",{type:"text",value:he.sender,onChange:de=>Oe({...he,sender:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"e.g. FILEPINO"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-1",children:"Company Logo"}),T.jsxs("div",{className:"flex gap-2 items-center",children:[T.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-2 border border-slate-300 border-dashed rounded-lg cursor-pointer hover:bg-white hover:border-blue-400 transition-colors",children:[T.jsx("input",{type:"file",accept:"image/*",onChange:Yt,className:"hidden"}),T.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[T.jsx(Pm,{className:"w-4 h-4"}),he.logoBase64?"Update Logo":"Upload Logo"]})]}),he.logoBase64&&T.jsx("div",{className:"w-10 h-10 border rounded overflow-hidden bg-white flex-shrink-0",children:T.jsx("img",{src:he.logoBase64,alt:"Logo",className:"w-full h-full object-contain"})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-1",children:"Department (Sending)"}),T.jsx("input",{type:"text",value:he.department,onChange:de=>Oe({...he,department:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"e.g. Admin, Engineering"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-1",children:"Sender Email"}),T.jsx("input",{type:"text",value:he.senderEmail,onChange:de=>Oe({...he,senderEmail:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-1",children:"Sender Contact No"}),T.jsx("input",{type:"text",value:he.senderContactNumber,onChange:de=>Oe({...he,senderContactNumber:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 uppercase mb-1",children:"Header Contact Details (Preview)"}),T.jsx("textarea",{value:he.senderContactDetails,onChange:de=>Oe({...he,senderContactDetails:de.target.value}),className:"w-full h-40 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm font-mono text-right",placeholder:"Enter the full contact details block exactly as you want it to appear on the PDF."}),T.jsx("p",{className:"text-[10px] text-slate-400 mt-1 italic",children:"This text box controls exactly what prints on the top-right of the PDF."})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"Recipient Details"}),T.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Recipient Name"}),T.jsx("input",{type:"text",value:he.recipientName,onChange:de=>Oe({...he,recipientName:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"Leave blank if not needed"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Company"}),T.jsx("input",{type:"text",value:he.recipientCompany,onChange:de=>Oe({...he,recipientCompany:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Attention To"}),T.jsx("input",{type:"text",value:he.attentionTo,onChange:de=>Oe({...he,attentionTo:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Address"}),T.jsx("input",{type:"text",value:he.recipientAddress,onChange:de=>Oe({...he,recipientAddress:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Contact No."}),T.jsx("input",{type:"text",value:he.contactNo,onChange:de=>Oe({...he,contactNo:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"Project & Transmittal Info"}),T.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Project Name"}),T.jsx("input",{type:"text",value:he.projectName,onChange:de=>Oe({...he,projectName:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Purpose of Transmittal"}),T.jsx("input",{type:"text",value:he.purpose,onChange:de=>Oe({...he,purpose:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"e.g. For Billing, For Approval"})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Transmittal No. (Auto)"}),T.jsx("input",{type:"text",value:he.transmittalNumber,readOnly:!0,className:"w-full px-3 py-2 border border-slate-200 bg-slate-50 text-slate-600 rounded-lg text-sm font-mono"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Date"}),T.jsx("input",{type:"date",value:he.date,onChange:de=>Oe({...he,date:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Time (Syncs Automatically)"}),T.jsx("input",{type:"text",value:he.timeGenerated,onChange:de=>Oe({...he,timeGenerated:de.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",placeholder:"e.g. 10:00 AM"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Prepared By"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",value:he.preparedBy,onChange:de=>Oe({...he,preparedBy:de.target.value}),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm"}),T.jsx("button",{onClick:()=>j(!0),className:"px-3 py-2 bg-blue-50 border border-blue-300 rounded-lg hover:bg-blue-100 transition-colors",title:"Add Signature",children:T.jsx(sh,{className:"w-4 h-4 text-blue-600"})})]}),he.preparedBySignature&&T.jsx("div",{className:"mt-2 p-2 bg-slate-50 border border-slate-200 rounded",children:T.jsx("img",{src:he.preparedBySignature,alt:"Signature",className:"h-8 object-contain"})})]})]}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Noted By (Admin)"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",value:he.notedBy,onChange:de=>Oe({...he,notedBy:de.target.value}),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm"}),T.jsx("button",{onClick:()=>U(!0),className:"px-3 py-2 bg-blue-50 border border-blue-300 rounded-lg hover:bg-blue-100 transition-colors",title:"Add Signature",children:T.jsx(sh,{className:"w-4 h-4 text-blue-600"})})]}),he.notedBySignature&&T.jsx("div",{className:"mt-2 p-2 bg-slate-50 border border-slate-200 rounded",children:T.jsx("img",{src:he.notedBySignature,alt:"Signature",className:"h-8 object-contain"})})]})})]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 no-print",children:[T.jsxs("div",{className:"mb-4",children:[T.jsxs("h2",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[T.jsx(Wp,{className:"w-5 h-5 text-blue-600"}),"Source Files"]}),T.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Upload files, paste a list, or scan a Google Drive folder."})]}),T.jsx(lk,{isScanning:a,onProcess:At,driveId:i}),et&&T.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[T.jsx(QS,{className:"w-4 h-4"}),et]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden print:shadow-none print:border-none",children:[T.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 p-4 flex justify-between items-center no-print",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(tx,{className:"w-5 h-5 text-green-600"}),T.jsxs("span",{className:"font-semibold text-slate-700",children:["Generated Transmittal (",c.length," items)"]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:Zt,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm font-medium text-sm",children:[T.jsx(Ux,{className:"w-4 h-4"}),"Print"]}),T.jsxs("button",{onClick:Mt,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm font-medium text-sm",children:[T.jsx(Im,{className:"w-4 h-4"}),"Export CSV"]}),T.jsxs("button",{onClick:xt,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium text-sm",children:[T.jsx(rh,{className:"w-4 h-4"}),"Download PDF"]})]})]}),T.jsxs("div",{className:"p-8 pb-0",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx("div",{className:"flex-1",children:he.logoBase64&&T.jsx("img",{src:he.logoBase64,alt:"Company Logo",className:"max-h-20 w-auto object-contain"})}),T.jsx("div",{className:"flex-1 text-sm whitespace-pre-wrap text-right max-w-md",children:he.senderContactDetails})]}),T.jsx("div",{className:"text-center pb-4 mb-4",children:T.jsx("h1",{className:"text-3xl font-bold uppercase tracking-wide",children:"Transmittal Form"})}),T.jsxs("div",{className:"text-sm mb-4",children:[T.jsxs("div",{className:"grid grid-cols-[130px_1fr_100px_130px] py-1",children:[T.jsx("div",{className:"font-bold",children:"Company Name:"}),T.jsx("div",{children:he.recipientCompany}),T.jsx("div",{className:"font-bold",children:"Date:"}),T.jsx("div",{children:he.date})]}),T.jsxs("div",{className:"grid grid-cols-[130px_1fr_100px_130px] py-1",children:[T.jsx("div",{className:"font-bold",children:"Attention to:"}),T.jsx("div",{children:he.attentionTo}),T.jsx("div",{className:"font-bold",children:"Time:"}),T.jsx("div",{children:he.timeGenerated})]}),T.jsxs("div",{className:"grid grid-cols-[130px_1fr_100px_130px] py-1",children:[T.jsx("div",{className:"font-bold",children:"Address:"}),T.jsx("div",{children:he.recipientAddress}),T.jsx("div",{className:"font-bold",children:"Transmittal No:"}),T.jsx("div",{children:he.transmittalNumber})]}),T.jsxs("div",{className:"grid grid-cols-[130px_1fr] py-1",children:[T.jsx("div",{className:"font-bold",children:"Contact No:"}),T.jsx("div",{children:he.contactNo})]}),T.jsxs("div",{className:"grid grid-cols-[130px_1fr] py-1",children:[T.jsx("div",{className:"font-bold",children:"Purpose:"}),T.jsx("div",{children:he.purpose})]}),T.jsxs("div",{className:"bg-blue-50 p-1 text-center font-bold border border-slate-400 my-2",children:["The following document(s) are being sent by: ",he.department]}),T.jsxs("div",{className:"p-1 font-bold border border-slate-400 mb-4",children:["Project/Service Availed: ",T.jsx("span",{className:"font-normal ml-2",children:he.projectName})]})]})]}),T.jsx(uk,{items:c,onUpdate:St,onDelete:it,onAdd:Ve,columns:ve,onColumnReorder:Et}),T.jsxs("div",{className:"p-8 pt-4",children:[T.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-8 mb-8",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold mb-4",children:"Prepared By:"}),T.jsx("p",{className:"text-sm border-b border-slate-400 pb-1",children:he.preparedBy})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold mb-4",children:"Noted By:"}),T.jsx("p",{className:"text-sm border-b border-slate-400 pb-1",children:he.notedBy})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold mb-4",children:"Time Released:"}),T.jsx("p",{className:"text-sm border-b border-slate-400 pb-1 h-[21px]"})]})]}),T.jsxs("div",{className:"mt-8 pt-4",children:[T.jsxs("div",{className:"font-bold mb-6 flex items-center gap-6 text-sm flex-wrap",children:[T.jsx("span",{children:"Transmitted via:"}),T.jsx("span",{className:"font-normal",children:"Personal Delivery"}),T.jsx("span",{className:"font-normal",children:"Pick-up"}),T.jsx("span",{className:"font-normal",children:"Grab / Lalamove"}),T.jsx("span",{className:"font-normal",children:"Registered Mail / Private Courier"})]}),T.jsx("p",{className:"text-sm italic text-slate-700 mb-8",children:'"This is to acknowledge and confirm that the items/documents listed above are complete and in good condition."'}),T.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-12",children:[T.jsxs("div",{children:[T.jsx("div",{className:"border-b border-slate-400 h-10"}),T.jsx("p",{className:"text-xs mt-1",children:"Received By"})]}),T.jsxs("div",{children:[T.jsx("div",{className:"border-b border-slate-400 h-10"}),T.jsx("p",{className:"text-xs mt-1",children:"Date Received"})]}),T.jsxs("div",{children:[T.jsx("div",{className:"border-b border-slate-400 h-10"}),T.jsx("p",{className:"text-xs mt-1",children:"Time Received"})]}),T.jsxs("div",{children:[T.jsx("div",{className:"border-b border-slate-400 h-10"}),T.jsx("p",{className:"text-xs mt-1",children:"Remarks"})]})]}),T.jsx("div",{className:"mt-12 text-center",children:T.jsx("p",{className:"text-[10px] text-slate-500 italic",children:"For documentation purposes, please return the signed transmittal form to our office via email or courier at your earliest convenience."})})]})]})]})]})})]}):T.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:[T.jsx(O5,{isOpen:!pe,onClose:()=>{},onForgotPassword:()=>ge(!0)}),T.jsx(B5,{isOpen:pe,onClose:()=>ge(!1),mode:"forgot"})]})}const vw=document.getElementById("root");if(!vw)throw new Error("Could not find root element to mount to");const YI=jS.createRoot(vw);YI.render(T.jsx(MS.StrictMode,{children:T.jsx(qI,{children:T.jsx(JI,{})})}));export{In as _,KI as c,y0 as g};
